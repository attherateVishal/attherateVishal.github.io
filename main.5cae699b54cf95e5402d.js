(self.webpackChunkbub_the_builder=self.webpackChunkbub_the_builder||[]).push([[179],{255:rc=>{function as(Ri){return Promise.resolve().then(()=>{var rr=new Error("Cannot find module '"+Ri+"'");throw rr.code="MODULE_NOT_FOUND",rr})}as.keys=()=>[],as.resolve=as,as.id=255,rc.exports=as},676:function(rc,as){!function(Ri){"use strict";function rr(se){return Array.prototype.slice.call(se)}function Vs(se){return new Promise(function($e,Le){se.onsuccess=function(){$e(se.result)},se.onerror=function(){Le(se.error)}})}function So(se,$e,Le){var rt,Je=new Promise(function(Ei,oe){Vs(rt=se[$e].apply(se,Le)).then(Ei,oe)});return Je.request=rt,Je}function Oi(se,$e,Le){var rt=So(se,$e,Le);return rt.then(function(Je){if(Je)return new ls(Je,rt.request)})}function Ni(se,$e,Le){Le.forEach(function(rt){Object.defineProperty(se.prototype,rt,{get:function(){return this[$e][rt]},set:function(Je){this[$e][rt]=Je}})})}function Io(se,$e,Le,rt){rt.forEach(function(Je){Je in Le.prototype&&(se.prototype[Je]=function(){return So(this[$e],Je,arguments)})})}function Pi(se,$e,Le,rt){rt.forEach(function(Je){Je in Le.prototype&&(se.prototype[Je]=function(){return this[$e][Je].apply(this[$e],arguments)})})}function sc(se,$e,Le,rt){rt.forEach(function(Je){Je in Le.prototype&&(se.prototype[Je]=function(){return Oi(this[$e],Je,arguments)})})}function Ao(se){this._index=se}function ls(se,$e){this._cursor=se,this._request=$e}function pe(se){this._store=se}function To(se){this._tx=se,this.complete=new Promise(function($e,Le){se.oncomplete=function(){$e()},se.onerror=function(){Le(se.error)},se.onabort=function(){Le(se.error)}})}function Bs(se,$e,Le){this._db=se,this.oldVersion=$e,this.transaction=new To(Le)}function Nd(se){this._db=se}Ni(Ao,"_index",["name","keyPath","multiEntry","unique"]),Io(Ao,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),sc(Ao,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ni(ls,"_cursor",["direction","key","primaryKey","value"]),Io(ls,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(se){se in IDBCursor.prototype&&(ls.prototype[se]=function(){var $e=this,Le=arguments;return Promise.resolve().then(function(){return $e._cursor[se].apply($e._cursor,Le),Vs($e._request).then(function(rt){if(rt)return new ls(rt,$e._request)})})})}),pe.prototype.createIndex=function(){return new Ao(this._store.createIndex.apply(this._store,arguments))},pe.prototype.index=function(){return new Ao(this._store.index.apply(this._store,arguments))},Ni(pe,"_store",["name","keyPath","indexNames","autoIncrement"]),Io(pe,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),sc(pe,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Pi(pe,"_store",IDBObjectStore,["deleteIndex"]),To.prototype.objectStore=function(){return new pe(this._tx.objectStore.apply(this._tx,arguments))},Ni(To,"_tx",["objectStoreNames","mode"]),Pi(To,"_tx",IDBTransaction,["abort"]),Bs.prototype.createObjectStore=function(){return new pe(this._db.createObjectStore.apply(this._db,arguments))},Ni(Bs,"_db",["name","version","objectStoreNames"]),Pi(Bs,"_db",IDBDatabase,["deleteObjectStore","close"]),Nd.prototype.transaction=function(){return new To(this._db.transaction.apply(this._db,arguments))},Ni(Nd,"_db",["name","version","objectStoreNames"]),Pi(Nd,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(se){[pe,Ao].forEach(function($e){se in $e.prototype&&($e.prototype[se.replace("open","iterate")]=function(){var Le=rr(arguments),rt=Le[Le.length-1],Je=this._store||this._index,Ei=Je[se].apply(Je,Le.slice(0,-1));Ei.onsuccess=function(){rt(Ei.result)}})})}),[Ao,pe].forEach(function(se){se.prototype.getAll||(se.prototype.getAll=function($e,Le){var rt=this,Je=[];return new Promise(function(Ei){rt.iterateCursor($e,function(oe){oe?(Je.push(oe.value),void 0===Le||Je.length!=Le?oe.continue():Ei(Je)):Ei(Je)})})})}),Ri.openDb=function(se,$e,Le){var rt=So(indexedDB,"open",[se,$e]),Je=rt.request;return Je&&(Je.onupgradeneeded=function(Ei){Le&&Le(new Bs(Je.result,Ei.oldVersion,Je.transaction))}),rt.then(function(Ei){return new Nd(Ei)})},Ri.deleteDb=function(se){return So(indexedDB,"deleteDatabase",[se])},Object.defineProperty(Ri,"__esModule",{value:!0})}(as)},662:(rc,as,Ri)=>{"use strict";var rr={};function Vs(n){return"function"==typeof n}Ri.r(rr),Ri.d(rr,{FirebaseError:()=>mi,SDK_VERSION:()=>bl,_DEFAULT_ENTRY_NAME:()=>vl,_addComponent:()=>qy,_addOrOverwriteComponent:()=>GU,_apps:()=>na,_clearComponents:()=>Wce,_components:()=>Df,_getProvider:()=>Ky,_registerComponent:()=>ts,_removeServiceInstance:()=>Gce,deleteApp:()=>zU,getApp:()=>Kce,getApps:()=>Qce,initializeApp:()=>WU,onLog:()=>qU,registerVersion:()=>Ii,setLogLevel:()=>KU});let So=!1;const Oi={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else So&&console.log("RxJS: Back to a better error behavior. Thank you. <3");So=n},get useDeprecatedSynchronousErrorHandling(){return So}};function Ni(n){setTimeout(()=>{throw n},0)}const Io={closed:!0,next(n){},error(n){if(Oi.useDeprecatedSynchronousErrorHandling)throw n;Ni(n)},complete(){}},Pi=Array.isArray||(n=>n&&"number"==typeof n.length);function sc(n){return null!==n&&"object"==typeof n}const ls=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class pe{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof pe)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Vs(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof ls?To(o.errors):[o]}}if(Pi(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(sc(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof ls?e=e.concat(To(c.errors)):e.push(c)}}}if(e)throw new ls(e)}add(e){let t=e;if(!e)return pe.EMPTY;switch(typeof e){case"function":t=new pe(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof pe)){const s=t;t=new pe,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof pe){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function To(n){return n.reduce((e,t)=>e.concat(t instanceof ls?t.errors:t),[])}pe.EMPTY=((n=new pe).closed=!0,n);const Bs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class nt extends pe{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Io;break;case 1:if(!e){this.destination=Io;break}if("object"==typeof e){e instanceof nt?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Gp(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Gp(this,e,t,i)}}[Bs](){return this}static create(e,t,i){const r=new nt(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Gp extends nt{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;Vs(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==Io&&(o=Object.create(t),Vs(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Oi.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=Oi;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):Ni(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Ni(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Oi.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),Oi.useDeprecatedSynchronousErrorHandling)throw i;Ni(i)}}__tryOrSetError(e,t,i){if(!Oi.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return Oi.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Ni(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}function se(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof nt?t:null}return!0}const Le="function"==typeof Symbol&&Symbol.observable||"@@observable";function rt(n){return n}let oe=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function(n,e,t){if(n){if(n instanceof nt)return n;if(n[Bs])return n[Bs]()}return n||e||t?new nt(n,e,t):new nt(Io)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||Oi.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Oi.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){Oi.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),se(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=QM(i))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[Le](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?rt:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=QM(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function QM(n){if(n||(n=Oi.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Da=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class YM extends pe{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class JM extends nt{constructor(e){super(e),this.destination=e}}let te=(()=>{class n extends oe{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Bs](){return new JM(this)}lift(t){const i=new XM(this,this);return i.operator=t,i}next(t){if(this.closed)throw new Da;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new Da;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Da;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Da;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Da;return this.hasError?(t.error(this.thrownError),pe.EMPTY):this.isStopped?(t.complete(),pe.EMPTY):(this.observers.push(t),new YM(this,t))}asObservable(){const t=new oe;return t.source=this,t}}return n.create=(e,t)=>new XM(e,t),n})();class XM extends te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):pe.EMPTY}}function xa(n){return n&&"function"==typeof n.schedule}function he(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Jq(n,e))}}class Jq{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new Xq(e,this.project,this.thisArg))}}class Xq extends nt{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const ZM=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},Wp="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ek=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tk(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Wv=n=>{if(n&&"function"==typeof n[Le])return(n=>e=>{const t=n[Le]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ek(n))return ZM(n);if(tk(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ni),e))(n);if(n&&"function"==typeof n[Wp])return(n=>e=>{const t=n[Wp]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${sc(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function zv(n,e){return new oe(t=>{const i=new pe;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function mn(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[Le]}(n))return function(n,e){return new oe(t=>{const i=new pe;return i.add(e.schedule(()=>{const r=n[Le]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(tk(n))return function(n,e){return new oe(t=>{const i=new pe;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(ek(n))return zv(n,e);if(function(n){return n&&"function"==typeof n[Wp]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{const i=new pe;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[Wp](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof oe?n:new oe(Wv(n))}class oc extends nt{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ac extends nt{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function lc(n,e){if(e.closed)return;if(n instanceof oe)return n.subscribe(e);let t;try{t=Wv(n)(e)}catch(i){e.error(i)}return t}function yn(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(yn((r,s)=>mn(n(r,s)).pipe(he((o,a)=>e(r,o,s,a))),t)):("number"==typeof e&&(t=e),i=>i.lift(new c8(n,t)))}class c8{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u8(e,this.project,this.concurrent))}}class u8 extends ac{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new oc(this),i=this.destination;i.add(t);const r=lc(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const d8=yn;function Pd(n=Number.POSITIVE_INFINITY){return yn(rt,n)}function qv(n,e){return e?zv(n,e):new oe(ZM(n))}function cc(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return xa(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof oe?n[0]:Pd(e)(qv(n,t))}function Kv(){return function(e){return e.lift(new h8(e))}}class h8{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new f8(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class f8 extends nt{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class nk extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new pe,e.add(this.source.subscribe(new g8(this.getSubject(),this))),e.closed&&(this._connection=null,e=pe.EMPTY)),e}refCount(){return Kv()(this)}}const p8=(()=>{const n=nk.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class g8 extends JM{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ik(n,e){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof e)return i.lift(new y8(r,e));const s=Object.create(i,p8);return s.source=i,s.subjectFactory=r,s}}class y8{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(e);return s.add(t.subscribe(r)),s}}function _8(){return new te}function rk(){return n=>Kv()(ik(_8)(n))}function st(n){for(let e in n)if(n[e]===st)return e;throw Error("Could not find renamed property on target object.")}function Qv(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Yv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const v8=st({__forward_ref__:st});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ae(this())},n}function ne(n){return sk(n)?n():n}function sk(n){return"function"==typeof n&&n.hasOwnProperty(v8)&&n.__forward_ref__===Xe}class Sa extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Ce(n){return"string"==typeof n?n:null==n?"":String(n)}function si(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ce(n)}function zp(n,e){const t=e?` in ${e}`:"";throw new Sa("201",`No provider for ${si(n)} found${t}`)}function Li(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function M(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function js(n){return ok(n,qp)||ok(n,lk)}function ok(n,e){return n.hasOwnProperty(e)?n[e]:null}function ak(n){return n&&(n.hasOwnProperty(Xv)||n.hasOwnProperty(S8))?n[Xv]:null}const qp=st({\u0275prov:st}),Xv=st({\u0275inj:st}),lk=st({ngInjectableDef:st}),S8=st({ngInjectorDef:st});var ce=(()=>((ce=ce||{})[ce.Default=0]="Default",ce[ce.Host=1]="Host",ce[ce.Self=2]="Self",ce[ce.SkipSelf=4]="SkipSelf",ce[ce.Optional=8]="Optional",ce))();let Zv;function Mo(n){const e=Zv;return Zv=n,e}function ck(n,e,t){const i=js(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ce.Optional?null:void 0!==e?e:void zp(Ae(n),"Injector")}function ko(n){return{toString:n}.toString()}var sr=(()=>((sr=sr||{})[sr.OnPush=0]="OnPush",sr[sr.Default=1]="Default",sr))(),qt=(()=>((qt=qt||{})[qt.Emulated=0]="Emulated",qt[qt.None=2]="None",qt[qt.ShadowDom=3]="ShadowDom",qt))();const A8="undefined"!=typeof globalThis&&globalThis,T8="undefined"!=typeof window&&window,M8="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,lt=A8||"undefined"!=typeof global&&global||T8||M8,uc={},dt=[],Kp=st({\u0275cmp:st}),eb=st({\u0275dir:st}),tb=st({\u0275pipe:st}),uk=st({\u0275mod:st}),k8=st({\u0275loc:st}),Hs=st({\u0275fac:st}),Fd=st({__NG_ELEMENT_ID__:st});let R8=0;function xe(n){return ko(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||dt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||qt.Emulated,id:"c",styles:n.styles||dt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=R8++,i.inputs=pk(n.inputs,t),i.outputs=pk(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(dk):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(hk):null,i})}function dk(n){return oi(n)||function(n){return n[eb]||null}(n)}function hk(n){return function(n){return n[tb]||null}(n)}const fk={};function Ee(n){return ko(()=>{const e={type:n.type,bootstrap:n.bootstrap||dt,declarations:n.declarations||dt,imports:n.imports||dt,exports:n.exports||dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(fk[n.id]=n.type),e})}function pk(n,e){if(null==n)return uc;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const I=xe;function Di(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function oi(n){return n[Kp]||null}function or(n,e){const t=n[uk]||null;if(!t&&!0===e)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return t}function cs(n){return Array.isArray(n)&&"object"==typeof n[1]}function Mr(n){return Array.isArray(n)&&!0===n[1]}function rb(n){return 0!=(8&n.flags)}function Xp(n){return 2==(2&n.flags)}function Zp(n){return 1==(1&n.flags)}function kr(n){return null!==n.template}function B8(n){return 0!=(512&n[2])}function ka(n,e){return n.hasOwnProperty(Hs)?n[Hs]:null}class mk{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Pe(){return yk}function yk(n){return n.type.prototype.ngOnChanges&&(n.setInput=$8),H8}function H8(){const n=vk(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===uc)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function $8(n,e,t,i){const r=vk(n)||function(n,e){return n[_k]=e}(n,{previous:uc,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new mk(l&&l.currentValue,e,o===uc),n[i]=e}Pe.ngInherit=!0;const _k="__ngSimpleChanges__";function vk(n){return n[_k]||null}let ab;function Ft(n){return!!n.listen}const Ck={createRenderer:(n,e)=>void 0!==ab?ab:"undefined"!=typeof document?document:void 0};function Kt(n){for(;Array.isArray(n);)n=n[0];return n}function eg(n,e){return Kt(e[n])}function cr(n,e){return Kt(e[n.index])}function cb(n,e){return n.data[e]}function gc(n,e){return n[e]}function Bi(n,e){const t=e[n];return cs(t)?t:t[0]}function Ek(n){return 4==(4&n[2])}function ub(n){return 128==(128&n[2])}function Oo(n,e){return null==e?null:n[e]}function Dk(n){n[18]=0}function db(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const me={lFrame:Rk(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xk(){return me.bindingsEnabled}function R(){return me.lFrame.lView}function Ge(){return me.lFrame.tView}function Ra(n){return me.lFrame.contextLView=n,n[8]}function on(){let n=Sk();for(;null!==n&&64===n.type;)n=n.parent;return n}function Sk(){return me.lFrame.currentTNode}function us(n,e){const t=me.lFrame;t.currentTNode=n,t.isParent=e}function hb(){return me.lFrame.isParent}function fb(){me.lFrame.isParent=!1}function tg(){return me.isInCheckNoChangesMode}function ng(n){me.isInCheckNoChangesMode=n}function ai(){const n=me.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mc(){return me.lFrame.bindingIndex++}function r4(n,e){const t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,pb(e)}function pb(n){me.lFrame.currentDirectiveIndex=n}function gb(n){const e=me.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Tk(){return me.lFrame.currentQueryIndex}function mb(n){me.lFrame.currentQueryIndex=n}function o4(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Mk(n,e,t){if(t&ce.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&ce.Host||(r=o4(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=me.lFrame=kk();return i.currentTNode=e,i.lView=n,!0}function ig(n){const e=kk(),t=n[1];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function kk(){const n=me.lFrame,e=null===n?null:n.child;return null===e?Rk(n):e}function Rk(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ok(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Nk=Ok;function rg(){const n=Ok();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function li(){return me.lFrame.selectedIndex}function No(n){me.lFrame.selectedIndex=n}function Lt(){const n=me.lFrame;return cb(n.tView,n.selectedIndex)}function sg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function og(n,e,t){Pk(n,e,3,t)}function ag(n,e,t,i){(3&n[2])===t&&Pk(n,e,t,i)}function yb(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Pk(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(g4(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function g4(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class jd{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function lg(n,e,t){const i=Ft(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];vb(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Fk(n){return 3===n||4===n||6===n}function vb(n){return 64===n.charCodeAt(0)}function cg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Lk(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Lk(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Vk(n){return-1!==n}function yc(n){return 32767&n}function _c(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let bb=!0;function ug(n){const e=bb;return bb=n,e}let w4=0;function $d(n,e){const t=Cb(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,wb(i.data,n),wb(e,null),wb(i.blueprint,null));const r=dg(n,e),s=n.injectorIndex;if(Vk(r)){const o=yc(r),a=_c(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function wb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Cb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function dg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function hg(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Fd)&&(i=t[Fd]),null==i&&(i=t[Fd]=w4++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function jk(n,e,t){if(t&ce.Optional)return n;zp(e,"NodeInjector")}function Hk(n,e,t,i){if(t&ce.Optional&&void 0===i&&(i=null),0==(t&(ce.Self|ce.Host))){const r=n[9],s=Mo(void 0);try{return r?r.get(e,i,t&ce.Optional):ck(e,i,t&ce.Optional)}finally{Mo(s)}}return jk(i,e,t)}function $k(n,e,t,i=ce.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Fd)?n[Fd]:void 0;return"number"==typeof e?e>=0?255&e:D4:e}(t);if("function"==typeof s){if(!Mk(e,n,i))return i&ce.Host?jk(r,t,i):Hk(e,t,i,r);try{const o=s(i);if(null!=o||i&ce.Optional)return o;zp(t)}finally{Nk()}}else if("number"==typeof s){let o=null,a=Cb(n,e),l=-1,c=i&ce.Host?e[16][6]:null;for((-1===a||i&ce.SkipSelf)&&(l=-1===a?dg(n,e):e[a+8],-1!==l&&zk(i,!1)?(o=e[1],a=yc(l),e=_c(l,e)):a=-1);-1!==a;){const u=e[1];if(Wk(s,a,u.data)){const d=x4(a,e,t,o,i,c);if(d!==Gk)return d}l=e[a+8],-1!==l&&zk(i,e[1].data[a+8]===c)&&Wk(s,a,e)?(o=u,a=yc(l),e=_c(l,e)):a=-1}}}return Hk(e,t,i,r)}const Gk={};function D4(){return new vc(on(),R())}function x4(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=fg(a,o,t,null==i?Xp(a)&&bb:i!=o&&0!=(3&a.type),r&ce.Host&&s===a);return null!==u?Gd(e,o,u,a):Gk}function fg(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&kr(f)&&f.type===t)return l}return null}function Gd(n,e,t,i){let r=n[t];const s=e.data;if(function(n){return n instanceof jd}(r)){const o=r;o.resolving&&function(n,e){throw new Sa("200",`Circular dependency in DI detected for ${n}`)}(si(s[t]));const a=ug(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Mo(o.injectImpl):null;Mk(n,i,ce.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=yk(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Mo(l),ug(a),o.resolving=!1,Nk()}}return r}function Wk(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function zk(n,e){return!(n&ce.Self||n&ce.Host&&e)}class vc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return $k(this._tNode,this._lView,e,void 0,t)}}function X(n){return ko(()=>{const e=n.prototype.constructor,t=e[Hs]||Eb(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Hs]||Eb(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Eb(n){return sk(n)?()=>{const e=Eb(ne(n));return e&&e()}:ka(n)}function Oa(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Fk(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(on(),n)}const wc="__parameters__",Cc="__prop__metadata__";function Db(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}function Na(n,e,t){return ko(()=>{const i=Db(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(wc)?l[wc]:Object.defineProperty(l,wc,{value:[]})[wc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function xb(n,e,t,i){return ko(()=>{const r=Db(e);function s(...o){if(this instanceof s)return r.apply(this,o),this;const a=new s(...o);return function(c,u){const d=c.constructor,h=d.hasOwnProperty(Cc)?d[Cc]:Object.defineProperty(d,Cc,{value:{}})[Cc];h[u]=h.hasOwnProperty(u)&&h[u]||[],h[u].unshift(a),i&&i(c,u,...o)}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=M({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const T4=new q("AnalyzeForEntryComponents");class M4{}const Sb=xb("ContentChildren",(n,e={})=>Object.assign({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},e),M4),pg=Function;function ur(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),ur(i,e)):e!==n&&e.push(i)}return e}function hs(n,e){n.forEach(t=>Array.isArray(t)?hs(t,e):e(t))}function mg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fo(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ui(n,e,t){let i=Ec(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Ib(n,e){const t=Ec(n,e);if(t>=0)return n[1|t]}function Ec(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Kd={},Tb="__NG_DI_FLAG__",Dc="ngTempTokenPath",U4=/\n/gm,Mb="__source",kb=st({provide:String,useValue:st});let Qd;function xc(n){const e=Qd;return Qd=n,e}function H4(n,e=ce.Default){if(void 0===Qd)throw new Error("inject() must be called from an injection context");return null===Qd?ck(n,void 0,e):Qd.get(n,e&ce.Optional?null:void 0,e)}function _(n,e=ce.Default){return(Zv||H4)(ne(n),e)}const Yd=_;function Fa(n){const e=[];for(let t=0;t<n.length;t++){const i=ne(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=ce.Default;for(let o=0;o<i.length;o++){const a=i[o],l=$4(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(_(r,s))}else e.push(_(i))}return e}function Jd(n,e){return n[Tb]=e,n.prototype[Tb]=e,n}function $4(n){return n[Tb]}function Xk(n,e,t,i){const r=n[Dc];throw e[Mb]&&r.unshift(e[Mb]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ae(e);if(Array.isArray(e))r=e.map(Ae).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(U4,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Dc]=null,n}const fs=Jd(Na("Inject",n=>({token:n})),-1),vn=Jd(Na("Optional"),8),Gs=Jd(Na("SkipSelf"),4);let vg;function Ic(n){var e;return(null===(e=function(){if(void 0===vg&&(vg=null,lt.trustedTypes))try{vg=lt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return vg}())||void 0===e?void 0:e.createHTML(n))||n}class La{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class e6 extends La{getTypeName(){return"HTML"}}class t6 extends La{getTypeName(){return"Style"}}class n6 extends La{getTypeName(){return"Script"}}class i6 extends La{getTypeName(){return"URL"}}class r6 extends La{getTypeName(){return"ResourceURL"}}function ji(n){return n instanceof La?n.changingThisBreaksApplicationSecurity:n}function ps(n,e){const t=oR(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function oR(n){return n instanceof La&&n.getTypeName()||null}class u6{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ic(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class d6{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ic(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Ic(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const f6=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,p6=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function eh(n){return(n=String(n)).match(f6)||n.match(p6)?n:"unsafe:"+n}function lR(n){return(n=String(n)).split(",").map(e=>eh(e.trim())).join(", ")}function gs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function th(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const cR=gs("area,br,col,hr,img,wbr"),uR=gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dR=gs("rp,rt"),Pb=th(cR,th(uR,gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),th(dR,gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),th(dR,uR)),Fb=gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lb=gs("srcset"),hR=th(Fb,Lb,gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),g6=gs("script,style,template");class m6{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Pb.hasOwnProperty(t))return this.sanitizedSomething=!0,!g6.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!hR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Fb[a]&&(l=eh(l)),Lb[a]&&(l=lR(l)),this.buf.push(" ",o,'="',fR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Pb.hasOwnProperty(t)&&!cR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const y6=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_6=/([^\#-~ |!])/g;function fR(n){return n.replace(/&/g,"&amp;").replace(y6,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(_6,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wg;function pR(n,e){let t=null;try{wg=wg||function(n){const e=new d6(n);return function(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch(n){return!1}}()?new u6(e):e}(n);let i=e?String(e):"";t=wg.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=wg.getInertBodyElement(i)}while(i!==s);return Ic((new m6).sanitizeChildren(Vb(t)||t))}finally{if(t){const i=Vb(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Vb(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ze=(()=>((Ze=Ze||{})[Ze.NONE=0]="NONE",Ze[Ze.HTML=1]="HTML",Ze[Ze.STYLE=2]="STYLE",Ze[Ze.SCRIPT=3]="SCRIPT",Ze[Ze.URL=4]="URL",Ze[Ze.RESOURCE_URL=5]="RESOURCE_URL",Ze))();function nh(n){const e=function(){const n=R();return n&&n[12]}();return e?e.sanitize(Ze.URL,n)||"":ps(n,"URL")?ji(n):eh(Ce(n))}const yR="__ngContext__";function Yn(n,e){n[yR]=e}function Ub(n){const e=function(n){return n[yR]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Cg(n){return n.ngOriginalError}function F6(n,...e){n.error(...e)}class Rr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),r=function(n){return n&&n.ngErrorLogger||F6}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),i&&r(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(Cg(e)):null}_findOriginalError(e){let t=e&&Cg(e);for(;t&&Cg(t);)t=Cg(t);return t||null}}const SR=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();function ms(n){return n instanceof Function?n():n}var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();function $b(n,e){return undefined(n,e)}function sh(n){const e=n[3];return Mr(e)?e[3]:e}function Gb(n){return kR(n[13])}function Wb(n){return kR(n[4])}function kR(n){for(;null!==n&&!Mr(n);)n=n[4];return n}function Tc(n,e,t,i,r){if(null!=i){let s,o=!1;Mr(i)?s=i:cs(i)&&(o=!0,i=i[0]);const a=Kt(i);0===n&&null!==t?null==r?LR(e,t,a):Va(e,t,a,r||null,!0):1===n&&null!==t?Va(e,t,a,r||null,!0):2===n?function(n,e,t){const i=Dg(n,e);i&&function(n,e,t,i){Ft(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,i,r){const s=t[7];s!==Kt(t)&&Tc(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];oh(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function qb(n,e,t){return Ft(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function OR(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,db(r,-1)),t.splice(i,1)}function Kb(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&OR(r,i),e>0&&(n[t-1][4]=i[4]);const s=Pa(n,10+e);!function(n,e){oh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function NR(n,e){if(!(256&e[2])){const t=e[11];Ft(t)&&t.destroyNode&&oh(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Qb(n[1],n);for(;e;){let t=null;if(cs(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)cs(e)&&Qb(e[1],e),e=e[3];null===e&&(e=n),cs(e)&&Qb(e[1],e),t=e&&e[4]}e=t}}(e)}}function Qb(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof jd)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Kt(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Mr(e[3])){t!==e[3]&&OR(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function PR(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===qt.None||r===qt.Emulated)return null}return cr(i,t)}(n,e.parent,t)}function Va(n,e,t,i,r){Ft(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function LR(n,e,t){Ft(n)?n.appendChild(e,t):e.appendChild(t)}function VR(n,e,t,i,r){null!==i?Va(n,e,t,i,r):LR(n,e,t)}function Dg(n,e){return Ft(n)?n.parentNode(e):e.parentNode}function BR(n,e,t){return jR(n,e,t)}let jR=function(n,e,t){return 40&n.type?cr(n,t):null};function xg(n,e,t,i){const r=PR(n,i,e),s=e[11],a=BR(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)VR(s,r,t[l],a,!1);else VR(s,r,t,a,!1)}function Sg(n,e){if(null!==e){const t=e.type;if(3&t)return cr(e,n);if(4&t)return Jb(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Sg(n,i);{const r=n[e.index];return Mr(r)?Jb(-1,r):Kt(r)}}if(32&t)return $b(e,n)()||Kt(n[e.index]);{const i=$R(n,e);return null!==i?Array.isArray(i)?i[0]:Sg(sh(n[16]),i):Sg(n,e.next)}}return null}function $R(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Jb(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Sg(i,r)}return e[7]}function Xb(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Yn(Kt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)Xb(n,e,t.child,i,r,s,!1),Tc(e,n,r,a,s);else if(32&l){const c=$b(t,i);let u;for(;u=c();)Tc(e,n,r,u,s);Tc(e,n,r,a,s)}else 16&l?WR(n,e,i,t,r,s):Tc(e,n,r,a,s);t=o?t.projectionNext:t.next}}function oh(n,e,t,i,r,s){Xb(t,i,n.firstChild,e,r,s,!1)}function WR(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Tc(e,n,r,l[c],s);else Xb(n,e,l,o[3],r,s,!0)}function zR(n,e,t){Ft(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Zb(n,e,t){Ft(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function qR(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const KR="ng-template";function lK(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==qR(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function QR(n){return 4===n.type&&n.value!==KR}function cK(n,e,t){return e===(4!==n.type||t?n.value:KR)}function uK(n,e,t){let i=4;const r=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(Fk(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!cK(n,l,t)||""===l&&1===e.length){if(Or(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!lK(n.attrs,c,t)){if(Or(i))return!1;o=!0}continue}const d=dK(8&i?"class":l,r,QR(n),t);if(-1===d){if(Or(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==qR(f,c,0)||2&i&&c!==h){if(Or(i))return!1;o=!0}}}}else{if(!o&&!Or(i)&&!Or(l))return!1;if(o&&Or(l))continue;o=!1,i=l|1&i}}return Or(i)||o}function Or(n){return 0==(1&n)}function dK(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function YR(n,e,t=!1){for(let i=0;i<e.length;i++)if(uK(n,e[i],t))return!0;return!1}function gK(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function JR(n,e){return n?":not("+e.trim()+")":e}function mK(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Or(o)&&(e+=JR(s,r),r=""),i=o,s=s||!Or(i);t++}return""!==r&&(e+=JR(s,r)),e}const _e={};function Re(n){XR(Ge(),R(),li()+n,tg())}function XR(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&og(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ag(e,s,0,t)}No(t)}function Ig(n,e){return n<<17|e<<2}function Nr(n){return n>>17&32767}function ew(n){return 2|n}function Ws(n){return(131068&n)>>2}function tw(n,e){return-131069&n|e<<2}function nw(n){return 1|n}function lO(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];mb(r),o.contentQueries(2,e[s],s)}}}function ah(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Dk(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Mc(n,e,t,i,r){let s=n.data[e];if(null===s)s=function(n,e,t,i,r){const s=Sk(),o=hb(),l=n.data[e]=function(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),me.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function(){const n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return us(s,!0),s}function kc(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function lh(n,e,t){ig(e);try{const i=n.viewQuery;null!==i&&_w(1,i,t);const r=n.template;null!==r&&cO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lO(n,e),n.staticViewQueries&&_w(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)QK(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,rg()}}function Rc(n,e,t,i){const r=e[2];if(256==(256&r))return;ig(e);const s=tg();try{Dk(e),function(n){me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cO(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&og(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ag(e,c,0,null),yb(e,0)}if(function(n){for(let e=Gb(n);null!==e;e=Wb(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&db(s,1),r[2]|=1024}}}(e),function(n){for(let e=Gb(n);null!==e;e=Wb(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];ub(i)&&Rc(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&lO(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&og(e,c)}else{const c=n.contentHooks;null!==c&&ag(e,c,1),yb(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)No(~r);else{const s=r,o=t[++i],a=t[++i];r4(o,s),a(2,e[s])}}}finally{No(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)KK(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&_w(2,l,i),!s)if(o){const c=n.viewCheckHooks;null!==c&&og(e,c)}else{const c=n.viewHooks;null!==c&&ag(e,c,2),yb(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,db(e[3],-1))}finally{rg()}}function TK(n,e,t,i){const r=e[10],s=!tg(),o=Ek(e);try{s&&!o&&r.begin&&r.begin(),o&&lh(n,e,i),Rc(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function cO(n,e,t,i,r){const s=li(),o=2&i;try{No(-1),o&&e.length>20&&XR(n,e,20,tg()),t(i,r)}finally{No(s)}}function uw(n,e,t){!xk()||(function(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||$d(t,e),Yn(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=kr(l);c&&$K(e,t,l);const u=Gd(e,n,a,t);Yn(u,e),null!==o&&GK(0,a-r,u,l,0,o),c&&(Bi(t.index,e)[8]=u)}}(n,e,t,cr(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=me.lFrame.currentDirectiveIndex;try{No(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];pb(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&_O(c,u)}}finally{No(-1),pb(a)}}(n,e,t))}function dw(n,e,t=cr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function dO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Mg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Mg(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:_e);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function pO(n,e,t,i){const r=DO(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&xO(n).push(i,r.length-1))}function gO(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function $i(n,e,t,i,r,s,o,a){const l=cr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(AO(n,t,u,i,r),Xp(e)&&function(n,e){const t=Bi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,Ft(s)?s.setProperty(l,i,r):vb(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function hw(n,e,t,i){let r=!1;if(xk()){const s=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];YR(t,o.selectors,!1)&&(r||(r=[]),hg($d(t,e),n,o.type),kr(o)?(vO(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,bO(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=kc(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=cg(t.mergedAttrs,d.hostAttrs),wO(n,t,e,c,d),HK(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||QR(e)?null:WK(d,s);o.push(h),a=gO(d,c,a),l=gO(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Sa("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=cg(t.mergedAttrs,t.attrs),r}function yO(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function _O(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function vO(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function HK(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;kr(e)&&(t[""]=n)}}function bO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function wO(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=ka(r.type)),o=new jd(s,kr(r),null);n.blueprint[i]=o,t[i]=o,yO(n,e,0,i,kc(n,t,r.hostVars,_e),r)}function $K(n,e,t){const i=cr(e,n),r=dO(t),s=n[10],o=kg(n,ah(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function ys(n,e,t,i,r,s){const o=cr(n,e);!function(n,e,t,i,r,s,o){if(null==s)Ft(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?Ce(s):o(s,i||"",r);Ft(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function GK(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function WK(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function CO(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function KK(n,e){const t=Bi(e,n);if(ub(t)){const i=t[1];80&t[2]?Rc(i,t,i.template,t[8]):t[5]>0&&pw(t)}}function pw(n){for(let i=Gb(n);null!==i;i=Wb(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Rc(o,s,o.template,s[8])}else s[5]>0&&pw(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Bi(t[i],n);ub(r)&&r[5]>0&&pw(r)}}function QK(n,e){const t=Bi(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),lh(i,t,t[8])}function kg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function gw(n){for(;n;){n[2]|=64;const e=sh(n);if(B8(n)&&!e)return n;n=e}return null}function yw(n,e,t){const i=e[10];i.begin&&i.begin();try{Rc(n,e,n.template,t)}catch(r){throw IO(e,r),r}finally{i.end&&i.end()}}function EO(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Ub(t),r=i[1];TK(r,i,r.template,t)}}(n[8])}function _w(n,e,t){mb(0),e(n,t)}const e5=(()=>Promise.resolve(null))();function DO(n){return n[7]||(n[7]=[])}function xO(n){return n.cleanup||(n.cleanup=[])}function SO(n,e,t){return(null===n||kr(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function IO(n,e){const t=n[9],i=t?t.get(Rr,null):null;i&&i.handleError(e)}function AO(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function qs(n,e,t){const i=eg(e,n);!function(n,e,t){Ft(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function Rg(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Yv(r,a):2==s&&(i=Yv(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Ba=new q("INJECTOR",-1);class TO{get(e,t=Kd){if(t===Kd){const i=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw i.name="NullInjectorError",i}return t}}const ch=new q("Set Injector scope."),uh={},i5={};let vw;function MO(){return void 0===vw&&(vw=new TO),vw}function kO(n,e=null,t=null,i){return new s5(n,t,e||MO(),i)}class s5{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&hs(t,a=>this.processProvider(a,e,t)),hs([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ba,Oc(void 0,this));const o=this.records.get(ch);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:Ae(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Kd,i=ce.Default){this.assertNotDestroyed();const r=xc(this),s=Mo(void 0);try{if(!(i&ce.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof q}(e)&&js(e);a=l&&this.injectableDefInScope(l)?Oc(bw(e),uh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ce.Self?MO():this.parent).get(e,t=i&ce.Optional&&t===Kd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Dc]=o[Dc]||[]).unshift(Ae(e)),r)throw o;return Xk(o,e,"R3InjectorError",this.source)}throw o}finally{Mo(s),xc(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(Ae(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=ne(e)))return!1;let r=ak(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=ak(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{hs(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];hs(f,p=>this.processProvider(p,h,f||dt))}}this.injectorDefTypes.add(o);const l=ka(o)||(()=>new o);this.records.set(o,Oc(l,uh));const c=r.providers;if(null!=c&&!a){const u=e;hs(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=Nc(e=ne(e))?e:ne(e&&e.provide);const s=function(n,e,t){return OO(n)?Oc(void 0,n.useValue):Oc(RO(n),uh)}(e);if(Nc(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Oc(void 0,uh,!0),o.factory=()=>Fa(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===uh&&(t.value=i5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function bw(n){const e=js(n),t=null!==e?e.factory:ka(n);if(null!==t)return t;if(n instanceof q)throw new Error(`Token ${Ae(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=Fo(e,"?");throw new Error(`Can't resolve all parameters for ${Ae(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[qp]||n[lk]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function RO(n,e,t){let i;if(Nc(n)){const r=ne(n);return ka(r)||bw(r)}if(OO(n))i=()=>ne(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Fa(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>_(ne(n.useExisting));else{const r=ne(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ka(r)||bw(r);i=()=>new r(...Fa(n.deps))}return i}function Oc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OO(n){return null!==n&&"object"==typeof n&&kb in n}function Nc(n){return"function"==typeof n}const NO=function(n,e,t){return function(n,e=null,t=null,i){const r=kO(n,e,t,i);return r._resolveInjectorDefTypes(),r}({name:t},e,n,t)};let We=(()=>{class n{static create(t,i){return Array.isArray(t)?NO(t,i,""):NO(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Kd,n.NULL=new TO,n.\u0275prov=M({token:n,providedIn:"any",factory:()=>_(Ba)}),n.__NG_ELEMENT_ID__=-1,n})();function S5(n,e){sg(Ub(n)[1],on())}function P(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(kr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Sw(n.inputs),o.declaredInputs=Sw(n.declaredInputs),o.outputs=Sw(n.outputs);const a=r.hostBindings;a&&M5(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&A5(n,l),c&&T5(n,c),Qv(n.inputs,r.inputs),Qv(n.declaredInputs,r.declaredInputs),Qv(n.outputs,r.outputs),kr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===P&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=cg(r.hostAttrs,t=cg(t,r.hostAttrs))}}(i)}function Sw(n){return n===uc?{}:n===dt?[]:n}function A5(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function T5(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function M5(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Og=null;function Pc(){if(!Og){const n=lt.Symbol;if(n&&n.iterator)Og=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Og=i)}}}return Og}class Fr{constructor(e){this.wrapped=e}static wrap(e){return new Fr(e)}static unwrap(e){return Fr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Fr}}function hh(n){return!!Iw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Pc()in n)}function Iw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _s(n,e,t){return n[e]=t}function Jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ua(n,e,t,i){const r=Jn(n,e,t);return Jn(n,e+1,i)||r}function Vt(n,e,t,i){const r=R();return Jn(r,mc(),e)&&(Ge(),ys(Lt(),r,n,e,t,i)),Vt}function Lr(n,e,t,i,r,s,o,a){const l=R(),c=Ge(),u=n+20,d=c.firstCreatePass?function(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Mc(e,n,4,o||null,Oo(c,a));hw(e,t,u,Oo(c,l)),sg(e,u);const d=u.tViews=Mg(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];us(d,!1);const h=l[11].createComment("");xg(c,l,h,d),Yn(h,l),kg(l,l[u]=CO(h,l,h,d)),Zp(d)&&uw(c,l,d),null!=o&&dw(l,d,a)}function Aw(n){return gc(me.lFrame.contextLView,20+n)}function g(n,e=ce.Default){const t=R();return null===t?_(n,e):$k(on(),t,ne(n),e)}function ht(n,e,t){const i=R();return Jn(i,mc(),e)&&$i(Ge(),Lt(),i,n,e,i[11],t,!1),ht}function Ow(n,e,t,i,r){const o=r?"class":"style";AO(n,t,e.inputs[o],o,i)}function C(n,e,t,i){const r=R(),s=Ge(),o=20+n,a=r[11],l=r[o]=qb(a,e,me.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,i,r,s,o){const a=e.consts,c=Mc(e,n,2,r,Oo(a,s));return hw(e,t,c,Oo(a,o)),null!==c.attrs&&Rg(c,c.attrs,!1),null!==c.mergedAttrs&&Rg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];us(c,!0);const u=c.mergedAttrs;null!==u&&lg(a,l,u);const d=c.classes;null!==d&&Zb(a,l,d);const h=c.styles;null!==h&&zR(a,l,h),64!=(64&c.flags)&&xg(s,r,l,c),0===me.lFrame.elementDepthCount&&Yn(l,r),me.lFrame.elementDepthCount++,Zp(c)&&(uw(s,r,c),function(n,e,t){if(rb(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,r)),null!==i&&dw(r,c)}function E(){let n=on();hb()?fb():(n=n.parent,us(n,!1));const e=n;me.lFrame.elementDepthCount--;const t=Ge();t.firstCreatePass&&(sg(t,n),rb(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&Ow(t,e,R(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&Ow(t,e,R(),e.stylesWithoutHost,!1)}function Te(n,e,t,i){C(n,e,t,i),E()}function zc(){return R()}function ph(n){return!!n&&"function"==typeof n.then}const Fg=function(n){return!!n&&"function"==typeof n.subscribe};function ft(n,e,t,i){const r=R(),s=Ge(),o=on();return CN(s,r,r[11],o,n,e,!!t,i),ft}function Lg(n,e){const t=on(),i=R(),r=Ge();return CN(r,i,SO(gb(r.data),t,i),t,n,e,!1),Lg}function CN(n,e,t,i,r,s,o,a){const l=Zp(i),u=n.firstCreatePass&&xO(n),d=e[8],h=DO(e);let f=!0;if(3&i.type||a){const v=cr(i,e),x=a?a(v):v,D=h.length,N=a?V=>a(Kt(V[i.index])):i.index;if(Ft(t)){let V=null;if(!a&&l&&(V=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,f=!1;else{s=Nw(i,e,d,s,!1);const re=t.listen(x,r,s);h.push(s,re),u&&u.push(r,N,D,D+1)}}else s=Nw(i,e,d,s,!0),x.addEventListener(r,s,o),h.push(s),u&&u.push(r,N,D,o)}else s=Nw(i,e,d,s,!1);const p=i.outputs;let y;if(f&&null!==p&&(y=p[r])){const v=y.length;if(v)for(let x=0;x<v;x+=2){const He=e[y[x]][y[x+1]].subscribe(s),Ye=h.length;h.push(s,He),u&&u.push(r,i.index,Ye,-(Ye+1))}}}function EN(n,e,t,i){try{return!1!==t(i)}catch(r){return IO(n,r),!1}}function Nw(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?Bi(n.index,e):e;0==(32&e[2])&&gw(a);let l=EN(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=EN(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Vr(n=1){return function(n){return(me.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,me.lFrame.contextLView))[8]}(n)}function u7(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?YR(n,s,!0):gK(i,s))return r}else t=r}return t}function It(n){const e=R()[16][6];if(!e.projection){const i=e.projection=Fo(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?u7(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Oe(n,e=0,t){const i=R(),r=Ge(),s=Mc(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),fb(),64!=(64&s.flags)&&function(n,e,t){WR(e[11],0,e,t,PR(n,t,e),BR(t.parent||e[6],t,e))}(r,i,s)}function ON(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Nr(s):Ws(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];f7(n[a],e)&&(l=!0,n[a+1]=i?nw(u):ew(u)),a=i?Nr(u):Ws(u)}l&&(n[t+1]=i?ew(s):nw(s))}function f7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ec(n,e)>=0}function ja(n,e,t){return Br(n,e,t,!1),ja}function pt(n,e){return Br(n,e,null,!0),pt}function Br(n,e,t,i){const r=R(),s=Ge(),o=function(n){const e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[li()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const r=gb(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=gh(t=Fw(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Fw(r,n,e,t,i),null===s){let l=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ws(i))return n[Nr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Fw(null,n,e,l[1],i),l=gh(l,e.attrs,i),function(n,e,t,i){n[Nr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=gh(i,n[s].hostAttrs,t);return gh(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Nr(o),l=Ws(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Ec(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=Nr(n[a+1]);n[i+1]=Ig(h,a),0!==h&&(n[h+1]=tw(n[h+1],i)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Ig(a,0),0!==a&&(n[a+1]=tw(n[a+1],i)),a=i;else n[i+1]=Ig(l,0),0===a?a=i:n[l+1]=tw(n[l+1],i),l=i;c&&(n[i+1]=ew(n[i+1])),ON(n,u,i,!0),ON(n,u,i,!1),function(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ec(s,e)>=0&&(t[i+1]=nw(t[i+1]))}(e,u,n,i,s),o=Ig(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==_e&&Jn(r,o,e)&&function(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Vg(function(n){return 1==(1&n)}(c)?GN(l,e,t,r,Ws(c),o):void 0)||(Vg(s)||function(n){return 2==(2&n)}(c)&&(s=GN(l,null,t,r,a,o)),function(n,e,t,i,r){const s=Ft(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Hi.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Hi.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,eg(li(),t),r,s))}(s,s.data[li()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ae(ji(n)))),n}(e,t),i,o)}function Fw(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=gh(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function gh(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ui(n,o,!!t||e[++s]))}return void 0===n?null:n}function GN(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===_e&&(h=d?dt:void 0);let f=d?Ib(h,i):u===i?h:void 0;if(c&&!Vg(f)&&(f=Ib(l,i)),Vg(f)&&(a=f,o))return a;const p=n[r+1];r=o?Nr(p):Ws(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ib(l,i))}return a}function Vg(n){return void 0!==n}function B(n,e=""){const t=R(),i=Ge(),r=n+20,s=i.firstCreatePass?Mc(i,r,1,e,null):i.data[r],o=t[r]=function(n,e){return Ft(n)?n.createText(e):n.createTextNode(e)}(t[11],e);xg(i,t,o,s),us(s,!1)}function Bo(n){return jr("",n,""),Bo}function jr(n,e,t){const i=R(),r=function(n,e,t,i){return Jn(n,mc(),t)?e+Ce(t)+i:_e}(i,n,e,t);return r!==_e&&qs(i,li(),r),jr}function Bg(n,e,t){const i=R();return Jn(i,mc(),e)&&$i(Ge(),Lt(),i,n,e,i[11],t,!0),Bg}function Ug(n,e,t){const i=R();if(Jn(i,mc(),e)){const s=Ge(),o=Lt();$i(s,o,i,n,e,SO(gb(s.data),o,i),t,!0)}return Ug}const Ha=void 0;var K7=["en",[["a","p"],["AM","PM"],Ha],[["AM","PM"],Ha,Ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ha,"{1} 'at' {0}",Ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Kc={};function ui(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=uP(e);if(t)return t;const i=e.split("-")[0];if(t=uP(i),t)return t;if("en"===i)return K7;throw new Error(`Missing locale data for the locale "${n}".`)}function uP(n){return n in Kc||(Kc[n]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[n]),Kc[n]}var z=(()=>((z=z||{})[z.LocaleId=0]="LocaleId",z[z.DayPeriodsFormat=1]="DayPeriodsFormat",z[z.DayPeriodsStandalone=2]="DayPeriodsStandalone",z[z.DaysFormat=3]="DaysFormat",z[z.DaysStandalone=4]="DaysStandalone",z[z.MonthsFormat=5]="MonthsFormat",z[z.MonthsStandalone=6]="MonthsStandalone",z[z.Eras=7]="Eras",z[z.FirstDayOfWeek=8]="FirstDayOfWeek",z[z.WeekendRange=9]="WeekendRange",z[z.DateFormat=10]="DateFormat",z[z.TimeFormat=11]="TimeFormat",z[z.DateTimeFormat=12]="DateTimeFormat",z[z.NumberSymbols=13]="NumberSymbols",z[z.NumberFormats=14]="NumberFormats",z[z.CurrencyCode=15]="CurrencyCode",z[z.CurrencySymbol=16]="CurrencySymbol",z[z.CurrencyName=17]="CurrencyName",z[z.Currencies=18]="Currencies",z[z.Directionality=19]="Directionality",z[z.PluralCase=20]="PluralCase",z[z.ExtraData=21]="ExtraData",z))();const jg="en-US";let dP=jg;function Lw(n){Li(n,"Expected localeId to be defined"),"string"==typeof n&&(dP=n.toLowerCase().replace(/_/g,"-"))}function Uw(n,e,t,i,r){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)Uw(n[s],e,t,i,r);else{const s=Ge(),o=R();let a=Nc(n)?n:ne(n.provide),l=RO(n);const c=on(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Nc(n)||!n.multi){const f=new jd(l,r,g),p=Hw(a,e,r?u:u+h,d);-1===p?(hg($d(c,o),s,a),jw(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Hw(a,e,u+h,d),p=Hw(a,e,u,u+h),y=f>=0&&t[f],v=p>=0&&t[p];if(r&&!v||!r&&!y){hg($d(c,o),s,a);const x=function(n,e,t,i,r){const s=new jd(n,t,g);return s.multi=[],s.index=e,s.componentProviders=0,PP(s,r,i&&!t),s}(r?WQ:GQ,t.length,r,i,l);!r&&v&&(t[p].providerFactory=x),jw(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(x),o.push(x)}else jw(s,n,f>-1?f:p,PP(t[r?p:f],l,!r&&i));!r&&i&&v&&t[p].componentProviders++}}}function jw(n,e,t,i){const r=Nc(e);if(r||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[i,o]):a[l+1].push(i,o)}else a.push(t,o)}}}function PP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hw(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function GQ(n,e,t,i){return $w(this.multi,[])}function WQ(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Gd(t,t[1],this.providerFactory.index,i);s=a.slice(0,o),$w(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],$w(r,s);return s}function $w(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Me(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=Ge();if(i.firstCreatePass){const r=kr(n);Uw(t,i.data,i.blueprint,r,!0),Uw(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class FP{}const VP="ngComponent";class KQ{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return e[VP]=n,e}(e)}}let Qs=(()=>{class n{}return n.NULL=new KQ,n})();function zg(...n){}function Yc(n,e){return new W(cr(n,e))}const JQ=function(){return Yc(on(),R())};let W=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=JQ,n})();function BP(n){return n instanceof W?n.nativeElement:n}class $a{}let fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>ZQ(),n})();const ZQ=function(){const n=R(),t=Bi(on().index,n);return function(n){return n[11]}(cs(t)?t:n)};let Ww=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>null}),n})();class Ys{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const UP=new Ys("12.2.10");class jP{constructor(){}supports(e){return hh(e)}create(e){return new iY(e)}}const nY=(n,e)=>e;class iY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<$P(i,r,s)?t:i,a=$P(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!hh(e))throw new Error(`Error trying to diff '${Ae(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Pc()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new rY(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HP),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class HP{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new sY,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $P(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class GP{constructor(){}supports(e){return e instanceof Map||Iw(e)}create(){return new oY}}class oY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Iw(e)))throw new Error(`Error trying to diff '${Ae(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new aY(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class aY{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WP(){return new Ga([new jP])}let Ga=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||WP()),deps:[[n,new Gs,new vn]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:WP}),n})();function zP(){return new Uo([new GP])}let Uo=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||zP()),deps:[[n,new Gs,new vn]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=M({token:n,providedIn:"root",factory:zP}),n})();function qg(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Kt(s)),Mr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&qg(l[1],l,c,i)}const o=t.type;if(8&o)qg(n,e,t.child,i);else if(32&o){const a=$b(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=$R(e,t);if(Array.isArray(a))i.push(...a);else{const l=sh(e[16]);qg(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class bh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return qg(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Mr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Kb(e,i),Pa(t,i))}this._attachedToViewContainer=!1}NR(this._lView[1],this._lView)}onDestroy(e){pO(this._lView[1],this._lView,null,e)}markForCheck(){gw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){ng(!0);try{yw(n,e,t)}finally{ng(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){oh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class cY extends bh{constructor(e){super(e),this._view=e}detectChanges(){EO(this._view)}checkNoChanges(){!function(n){ng(!0);try{EO(n)}finally{ng(!1)}}(this._view)}get context(){return null}}const dY=function(n){return function(n,e,t){if(Xp(n)&&!t){const i=Bi(n.index,e);return new bh(i,i)}return 47&n.type?new bh(e[16],e):null}(on(),R(),16==(16&n))};let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=dY,n})();const pY=[new GP],mY=new Ga([new jP]),yY=new Uo(pY),vY=function(){return Kg(on(),R())};let Wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=vY,n})();const bY=Wi,wY=class extends bY{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=ah(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),lh(t,i,e),new bh(i)}};function Kg(n,e){return 4&n.type?new wY(e,n,Yc(n,e)):null}class ws{}class qP{}const DY=function(){return YP(on(),R())};let di=(()=>{class n{}return n.__NG_ELEMENT_ID__=DY,n})();const SY=di,KP=class extends SY{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Yc(this._hostTNode,this._hostLView)}get injector(){return new vc(this._hostTNode,this._hostLView)}get parentInjector(){const e=dg(this._hostTNode,this._hostLView);if(Vk(e)){const t=_c(e,this._hostLView),i=yc(e);return new vc(t[1].data[i+8],t)}return new vc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=i||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(ws,null);l&&(s=l)}const a=e.create(o,r,void 0,s);return this.insert(a.hostView,t),a}insert(e,t){const i=e._lView,r=i[1];if(function(n){return Mr(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new KP(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],mg(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=Jb(s,o),l=i[11],c=Dg(l,o[7]);return null!==c&&function(n,e,t,i,r,s){i[0]=r,i[6]=e,oh(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),mg(zw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Kb(this._lContainer,t);i&&(Pa(zw(this._lContainer),t),NR(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Kb(this._lContainer,t);return i&&null!=Pa(zw(this._lContainer),t)?new bh(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function QP(n){return n[8]}function zw(n){return n[8]||(n[8]=[])}function YP(n,e){let t;const i=e[n.index];if(Mr(i))t=i;else{let r;if(8&n.type)r=Kt(i);else{const s=e[11];r=s.createComment("");const o=cr(n,e);Va(s,Dg(s,o),r,function(n,e){return Ft(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=CO(i,e,r,n),kg(e,t)}return new KP(t,n,e)}const eu={};class mF extends Qs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oi(e);return new _F(t,this.ngModule)}}function yF(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const C9=new q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>SR});class _F extends FP{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(mK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return yF(this.componentDef.inputs)}get outputs(){return yF(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const s=n.get(t,eu,r);return s!==eu||i===eu?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get($a,Ck),a=s.get(Ww,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function(n,e,t){if(Ft(n))return n.selectRootElement(e,t===qt.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):qb(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||SR,clean:e5,playerHandler:e||null,flags:0}}(),f=Mg(0,null,null,1,0,null,null,null,null,null),p=ah(null,f,h,d,null,null,o,l,a,s);let y,v;ig(p);try{const x=function(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=Mc(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Rg(l,c,!0),null!==n&&(lg(r,n,c),null!==l.classes&&Zb(r,n,l.classes),null!==l.styles&&zR(r,n,l.styles)));const u=i.createRenderer(n,e),d=ah(t,dO(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(hg($d(l,t),o,e.type),vO(o,l),bO(l,t.length,1)),kg(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)lg(l,u,["ng-version",UP.full]);else{const{attrs:D,classes:N}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Or(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);D&&lg(l,u,D),N&&N.length>0&&Zb(l,u,N.join(" "))}if(v=cb(f,20),void 0!==t){const D=v.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const V=t[N];D.push(null!=V?Array.from(V):null)}}y=function(n,e,t,i,r){const s=t[1],o=function(n,e,t){const i=on();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),wO(n,i,e,kc(n,e,1,null),t));const r=Gd(e,n,i.directiveStart,i);Yn(r,e);const s=cr(i,e);return s&&Yn(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=on();e.contentQueries(1,o,l.directiveStart)}const a=on();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(No(a.index),yO(t[1],a,0,a.directiveStart,a.directiveEnd,e),_O(e,o)),o}(x,this.componentDef,p,h,[S5]),lh(f,p,null)}finally{rg()}return new x9(this.componentType,y,Yc(v,p),p,v)}}class x9 extends class{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new cY(r),this.componentType=e}get injector(){return new vc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const tu=new Map;class A9 extends ws{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mF(this);const i=or(e),r=function(n){return n[k8]||null}(e);r&&Lw(r),this._bootstrapComponents=ms(i.bootstrap),this._r3Injector=kO(e,t,[{provide:ws,useValue:this},{provide:Qs,useValue:this.componentFactoryResolver}],Ae(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=We.THROW_IF_NOT_FOUND,i=ce.Default){return e===We||e===ws||e===Ba?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sC extends qP{constructor(e){super(),this.moduleType=e,null!==or(e)&&function(n){const e=new Set;!function t(i){const r=or(i,!0),s=r.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ae(e)} vs ${Ae(e.name)}`)}(s,tu.get(s),i),tu.set(s,i));const o=ms(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new A9(this.moduleType,e)}}function Zg(n,e,t){const i=ai()+n,r=R();return r[i]===_e?_s(r,i,t?e.call(t):e()):function(n,e){return n[e]}(r,i)}function wF(n,e,t,i){return function(n,e,t,i,r,s){const o=e+t;return Jn(n,o,r)?_s(n,o+1,s?i.call(s,r):i(r)):Ah(n,o+1)}(R(),ai(),n,e,t,i)}function Ah(n,e){const t=n[e];return t===_e?void 0:t}function DF(n,e,t,i,r,s,o,a){const l=e+t;return function(n,e,t,i,r){const s=Ua(n,e,t,i);return Jn(n,e+2,r)||s}(n,l,r,s,o)?_s(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Ah(n,l+3)}function oC(n,e){const t=Ge();let i;const r=n+20;t.firstCreatePass?(i=function(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}throw new Sa("302",`The pipe '${n}' could not be found!`)}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=ka(i.type)),o=Mo(g);try{const a=ug(!1),l=s();return ug(a),function(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,R(),r,l),l}finally{Mo(o)}}function IF(n,e,t,i){const r=n+20,s=R(),o=gc(s,r);return Mh(s,Th(s,r)?function(n,e,t,i,r,s,o){const a=e+t;return Ua(n,a,r,s)?_s(n,a+2,o?i.call(o,r,s):i(r,s)):Ah(n,a+2)}(s,ai(),e,o.transform,t,i,o):o.transform(t,i))}function Th(n,e){return n[1].data[e].pure}function Mh(n,e){return Fr.isWrapped(e)&&(e=Fr.unwrap(e),n[me.lFrame.bindingIndex]=_e),e}function aC(n){return e=>{setTimeout(n,void 0,e)}}const S=class extends te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=aC(l),a&&(a=aC(a)),c&&(c=aC(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof pe&&e.add(u),u}};function H9(){return this._results[Pc()]()}class Gr{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Pc(),i=Gr.prototype;i[t]||(i[t]=H9)}get changes(){return this._changes||(this._changes=new S)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=ur(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class lC{constructor(e){this.queryList=e,this.matches=null}clone(){return new lC(this.queryList)}setDirty(){this.queryList.setDirty()}}class cC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new cC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==OF(e,t).matches&&this.queries[t].setDirty()}}class TF{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class uC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new uC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class dC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new dC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,W9(t,s)),this.matchTNodeWithReadOption(e,t,fg(t,e,s,!1,!1))}else i===Wi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,fg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===W||r===di||r===Wi&&4&t.type)this.addMatch(t.index,-2);else{const s=fg(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function W9(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function q9(n,e,t,i){return-1===t?function(n,e){return 11&n.type?Yc(n,e):4&n.type?Kg(n,e):null}(e,n):-2===t?function(n,e,t){return t===W?Yc(e,n):t===Wi?Kg(e,n):t===di?YP(e,n):void 0}(n,e,i):Gd(n,n[1],t,e)}function MF(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:q9(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function hC(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=MF(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&hC(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];hC(f[1],f,c,i)}}}}}return i}function yt(n){const e=R(),t=Ge(),i=Tk();mb(i+1);const r=OF(t,i);if(n.dirty&&Ek(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?hC(t,e,i,[]):MF(t,e,r,i);n.reset(s,BP),n.notifyOnChanges()}return!0}return!1}function Js(n,e,t){const i=Ge();i.firstCreatePass&&(RF(i,new TF(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),kF(i,R(),e)}function bn(n,e,t,i){const r=Ge();if(r.firstCreatePass){const s=on();RF(r,new TF(e,t,i),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}kF(r,R(),t)}function _t(){return function(n,e){return n[19].queries[e].queryList}(R(),Tk())}function kF(n,e,t){const i=new Gr(4==(4&t));pO(n,e,i,i.destroy),null===e[19]&&(e[19]=new cC),e[19].queries.push(new lC(i))}function RF(n,e,t){null===n.queries&&(n.queries=new uC),n.queries.track(new dC(e,t))}function OF(n,e){return n.queries.getByIndex(e)}const T=xb("Input",n=>({bindingPropertyName:n})),$=xb("Output",n=>({bindingPropertyName:n})),Rh=new q("Application Initializer");let iu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=zg,this.reject=zg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(ph(s))t.push(s);else if(Fg(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(_(Rh,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Oh=new q("AppId"),DJ={provide:Oh,useFactory:function(){return`${_C()}${_C()}${_C()}`},deps:[]};function _C(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JF=new q("Platform Initializer"),cn=new q("Platform ID"),vC=new q("appBootstrapListener");let nm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Wr=new q("LocaleId"),XF=new q("DefaultCurrencyCode");class SJ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const bC=function(n){return new sC(n)},IJ=bC,AJ=function(n){return Promise.resolve(bC(n))},ZF=function(n){const e=bC(n),i=ms(or(n).declarations).reduce((r,s)=>{const o=oi(s);return o&&r.push(new _F(o)),r},[]);return new SJ(e,i)},TJ=ZF,MJ=function(n){return Promise.resolve(ZF(n))};let qa=(()=>{class n{constructor(){this.compileModuleSync=IJ,this.compileModuleAsync=AJ,this.compileModuleAndAllComponentsSync=TJ,this.compileModuleAndAllComponentsAsync=MJ}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const OJ=(()=>Promise.resolve(0))();function wC(n){"undefined"==typeof Zone?OJ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class U{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new S(!1),this.onMicrotaskEmpty=new S(!1),this.onStable=new S(!1),this.onError=new S(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=lt.requestAnimationFrame,e=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,EC(n),n.isCheckStableRunning=!0,CC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),EC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return e1(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),t1(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return e1(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),t1(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,EC(n),CC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!U.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(U.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,PJ,zg,zg);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const PJ={};function CC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function EC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function e1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function t1(n){n._nesting--,CC(n)}class VJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new S,this.onMicrotaskEmpty=new S,this.onStable=new S,this.onError=new S}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let DC=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{U.assertNotInAngularZone(),wC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(_(U))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),n1=(()=>{class n{constructor(){this._applications=new Map,xC.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return xC.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class BJ{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let xC=new BJ,i1=!0,r1=!1;function SC(){return r1=!0,i1}let zr;const s1=new q("AllowMultipleToken");class IC{constructor(e,t){this.name=e,this.token=t}}function o1(n,e,t=[]){const i=`Platform: ${e}`,r=new q(i);return(s=[])=>{let o=a1();if(!o||o.injector.get(s1,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:ch,useValue:"platform"});!function(n){if(zr&&!zr.destroyed&&!zr.injector.get(s1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zr=n.get(l1);const e=n.get(JF,null);e&&e.forEach(t=>t())}(We.create({providers:a,name:i}))}return function(n){const e=a1();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function a1(){return zr&&!zr.destroyed?zr:null}let l1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function(n,e){let t;return t="noop"===n?new VJ:("zone.js"===n?void 0:n)||new U({enableLongStackTrace:SC(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:U,useValue:a}];return a.run(()=>{const c=We.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Rr,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{AC(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const i=t();return ph(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(iu);return h.runInitializers(),h.donePromise.then(()=>(Lw(u.injector.get(Wr,jg)||jg),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=c1({},i);return function(n,e,t){const i=new sC(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ka);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ae(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(_(We))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function c1(n,e){return Array.isArray(e)?e.reduce(c1,n):Object.assign(Object.assign({},n),e)}let Ka=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new oe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new oe(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{U.assertNotInAngularZone(),wC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{U.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=cc(a,l.pipe(rk()))}bootstrap(t,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let r;r=t instanceof FP?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(ws),a=r.create(We.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(DC,null),u=c&&a.injector.get(n1);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),AC(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;AC(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vC,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(_(U),_(We),_(Rr),_(Qs),_(iu))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function AC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class rm{}class eX{}const tX={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nX=(()=>{class n{constructor(t,i){this._compiler=t,this._config=i||tX}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[i,r]=t.split("#");return void 0===r&&(r="default"),Ri(255)(i).then(s=>s[r]).then(s=>f1(s,i,r)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(t){let[i,r]=t.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),Ri(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[r+s]).then(o=>f1(o,i,r))}}return n.\u0275fac=function(t){return new(t||n)(_(qa),_(eX,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function f1(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const hX=o1(null,"core",[{provide:cn,useValue:"unknown"},{provide:l1,deps:[We]},{provide:n1,deps:[]},{provide:nm,deps:[]}]),yX=[{provide:Ka,useClass:Ka,deps:[U,We,Rr,Qs,iu]},{provide:C9,deps:[U],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:iu,useClass:iu,deps:[[new vn,Rh]]},{provide:qa,useClass:qa,deps:[]},DJ,{provide:Ga,useFactory:function(){return mY},deps:[]},{provide:Uo,useFactory:function(){return yY},deps:[]},{provide:Wr,useFactory:function(n){return Lw(n=n||"undefined"!=typeof $localize&&$localize.locale||jg),n},deps:[[new fs(Wr),new vn,new Gs]]},{provide:XF,useValue:"USD"}];let vX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(_(Ka))},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:yX}),n})(),pm=null;function Cs(){return pm}const Y=new q("DocumentToken");let Ja=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:_Z,token:n,providedIn:"platform"}),n})();function _Z(){return _(L1)}const vZ=new q("Location Initialized");let L1=(()=>{class n extends Ja{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cs().getBaseHref(this._doc)}onPopState(t){const i=Cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Cs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){V1()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){V1()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({factory:bZ,token:n,providedIn:"platform"}),n})();function V1(){return!!window.history.pushState}function bZ(){return new L1(_(Y))}function $C(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function B1(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zs(n){return n&&"?"!==n[0]?"?"+n:n}let ou=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:wZ,token:n,providedIn:"root"}),n})();function wZ(n){const e=_(Y).location;return new U1(_(Ja),e&&e.origin||"")}const GC=new q("appBaseHref");let U1=(()=>{class n extends ou{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $C(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Zs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Zs(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Zs(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(_(Ja),_(GC,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),CZ=(()=>{class n extends ou{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=$C(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Zs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Zs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(_(Ja),_(GC,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),Vh=(()=>{class n{constructor(t,i){this._subject=new S,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=B1(j1(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Zs(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,j1(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zs(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zs(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.\u0275fac=function(t){return new(t||n)(_(ou),_(Ja))},n.normalizeQueryParams=Zs,n.joinWithSlash=$C,n.stripTrailingSlash=B1,n.\u0275prov=M({factory:EZ,token:n,providedIn:"root"}),n})();function EZ(){return new Vh(_(ou),_(Ja))}function j1(n){return n.replace(/\/index.html$/,"")}const H1={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Si=(()=>((Si=Si||{})[Si.Decimal=0]="Decimal",Si[Si.Percent=1]="Percent",Si[Si.Currency=2]="Currency",Si[Si.Scientific=3]="Scientific",Si))(),Qt=(()=>((Qt=Qt||{})[Qt.Zero=0]="Zero",Qt[Qt.One=1]="One",Qt[Qt.Two=2]="Two",Qt[Qt.Few=3]="Few",Qt[Qt.Many=4]="Many",Qt[Qt.Other=5]="Other",Qt))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function mr(n,e){const t=ui(n),i=t[z.NumberSymbols][e];if(void 0===i){if(e===ue.CurrencyDecimal)return t[z.NumberSymbols][ue.Decimal];if(e===ue.CurrencyGroup)return t[z.NumberSymbols][ue.Group]}return i}function WC(n,e){return ui(n)[z.NumberFormats][e]}const kZ=function(n){return ui(n)[z.PluralCase]};const YZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function YC(n,e,t,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function(n){let i,r,s,o,a,e=Math.abs(n)+"",t=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;"0"===e.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>22&&(i=i.splice(0,21),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(n);o&&(c=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(c));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const D=s.match(YZ);if(null===D)throw new Error(`${s} is not a valid digit info`);const N=D[1],V=D[3],re=D[5];null!=N&&(u=XC(N)),null!=V&&(d=XC(V)),null!=re?h=XC(re):null!=V&&d>h&&(h=d)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(e,r),t);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=e+n.integerLen,u=i.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const y=c.exponent;let v=[];for(l=f.every(D=>!D);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?v=f.splice(p,f.length):(v=f,f=[0]);const x=[];for(f.length>=e.lgSize&&x.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)x.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&x.unshift(f.join("")),a=x.join(mr(t,i)),v.length&&(a+=mr(t,r)+v.join("")),y&&(a+=mr(t,ue.Exponential)+"+"+y)}else a=mr(t,ue.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}function JC(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";t.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?t.minFrac=t.maxFrac=u+1:"#"===d?t.maxFrac=u+1:t.posSuf+=d}const c=a.split(",");if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-t.posPre.length-t.posSuf.length,d=s.indexOf("#");t.negPre=s.substr(0,d).replace(/'/g,""),t.negSuf=s.substr(d+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function XC(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Dm{}let oee=(()=>{class n extends Dm{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(kZ(i||this.locale)(t)){case Qt.Zero:return"zero";case Qt.One:return"one";case Qt.Two:return"two";case Qt.Few:return"few";case Qt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(_(Wr))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class lee{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let J1=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=[];t.forEachOperation((r,s,o)=>{if(null==r.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new lee(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new X1(r,a);i.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new X1(r,a);i.push(l)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const o=this._viewContainer.get(r);o.context.index=r,o.context.count=s,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(t,i){t.context.$implicit=i.item}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(di),g(Wi),g(Ga))},n.\u0275dir=I({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class X1{constructor(e,t){this.record=e,this.view=t}}let au=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new uee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Z1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Z1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(g(di),g(Wi))},n.\u0275dir=I({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class uee{constructor(){this.$implicit=null,this.ngIf=null}}function Z1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ae(e)}'.`)}let xm=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(Uo),g(fr))},n.\u0275dir=I({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Yr(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ae(n)}'`)}let nL=(()=>{class n{constructor(t){this._locale=t}transform(t,i,r){if(!nE(t))return null;r=r||this._locale;try{return function(n,e,t){return YC(n,JC(WC(e,Si.Decimal),mr(e,ue.MinusSign)),e,ue.Group,ue.Decimal,t)}(iE(t),r,i)}catch(s){throw Yr(n,s.message)}}}return n.\u0275fac=function(t){return new(t||n)(g(Wr,16))},n.\u0275pipe=Di({name:"number",type:n,pure:!0}),n})(),iL=(()=>{class n{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",s,o){if(!nE(t))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(n,e,t="en"){const i=function(n){return ui(n)[z.Currencies]}(t)[n]||H1[n]||[],r=i[1];return"narrow"===e&&"string"==typeof r?r:i[0]||n}(a,"symbol"===r?"wide":"narrow",o):r);try{return function(n,e,t,i,r){const o=JC(WC(e,Si.Currency),mr(e,ue.MinusSign));return o.minFrac=function(n){let e;const t=H1[n];return t&&(e=t[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,YC(n,o,e,ue.CurrencyGroup,ue.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}(iE(t),o,a,i,s)}catch(l){throw Yr(n,l.message)}}}return n.\u0275fac=function(t){return new(t||n)(g(Wr,16),g(XF,16))},n.\u0275pipe=Di({name:"currency",type:n,pure:!0}),n})();function nE(n){return!(null==n||""===n||n!=n)}function iE(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:[{provide:Dm,useClass:oee}]}),n})();const rL="browser";function Xa(n){return n===rL}function Za(n){return"server"===n}let sL=(()=>{class n{}return n.\u0275prov=M({token:n,providedIn:"root",factory:()=>new Fee(_(Y),window)}),n})();class Fee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oL(this.window.history)||oL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){pm||(pm=n)}(new rE)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Hh=Hh||document.querySelector("base"),Hh?Hh.getAttribute("href"):null);return null==t?null:function(n){Sm=Sm||document.createElement("a"),Sm.setAttribute("href",n);const e=Sm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sm,Hh=null;const lL=new q("TRANSITION_ID"),Hee=[{provide:Rh,useFactory:function(n,e,t){return()=>{t.get(iu).donePromise.then(()=>{const i=Cs(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[lL,Y,We],multi:!0}];class sE{static init(){!function(n){xC=n}(new sE)}addToWindow(e){lt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),lt.getAllAngularRootElements=()=>e.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(i=>{const r=lt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?Cs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $ee=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const $h=new q("EventManagerPlugins");let Am=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_($h),_(U))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class oE{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Cs().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let uL=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),Gh=(()=>{class n extends uL{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(dL),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dL))}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function dL(n){Cs().remove(n)}const aE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lE=/%COMP%/g;function Tm(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Tm(n,r,t):(r=r.replace(lE,n),t.push(r))}return t}function pL(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mm=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new cE(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case qt.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new rte(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case qt.ShadowDom:return new ste(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Tm(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_(Am),_(Gh),_(Oh))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class cE{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(aE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=aE[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=aE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Hi.DashCase|Hi.Important)?e.style.setProperty(t,i,r&Hi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Hi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pL(i)):this.eventManager.addEventListener(e,t,pL(i))}}class rte extends cE{constructor(e,t,i,r){super(e),this.component=i;const s=Tm(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(lE,n)}(r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(lE,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ste extends cE{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tm(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ote=(()=>{class n extends oE{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const yL=["alt","control","meta","shift"],fte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pte={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gte=(()=>{class n extends oE{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cs().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(yL.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&_L.hasOwnProperty(e)&&(e=_L[e]))}return fte[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),yL.forEach(s=>{s!=r&&pte[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),el=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:function(){return _(dE)},token:n,providedIn:"root"}),n})(),dE=(()=>{class n extends el{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Ze.NONE:return i;case Ze.HTML:return ps(i,"HTML")?ji(i):pR(this._doc,String(i)).toString();case Ze.STYLE:return ps(i,"Style")?ji(i):i;case Ze.SCRIPT:if(ps(i,"Script"))return ji(i);throw new Error("unsafe value used in a script context");case Ze.URL:return oR(i),ps(i,"URL")?ji(i):eh(String(i));case Ze.RESOURCE_URL:if(ps(i,"ResourceURL"))return ji(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new e6(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new t6(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new n6(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new i6(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new r6(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({factory:function(){return function(n){return new dE(n.get(Y))}(_(Ba))},token:n,providedIn:"root"}),n})();const Ete=o1(hX,"browser",[{provide:cn,useValue:rL},{provide:JF,useValue:function(){rE.makeCurrent(),sE.init()},multi:!0},{provide:Y,useFactory:function(){return function(n){ab=n}(document),document},deps:[]}]),Dte=[[],{provide:ch,useValue:"root"},{provide:Rr,useFactory:function(){return new Rr},deps:[]},{provide:$h,useClass:ote,multi:!0,deps:[Y,U,cn]},{provide:$h,useClass:gte,multi:!0,deps:[Y]},[],{provide:Mm,useClass:Mm,deps:[Am,Gh,Oh]},{provide:$a,useExisting:Mm},{provide:uL,useExisting:Gh},{provide:Gh,useClass:Gh,deps:[Y]},{provide:DC,useClass:DC,deps:[U]},{provide:Am,useClass:Am,deps:[$h,U]},{provide:class{},useClass:$ee,deps:[]},[]];let hE=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Oh,useValue:t.appId},{provide:lL,useExisting:Oh},Hee]}}}return n.\u0275fac=function(t){return new(t||n)(_(n,12))},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:Dte,imports:[jh,vX]}),n})();function ae(...n){let e=n[n.length-1];return xa(e)?(n.pop(),zv(n,e)):qv(n)}"undefined"!=typeof window&&window;class pi extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Da;return this._value}next(e){super.next(this._value=e)}}class Rte extends nt{notifyNext(e,t,i,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ote extends nt{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Nte(n,e,t,i,r=new Ote(n,t,i)){if(!r.closed)return e instanceof oe?e.subscribe(r):Wv(e)(r)}const bL={};function wL(...n){let e,t;return xa(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Pi(n[0])&&(n=n[0]),qv(n,t).lift(new Pte(e))}class Pte{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Fte(e,this.resultSelector))}}class Fte extends Rte{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(bL),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(Nte(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,o=this.toRespond?r[i]===bL?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const km=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Rm(...n){return Pd(1)(ae(...n))}const lu=new oe(n=>n.complete());function Om(n){return n?function(n){return new oe(e=>n.schedule(()=>e.complete()))}(n):lu}function CL(n){return new oe(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?mn(t):Om()).subscribe(e)})}function zi(n,e){return"function"==typeof e?t=>t.pipe(zi((i,r)=>mn(n(i,r)).pipe(he((s,o)=>e(i,s,r,o))))):t=>t.lift(new Bte(n))}class Bte{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ute(e,this.project))}}class Ute extends ac{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new oc(this),r=this.destination;r.add(i),this.innerSubscription=lc(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const EL=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Es(n){return e=>0===n?Om():e.lift(new jte(n))}class jte{constructor(e){if(this.total=e,this.total<0)throw new EL}call(e,t){return t.subscribe(new Hte(e,this.total))}}class Hte extends nt{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Jr(...n){const e=n[n.length-1];return xa(e)?(n.pop(),t=>Rm(n,t,e)):t=>Rm(n,t)}function DL(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new $te(n,e,t))}}class $te{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Gte(e,this.accumulator,this.seed,this.hasSeed))}}class Gte extends nt{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function En(n,e){return function(i){return i.lift(new Wte(n,e))}}class Wte{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new zte(e,this.predicate,this.thisArg))}}class zte extends nt{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Go(n){return function(t){const i=new qte(n),r=t.lift(i);return i.caught=r}}class qte{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Kte(e,this.selector,this.caught))}}class Kte extends ac{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new oc(this);this.add(i);const r=lc(t,i);r!==i&&this.add(r)}}}function cu(n,e){return yn(n,e,1)}function pE(n){return function(t){return 0===n?Om():t.lift(new Qte(n))}}class Qte{constructor(e){if(this.total=e,this.total<0)throw new EL}call(e,t){return t.subscribe(new Yte(e,this.total))}}class Yte extends nt{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=t++%i;e.next(r[o])}}e.complete()}}function xL(n=Zte){return e=>e.lift(new Jte(n))}class Jte{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Xte(e,this.errorFactory))}}class Xte extends nt{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Zte(){return new km}function SL(n=null){return e=>e.lift(new ene(n))}class ene{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new tne(e,this.defaultValue))}}class tne extends nt{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function uu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?En((r,s)=>n(r,s,i)):rt,Es(1),t?SL(e):xL(()=>new km))}function Wo(){}function Dn(n,e,t){return function(r){return r.lift(new ine(n,e,t))}}class ine{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new rne(e,this.nextOrObserver,this.error,this.complete))}}class rne extends nt{constructor(e,t,i,r){super(e),this._tapNext=Wo,this._tapError=Wo,this._tapComplete=Wo,this._tapError=i||Wo,this._tapComplete=r||Wo,Vs(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Wo,this._tapError=t.error||Wo,this._tapComplete=t.complete||Wo)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function IL(n){return e=>e.lift(new sne(n))}class sne{constructor(e){this.callback=e}call(e,t){return t.subscribe(new one(e,this.callback))}}class one extends nt{constructor(e,t){super(e),this.add(new pe(t))}}class to{constructor(e,t){this.id=e,this.url=t}}class gE extends to{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wh extends to{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AL extends to{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ane extends to{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lne extends to{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cne extends to{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class une extends to{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dne extends to{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hne extends to{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ML{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fne{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gne{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mne{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kL{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ne="primary";class yne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function du(n){return new yne(n)}const RL="ngNavigationCancelingError";function mE(n){const e=Error("NavigationCancelingError: "+n);return e[RL]=!0,e}function vne(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ds(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!OL(n[r],e[r]))return!1;return!0}function OL(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function NL(n){return Array.prototype.concat.apply([],n)}function PL(n){return n.length>0?n[n.length-1]:null}function Ln(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xs(n){return Fg(n)?n:ph(n)?mn(Promise.resolve(n)):ae(n)}const Cne={exact:function VL(n,e,t){if(!nl(n.segments,e.segments)||!Nm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!VL(n.children[i],e.children[i],t))return!1;return!0},subset:BL},FL={exact:function(n,e){return Ds(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>OL(n[t],e[t]))},ignored:()=>!0};function LL(n,e,t){return Cne[t.paths](n.root,e.root,t.matrixParams)&&FL[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function BL(n,e,t){return UL(n,e,e.segments,t)}function UL(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!nl(r,t)||e.hasChildren()||!Nm(r,t,i))}if(n.segments.length===t.length){if(!nl(n.segments,t)||!Nm(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!BL(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(nl(n.segments,r)&&Nm(n.segments,r,i)&&n.children[Ne])&&UL(n.children[Ne],e,s,i)}}function Nm(n,e,t){return e.every((i,r)=>FL[t](n[r].parameters,i.parameters))}class tl{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return Ine.serialize(this)}}class Ve{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ln(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pm(this)}}class zh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=du(this.parameters)),this._parameterMap}toString(){return GL(this)}}function nl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class yE{}class jL{parse(e){const t=new Fne(e);return new tl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${qh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Fm(t)}=${Fm(r)}`).join("&"):`${Fm(t)}=${Fm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ine=new jL;function Pm(n){return n.segments.map(e=>GL(e)).join("/")}function qh(n,e){if(!n.hasChildren())return Pm(n);if(e){const t=n.children[Ne]?qh(n.children[Ne],!1):"",i=[];return Ln(n.children,(r,s)=>{s!==Ne&&i.push(`${s}:${qh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return Ln(n.children,(i,r)=>{r===Ne&&(t=t.concat(e(i,r)))}),Ln(n.children,(i,r)=>{r!==Ne&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ne?[qh(n.children[Ne],!1)]:[`${r}:${qh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ne]?`${Pm(n)}/${t[0]}`:`${Pm(n)}/(${t.join("//")})`}}function HL(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fm(n){return HL(n).replace(/%3B/gi,";")}function _E(n){return HL(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lm(n){return decodeURIComponent(n)}function $L(n){return Lm(n.replace(/\+/g,"%20"))}function GL(n){return`${_E(n.path)}${function(n){return Object.keys(n).map(e=>`;${_E(e)}=${_E(n[e])}`).join("")}(n.parameters)}`}const kne=/^[^\/()?;=#]+/;function Vm(n){const e=n.match(kne);return e?e[0]:""}const Rne=/^[^=?&#]+/,Nne=/^[^?&#]+/;class Fne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ne]=new Ve(e,t)),i}parseSegment(){const e=Vm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new zh(Lm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Vm(this.remaining);r&&(i=r,this.capture(i))}e[Lm(t)]=Lm(i)}parseQueryParam(e){const t=function(n){const e=n.match(Rne);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(Nne);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=$L(t),s=$L(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ne);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ne]:new Ve([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class WL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=vE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return bE(e,this._root).map(t=>t.value)}}function vE(n,e){if(n===e.value)return e;for(const t of e.children){const i=vE(n,t);if(i)return i}return null}function bE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=bE(n,t);if(i.length)return i.unshift(e),i}return[]}class no{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Kh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class zL extends WL{constructor(e,t){super(e),this.snapshot=t,wE(this,e)}toString(){return this.snapshot.toString()}}function qL(n,e){const t=function(n,e){const o=new Bm([],{},{},"",{},Ne,e,null,n.root,-1,{});return new QL("",new no(o,[]))}(n,e),i=new pi([new zh("",{})]),r=new pi({}),s=new pi({}),o=new pi({}),a=new pi(""),l=new il(i,r,o,a,s,Ne,e,t.root);return l.snapshot=t.root,new zL(new no(l,[]),t)}class il{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KL(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Bm{constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QL extends WL{constructor(e,t){super(t),this.url=e,wE(this,t)}toString(){return YL(this._root)}}function wE(n,e){e.value._routerState=n,e.children.forEach(t=>wE(n,t))}function YL(n){const e=n.children.length>0?` { ${n.children.map(YL).join(", ")} } `:"";return`${n.value}${e}`}function CE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ds(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function EE(n,e){return Ds(n.params,e.params)&&function(n,e){return nl(n,e)&&n.every((t,i)=>Ds(t.parameters,e[i].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||EE(n.parent,e.parent))}function Um(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Um(n,i,r);return Um(n,i)})}(n,e,t);return new no(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return JL(e,o),o}}const i=function(n){return new il(new pi(n.url),new pi(n.params),new pi(n.queryParams),new pi(n.fragment),new pi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Um(n,s));return new no(i,r)}}function JL(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)JL(n.children[t],e.children[t])}function jm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qh(n){return"object"==typeof n&&null!=n&&n.outlets}function DE(n,e,t,i,r){let s={};return i&&Ln(i,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new tl(t.root===n?e:XL(t.root,n,e),s,r)}function XL(n,e,t){const i={};return Ln(n.children,(r,s)=>{i[s]=r===e?t:XL(r,e,t)}),new Ve(n.segments,i)}class ZL{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&jm(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Qh);if(r&&r!==PL(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xE{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function eV(n,e,t){if(n||(n=new Ve([],{})),0===n.segments.length&&n.hasChildren())return Hm(n,e,t);const i=function(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Qh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!nV(l,c,o))return s;i+=2}else{if(!nV(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ve(n.segments.slice(0,i.pathIndex),{});return s.children[Ne]=new Ve(n.segments.slice(i.pathIndex),n.children),Hm(s,0,r)}return i.match&&0===r.length?new Ve(n.segments,{}):i.match&&!n.hasChildren()?SE(n,e,t):i.match?Hm(n,0,r):SE(n,e,t)}function Hm(n,e,t){if(0===t.length)return new Ve(n.segments,{});{const i=function(n){return Qh(n[0])?n[0].outlets:{[Ne]:n}}(t),r={};return Ln(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=eV(n.children[o],e,s))}),Ln(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ve(n.segments,r)}}function SE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Qh(s)){const l=Kne(s.outlets);return new Ve(i,l)}if(0===r&&jm(t[0])){i.push(new zh(n.segments[e].path,tV(t[0]))),r++;continue}const o=Qh(s)?s.outlets[Ne]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&jm(a)?(i.push(new zh(o,tV(a))),r+=2):(i.push(new zh(o,{})),r++)}return new Ve(i,{})}function Kne(n){const e={};return Ln(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=SE(new Ve([],{}),0,t))}),e}function tV(n){const e={};return Ln(n,(t,i)=>e[i]=`${t}`),e}function nV(n,e,t){return n==t.path&&Ds(e,t.parameters)}class Yne{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),CE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Kh(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Ln(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Kh(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Kh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new mne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pne(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(CE(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),iV(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function iV(n){CE(n.value),n.children.forEach(iV)}class IE{constructor(e,t){this.routes=e,this.module=t}}function zo(n){return"function"==typeof n}function rl(n){return n instanceof tl}const Yh=Symbol("INITIAL_VALUE");function Jh(){return zi(n=>wL(n.map(e=>e.pipe(Es(1),Jr(Yh)))).pipe(DL((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==Yh?r:(s===Yh&&(i=!0),i||!1!==s&&o!==t.length-1&&!rl(s)?r:s),e)},Yh),En(e=>e!==Yh),he(e=>rl(e)?e:!0===e),Es(1)))}let rV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&Te(0,"router-outlet")},directives:function(){return[RE]},encapsulation:2}),n})();function sV(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];iie(i,rie(e,i))}}function iie(n,e){n.children&&sV(n.children,e)}function rie(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function AE(n){const e=n.children&&n.children.map(AE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ne&&(t.component=rV),t}function _r(n){return n.outlet||Ne}function oV(n,e){const t=n.filter(i=>_r(i)===e);return t.push(...n.filter(i=>_r(i)!==e)),t}const aV={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $m(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},aV):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||vne)(t,n,e);if(!s)return Object.assign({},aV);const o={};Ln(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Gm(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>Wm(n,e,i)&&_r(i)!==Ne)}(n,t,i)){const o=new Ve(e,function(n,e,t,i){const r={};r[Ne]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&_r(s)!==Ne){const o=new Ve([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[_r(s)]=o}return r}(n,e,i,new Ve(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>Wm(n,e,i))}(n,t,i)){const o=new Ve(n.segments,function(n,e,t,i,r,s){const o={};for(const a of i)if(Wm(n,t,a)&&!r[_r(a)]){const l=new Ve([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[_r(a)]=l}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ve(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Wm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lV(n,e,t,i){return!!(_r(n)===i||i!==Ne&&Wm(e,t,n))&&("**"===n.path||$m(e,n,t).matched)}function cV(n,e,t){return 0===e.length&&!n.children[t]}class Xh{constructor(e){this.segmentGroup=e||null}}class uV{constructor(e){this.urlTree=e}}function zm(n){return new oe(e=>e.error(new Xh(n)))}function dV(n){return new oe(e=>e.error(new uV(n)))}function cie(n){return new oe(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class hie{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ws)}apply(){const e=Gm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ve(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ne).pipe(he(s=>this.createUrlTree(TE(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Go(s=>{if(s instanceof uV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Xh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ne).pipe(he(r=>this.createUrlTree(TE(r),e.queryParams,e.fragment))).pipe(Go(r=>{throw r instanceof Xh?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Ve([],{[Ne]:e}):e;return new tl(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(he(s=>new Ve([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return mn(r).pipe(cu(s=>{const o=i.children[s],a=oV(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(he(l=>({segment:l,outlet:s})))}),DL((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?En((r,s)=>n(r,s,i)):rt,pE(1),t?SL(e):xL(()=>new km))}())}expandSegment(e,t,i,r,s,o){return mn(i).pipe(cu(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(Go(c=>{if(c instanceof Xh)return ae(null);throw c}))),uu(a=>!!a),Go((a,l)=>{if(a instanceof km||"EmptyError"===a.name){if(cV(t,r,s))return ae(new Ve([],{}));throw new Xh(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return lV(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):zm(t):zm(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dV(s):this.lineralizeSegments(i,s).pipe(yn(o=>{const a=new Ve(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=$m(t,r,s);if(!a)return zm(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?dV(d):this.lineralizeSegments(r,d).pipe(yn(h=>this.expandSegment(e,t,i,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ae(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(he(h=>(i._loadedConfig=h,new Ve(r,{})))):ae(new Ve(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=$m(t,i,r);if(!o)return zm(t);const c=r.slice(l);return this.getChildConfig(e,i,r).pipe(yn(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:y}=Gm(t,a,c,f),v=new Ve(p.segments,p.children);if(0===y.length&&v.hasChildren())return this.expandChildren(h,f,v).pipe(he(V=>new Ve(a,V)));if(0===f.length&&0===y.length)return ae(new Ve(a,{}));const x=_r(i)===s;return this.expandSegment(h,v,f,y,x?Ne:s,!0).pipe(he(N=>new Ve(a.concat(N.segments),N.children)))}))}getChildConfig(e,t,i){return t.children?ae(new IE(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ae(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(yn(r=>r?this.configLoader.load(e.injector,t).pipe(he(s=>(t._loadedConfig=s,s))):function(n){return new oe(e=>e.error(mE(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ae(new IE([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?ae(r.map(o=>{const a=e.get(o);let l;if(function(n){return n&&zo(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!zo(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return xs(l)})).pipe(Jh(),Dn(o=>{if(!rl(o))return;const a=mE(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),he(o=>!0===o)):ae(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ae(i);if(r.numberOfChildren>1||!r.children[Ne])return cie(e.redirectTo);r=r.children[Ne]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new tl(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Ln(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Ln(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new Ve(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function TE(n){const e={};for(const i of Object.keys(n.children)){const s=TE(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Ne]){const e=n.children[Ne];return new Ve(n.segments.concat(e.segments),e.children)}return n}(new Ve(n.segments,e))}class hV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qm{constructor(e,t){this.component=e,this.route=t}}function gie(n,e,t){const i=n._root;return Zh(i,e?e._root:null,t,[i.value])}function Km(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Zh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kh(e);return n.children.forEach(o=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!nl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nl(n.url,e.url)||!Ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EE(n,e)||!Ds(n.queryParams,e.queryParams);case"paramsChange":default:return!EE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hV(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Zh(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qm(a.outlet.component,o))}else o&&ef(e,a,r),r.canActivateChecks.push(new hV(i)),Zh(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Ln(s,(o,a)=>ef(o,t.getContext(a),r)),r}function ef(n,e,t){const i=Kh(n),r=n.value;Ln(i,(s,o)=>{ef(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Aie{}function fV(n){return new oe(e=>e.error(n))}class Mie{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Gm(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ne);if(null===t)return null;const i=new Bm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ne,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new no(i,t),s=new QL(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=KL(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=oV(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=pV(i);return function(n){n.sort((e,t)=>e.value.outlet===Ne?-1:t.value.outlet===Ne?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return cV(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!lV(e,t,i,r))return null;let s,o=[],a=[];if("**"===e.path){const f=i.length>0?PL(i).parameters:{};s=new Bm(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yV(e),_r(e),e.component,e,gV(t),mV(t)+i.length,_V(e))}else{const f=$m(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),s=new Bm(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yV(e),_r(e),e.component,e,gV(t),mV(t)+o.length,_V(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Gm(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new no(s,f)]}if(0===l.length&&0===u.length)return[new no(s,[])];const d=_r(e)===r,h=this.processSegment(l,c,u,d?Ne:r);return null===h?null:[new no(s,h)]}}function Oie(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pV(n){const e=[],t=new Set;for(const i of n){if(!Oie(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=pV(i.children);e.push(new no(i.value,r))}return e.filter(i=>!t.has(i))}function gV(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mV(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function yV(n){return n.data||{}}function _V(n){return n.resolve||{}}function ME(n){return zi(e=>{const t=n(e);return t?mn(t).pipe(he(()=>e)):ae(e)})}class jie extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kE=new q("ROUTES");class vV{constructor(e,t,i,r){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(he(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new IE(NL(o.injector.get(kE,void 0,ce.Self|ce.Optional)).map(AE),o)}),Go(s=>{throw t._loader$=void 0,s}));return t._loader$=new nk(r,()=>new te).pipe(Kv()),t._loader$}loadModuleFactory(e){return"string"==typeof e?mn(this.loader.load(e)):xs(e()).pipe(yn(t=>t instanceof qP?ae(t):mn(this.compiler.compileModuleAsync(t))))}}class Hie{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hu,this.attachRef=null}}class hu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hie,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Gie{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wie(n){throw n}function zie(n,e,t){return e.parse("/")}function bV(n,e){return ae(null)}const qie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vn=(()=>{class n{constructor(t,i,r,s,o,a,l,c){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new te,this.errorHandler=Wie,this.malformedUriErrorHandler=zie,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bV,afterPreactivation:bV},this.urlHandlingStrategy=new Gie,this.routeReuseStrategy=new jie,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ws),this.console=o.get(nm);const h=o.get(U);this.isNgZoneEnabled=h instanceof U&&U.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new tl(new Ve([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vV(a,l,f=>this.triggerEvent(new TL(f)),f=>this.triggerEvent(new ML(f))),this.routerState=qL(this.currentUrlTree,this.rootComponentType),this.transitions=new pi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(En(r=>0!==r.id),he(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),zi(r=>{let s=!1,o=!1;return ae(r).pipe(Dn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zi(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Qm(a.source)&&(this.browserUrlTree=a.extractedUrl),ae(a).pipe(zi(d=>{const h=this.transitions.getValue();return i.next(new gE(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?lu:Promise.resolve(d)}),function(n,e,t,i){return zi(r=>function(n,e,t,i,r){return new hie(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(he(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Dn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,i,r){return yn(s=>function(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new Mie(n,e,t,i,r,s).recognize();return null===o?fV(new Aie):ae(o)}catch(o){return fV(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(he(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Dn(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new lne(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:y,extras:v}=a,x=new gE(h,this.serializeUrl(f),p,y);i.next(x);const D=qL(f,this.rootComponentType).snapshot;return ae(Object.assign(Object.assign({},a),{targetSnapshot:D,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),lu}),ME(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Dn(a=>{const l=new cne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),he(a=>Object.assign(Object.assign({},a),{guards:gie(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return yn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ae(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return mn(n).pipe(yn(r=>function(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(a=>{const l=Km(a,e,r);let c;if(function(n){return n&&zo(n.canDeactivate)}(l))c=xs(l.canDeactivate(n,e,t,i));else{if(!zo(l))throw new Error("Invalid CanDeactivate guard");c=xs(l(n,e,t,i))}return c.pipe(uu())})).pipe(Jh()):ae(!0)}(r.component,r.route,t,e,i)),uu(r=>!0!==r,!0))}(o,i,r,n).pipe(yn(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,i){return mn(e).pipe(cu(r=>Rm(function(n,e){return null!==n&&e&&e(new fne(n)),ae(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new gne(n)),ae(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>CL(()=>ae(o.guards.map(l=>{const c=Km(l,o.node,t);let u;if(function(n){return n&&zo(n.canActivateChild)}(c))u=xs(c.canActivateChild(i,n));else{if(!zo(c))throw new Error("Invalid CanActivateChild guard");u=xs(c(i,n))}return u.pipe(uu())})).pipe(Jh())));return ae(s).pipe(Jh())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?ae(i.map(s=>CL(()=>{const o=Km(s,e,t);let a;if(function(n){return n&&zo(n.canActivate)}(o))a=xs(o.canActivate(e,n));else{if(!zo(o))throw new Error("Invalid CanActivate guard");a=xs(o(e,n))}return a.pipe(uu())}))).pipe(Jh()):ae(!0)}(n,r.route,t))),uu(r=>!0!==r,!0))}(i,s,n,e):ae(a)),he(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Dn(a=>{if(rl(a.guardsResult)){const c=mE(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new une(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),En(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),ME(a=>{if(a.guards.canActivateChecks.length)return ae(a).pipe(Dn(l=>{const c=new dne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),zi(l=>{let c=!1;return ae(l).pipe(function(n,e){return yn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ae(t);let s=0;return mn(r).pipe(cu(o=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return ae({});const s={};return mn(r).pipe(yn(o=>function(n,e,t,i){const r=Km(n,e,i);return xs(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(Dn(a=>{s[o]=a}))),pE(1),yn(()=>Object.keys(s).length===r.length?ae(s):lu))}(n._resolve,n,e,i).pipe(he(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),KL(n,t).resolve),null)))}(o.route,i,n,e)),Dn(()=>s++),pE(1),yn(o=>s===r.length?ae(t):lu))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Dn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Dn(l=>{const c=new hne(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),ME(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),he(a=>{const l=function(n,e,t){const i=Um(n,e._root,t?t._root:void 0);return new zL(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Dn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>he(i=>(new Yne(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Dn({next(){s=!0},complete(){s=!0}}),IL(()=>{if(!s&&!o){const a=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,a)):this.cancelNavigationTransition(r,a)}this.currentNavigation=null}),Go(a=>{if(o=!0,function(n){return n&&n[RL]}(a)){const l=rl(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new AL(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qm(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new ane(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return lu}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:o}=i,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,r,s,a)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const r=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!r||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){sV(t),this.config=t.map(AE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,i,r){if(0===t.length)return DE(e.root,e.root,e,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ZL(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ln(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new ZL(t,e,i)}(t);if(s.toRoot())return DE(e.root,new Ve([],{}),e,i,r);const o=function(n,e,t){if(n.isAbsolute)return new xE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new xE(s,s===e.root,0)}const i=jm(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new xE(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Hm(o.segmentGroup,o.index,s.commands):eV(o.segmentGroup,o.index,s.commands);return DE(o.segmentGroup,a,e,i,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=rl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},qie):!1===i?Object.assign({},Kie):i,rl(t))return LL(this.currentUrlTree,t,r);const s=this.parseUrl(t);return LL(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Wh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Qm(i)&&c&&!Qm(c.source),f=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&f)return Promise.resolve(!0);let p,y,v;o?(p=o.resolve,y=o.reject,v=o.promise):v=new Promise((N,V)=>{p=N,y=V});const x=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),D=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):D=0,this.setTransition({id:x,targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:p,reject:y,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(N=>Promise.reject(N))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new AL(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(_(pg),_(yE),_(hu),_(Vh),_(We),_(rm),_(qa),_(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function Qm(n){return"imperative"!==n}let tf=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.commands=[],this.onChanges=new te,null==r&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:pu(this.skipLocationChange),replaceUrl:pu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g(Vn),g(il),Oa("tabindex"),g(fr),g(W))},n.\u0275dir=I({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&ft("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Pe]}),n})(),fu=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new te,this.subscription=t.events.subscribe(s=>{s instanceof Wh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target)return!0;const a={skipLocationChange:pu(this.skipLocationChange),replaceUrl:pu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(g(Vn),g(il),g(ou))},n.\u0275dir=I({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&ft("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&(Bg("href",i.href,nh),Vt("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Pe]}),n})();function pu(n){return""===n||!!n}let RE=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new S,this.deactivateEvents=new S,this.name=s||Ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Xie(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g(hu),g(di),g(Qs),Oa("name"),g(Gi))},n.\u0275dir=I({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Xie{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===il?this.route:e===hu?this.childContexts:this.parent.get(e,t)}}class wV{}class CV{preload(e,t){return ae(null)}}let EV=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=new vV(i,r,c=>t.triggerEvent(new TL(c)),c=>t.triggerEvent(new ML(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof Wh),cu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ws);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return mn(r).pipe(Pd(),he(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ae(i._loadedConfig):this.loader.load(t.injector,i)).pipe(yn(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(_(Vn),_(rm),_(qa),_(We),_(wV))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),OE=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kL&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new kL(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(Vn),_(sL),_(void 0))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const sl=new q("ROUTER_CONFIGURATION"),DV=new q("ROUTER_FORROOT_GUARD"),ere=[Vh,{provide:yE,useClass:jL},{provide:Vn,useFactory:function(n,e,t,i,r,s,o,a={},l,c){const u=new Vn(null,n,e,t,i,r,s,NL(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),u},deps:[yE,hu,Vh,We,rm,qa,kE,sl,[class{},new vn],[class{},new vn]]},hu,{provide:il,useFactory:function(n){return n.routerState.root},deps:[Vn]},{provide:rm,useClass:nX},EV,CV,class{preload(e,t){return t().pipe(Go(()=>ae(null)))}},{provide:sl,useValue:{enableTracing:!1}}];function tre(){return new IC("Router",Vn)}let NE=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[ere,xV(t),{provide:DV,useFactory:rre,deps:[[Vn,new vn,new Gs]]},{provide:sl,useValue:i||{}},{provide:ou,useFactory:ire,deps:[Ja,[new fs(GC),new vn],sl]},{provide:OE,useFactory:nre,deps:[Vn,sL,sl]},{provide:wV,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:CV},{provide:IC,multi:!0,useFactory:tre},[PE,{provide:Rh,multi:!0,useFactory:lre,deps:[PE]},{provide:SV,useFactory:cre,deps:[PE]},{provide:vC,multi:!0,useExisting:SV}]]}}static forChild(t){return{ngModule:n,providers:[xV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(_(DV,8),_(Vn,8))},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})();function nre(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new OE(n,e,t)}function ire(n,e,t={}){return t.useHash?new CZ(n,e):new U1(n,e)}function rre(n){return"guarded"}function xV(n){return[{provide:T4,multi:!0,useValue:n},{provide:kE,multi:!0,useValue:n}]}let PE=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new te}appInitializer(){return this.injector.get(vZ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(Vn),o=this.injector.get(sl);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ae(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(sl),r=this.injector.get(EV),s=this.injector.get(OE),o=this.injector.get(Vn),a=this.injector.get(Ka);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(_(We))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();function lre(n){return n.appInitializer.bind(n)}function cre(n){return n.bootstrapListener.bind(n)}const SV=new q("Router Initializer");let IV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["app-about"]],decls:14,vars:0,consts:[[1,"container","height-webkit"],[1,"row","margin-bottom-20","back-pad"],[1,"col-md-6"],[1,"img-box"],["src","../../assets/images/about-img.png","alt","",1,"img-class-"],[1,"detail-box"],[1,"heading_container"],["href",""]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"div",3),Te(4,"img",4),E(),E(),C(5,"div",2),C(6,"div",5),C(7,"div",6),C(8,"h2"),B(9," About Us "),E(),E(),C(10,"p"),B(11," Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti dolorem eum consequuntur ipsam repellat dolor soluta aliquid laborum, eius odit consectetur vel quasi in quidem, eveniet ab est corporis tempore. "),E(),C(12,"a",7),B(13," Read More "),E(),E(),E(),E(),E())},styles:[".img-class-[_ngcontent-%COMP%]{width:-webkit-fill-available}.margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}"]}),n})(),AV=(()=>{class n{constructor(){this.aggregate={type:"aggregate",details:[{name:"10-mm",filePath:"../../assets/images/10mm-Aggregate.jpg"},{name:"12-mm",filePath:"../../assets/images/12-mm-crusher-aggregate-stone-500x500.jpg"},{name:"20-mm",filePath:"../../assets/images/20mmaggregate.jpg"},{name:"40-mm",filePath:"../../assets/images/40-mm-construction-aggregate-500x500.jpg"}]},this.sand={type:"sand",details:[{name:"aggregate-sand",filePath:"../../assets/images/aggregate-sand.jpeg"},{name:"river-sand",filePath:"../../assets/images/river-sand.jpg"},{name:"river-sand-yellow-type-1",filePath:"../../assets/images/river-sand-500x500-e1573411329410.jpeg"},{name:"river-sand-yellow-type-2",filePath:"../../assets/images/SAND-2.jpg"},{name:"river-sand-yellow-type-3",filePath:"../../assets/images/sandType1.jpeg"}]},this.brick={type:"brick",details:[{name:"brick",filePath:"../../assets/images/chamber-brick-500x500.jpg"}]}}getProducts(t){switch(t){case this.aggregate.type:return this.aggregate;case this.sand.type:return this.sand;case this.brick.type:return this.brick;default:return this.aggregate}}addToCart(t){this.cartDetails=t}getCartData(){return this.cartDetails}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n,e,t,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function nf(n,e){return function(t,i){e(t,i,n)}}function w(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function qo(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}class hre extends pe{constructor(e,t){super()}schedule(e,t=0){return this}}class Jm extends hre{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let kV=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Xr extends kV{constructor(e,t=kV.now){super(e,()=>Xr.delegate&&Xr.delegate!==this?Xr.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Xr.delegate&&Xr.delegate!==this?Xr.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const LE=new Xr(Jm);function RV(n){return!Pi(n)&&n-parseFloat(n)+1>=0}function OV(n=0,e,t){let i=-1;return RV(e)?i=Number(e)<1?1:Number(e):xa(e)&&(t=e),xa(t)||(t=LE),new oe(r=>{const s=RV(n)?n:+n-t.now();return t.schedule(fre,s,{index:0,period:i,subscriber:r})})}function fre(n){const{index:e,period:t,subscriber:i}=n;if(i.next(e),!i.closed){if(-1===t)return i.complete();n.index=e+1,this.schedule(n,t)}}function NV(n,e,t){return t?NV(n,e).pipe(he(i=>Pi(i)?t(...i):t(i))):new oe(i=>{const r=(...o)=>i.next(1===o.length?o[0]:o);let s;try{s=n(r)}catch(o){return void i.error(o)}if(Vs(e))return()=>e(r,s)})}const mre=new class extends Xr{}(class extends Jm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});function VE(n,e){return new oe(e?t=>e.schedule(yre,0,{error:n,subscriber:t}):t=>t.error(n))}function yre({error:n,subscriber:e}){e.error(n)}class vr{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return ae(this.value);case"E":return VE(this.error);case"C":return Om()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new vr("N",e):vr.undefinedValueNotification}static createError(e){return new vr("E",void 0,e)}static createComplete(){return vr.completeNotification}}vr.completeNotification=new vr("C"),vr.undefinedValueNotification=new vr("N",void 0);class Xm extends nt{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Xm.dispatch,this.delay,new vre(e,this.destination)))}_next(e){this.scheduleMessage(vr.createNext(e))}_error(e){this.scheduleMessage(vr.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(vr.createComplete()),this.unsubscribe()}}class vre{constructor(e,t){this.notification=e,this.destination=t}}class BE extends te{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new bre(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new Da;if(this.isStopped||this.hasError?o=pe.EMPTY:(this.observers.push(e),o=new YM(this,e)),r&&e.add(e=new Xm(e,r)),t)for(let a=0;a<s&&!e.closed;a++)e.next(i[a]);else for(let a=0;a<s&&!e.closed;a++)e.next(i[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||mre).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(e-r[o].time<i);)o++;return s>t&&(o=Math.max(o,s-t)),o>0&&r.splice(0,o),r}}class bre{constructor(e,t){this.time=e,this.value=t}}class PV extends te{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),pe.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),pe.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}function FV(n,e,t){if(e){if(!xa(e))return(...i)=>FV(n,t)(...i).pipe(he(r=>Pi(r)?e(...r):e(r)));t=e}return function(...i){const r=this;let s;const o={context:r,subject:s,callbackFunc:n,scheduler:t};return new oe(a=>{if(t)return t.schedule(wre,0,{args:i,subscriber:a,params:o});if(!s){s=new PV;const l=(...c)=>{s.next(c.length<=1?c[0]:c),s.complete()};try{n.apply(r,[...i,l])}catch(c){se(s)?s.error(c):console.warn(c)}}return s.subscribe(a)})}}function wre(n){const{args:t,subscriber:i,params:r}=n,{callbackFunc:s,context:o,scheduler:a}=r;let{subject:l}=r;if(!l){l=r.subject=new PV;const c=(...u)=>{this.add(a.schedule(Cre,0,{value:u.length<=1?u[0]:u,subject:l}))};try{s.apply(o,[...t,c])}catch(u){l.error(u)}}this.add(l.subscribe(i))}function Cre(n){const{value:e,subject:t}=n;t.next(e),t.complete()}class Dre{constructor(e){this.notifier=e}call(e,t){const i=new xre(e),r=t.subscribe(i);return r.add(lc(this.notifier,new oc(i))),r}}class xre extends ac{constructor(){super(...arguments),this.hasValue=!1}_next(e){this.value=e,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Zm(n,e){return t=>t.lift(new Ire(n,e))}class Ire{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Are(e,this.compare,this.keySelector))}}class Are extends nt{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}function gt(n){return e=>e.lift(new Tre(n))}class Tre{constructor(e){this.notifier=e}call(e,t){const i=new Mre(e),r=lc(this.notifier,new oc(i));return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class Mre extends ac{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function UE(n){return e=>e.lift(new kre(n))}class kre{constructor(e){this.total=e}call(e,t){return t.subscribe(new Rre(e,this.total))}}class Rre extends nt{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}const VV=["*"];let Ss=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n})(),Rt=(()=>{let n=class{constructor(t,i){this._loader=t,this._zone=i,this._map=new Promise(r=>{this._mapResolver=r})}createMap(t,i){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const r=new google.maps.Map(t,i);this._mapResolver(r)}))}setMapOptions(t){return this._zone.runOutsideAngular(()=>{this._map.then(i=>{i.setOptions(t)})})}createMarker(t={},i=!0){return this._zone.runOutsideAngular(()=>this._map.then(r=>(i&&(t.map=r),new google.maps.Marker(t))))}createInfoWindow(t){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(t)))}createCircle(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>("string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),t.map=i,new google.maps.Circle(t))))}createRectangle(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>(t.map=i,new google.maps.Rectangle(t))))}createPolyline(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{let r=new google.maps.Polyline(t);return r.setMap(i),r}))}createPolygon(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{let r=new google.maps.Polygon(t);return r.setMap(i),r}))}createDataLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.Data(t);return r.setMap(i),r}))}createTransitLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.TransitLayer;return r.setMap(t.visible?i:null),r}))}createBicyclingLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.BicyclingLayer;return r.setMap(t.visible?i:null),r}))}containsLocation(t,i){return google.maps.geometry.poly.containsLocation(t,i)}subscribeToMapEvent(t){return new oe(i=>{this._map.then(r=>{r.addListener(t,s=>{this._zone.run(()=>i.next(s))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(t=>{google.maps.event.clearInstanceListeners(t)})})}setCenter(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setCenter(t)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getMapTypeId()))}setZoom(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setZoom(t)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getCenter()))}panTo(t){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.panTo(t)))}panBy(t,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panBy(t,i)))}fitBounds(t,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.fitBounds(t,i)))}panToBounds(t,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panToBounds(t,i)))}getNativeMap(){return this._map}triggerMapEvent(t){return this._map.then(i=>google.maps.event.trigger(i,t))}};return n.\u0275fac=function(t){return new(t||n)(_(Ss),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Ss,U])],n),n})(),rf=(()=>{let n=class{constructor(t){this._wrapper=t,this._layers=new Map}addTransitLayer(t,i){const r=this._wrapper.createTransitLayer(i);this._layers.set(t,r)}addBicyclingLayer(t,i){const r=this._wrapper.createBicyclingLayer(i);this._layers.set(t,r)}deleteLayer(t){return this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}toggleLayerVisibility(t,i){return this._layers.get(t).then(r=>{if(i.visible)return this._wrapper.getNativeMap().then(s=>{r.setMap(s)});r.setMap(null)})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt])],n),n})(),ey=(()=>{let n=class{constructor(t,i){this._apiWrapper=t,this._zone=i,this._circles=new Map}addCircle(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeCircle(t){return this._circles.get(t).then(i=>{i.setMap(null),this._circles.delete(t)})}setOptions(t,i){return this._circles.get(t).then(r=>{"string"==typeof i.strokePosition&&(i.strokePosition=google.maps.StrokePosition[i.strokePosition]),r.setOptions(i)})}getBounds(t){return this._circles.get(t).then(i=>i.getBounds())}getCenter(t){return this._circles.get(t).then(i=>i.getCenter())}getRadius(t){return this._circles.get(t).then(i=>i.getRadius())}setCenter(t){return this._circles.get(t).then(i=>i.setCenter({lat:t.latitude,lng:t.longitude}))}setEditable(t){return this._circles.get(t).then(i=>i.setEditable(t.editable))}setDraggable(t){return this._circles.get(t).then(i=>i.setDraggable(t.draggable))}setVisible(t){return this._circles.get(t).then(i=>i.setVisible(t.visible))}setRadius(t){return this._circles.get(t).then(i=>i.setRadius(t.radius))}getNativeCircle(t){return this._circles.get(t)}createEventObservable(t,i){return new oe(r=>{let s=null;return this._circles.get(i).then(o=>{s=o.addListener(t,a=>this._zone.run(()=>r.next(a)))}),()=>{null!==s&&s.remove()}})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})();var jE;let Be=jE=class{constructor(e){this._manager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new S,this.circleClick=new S,this.circleDblClick=new S,this.drag=new S,this.dragEnd=new S,this.dragStart=new S,this.mouseDown=new S,this.mouseMove=new S,this.mouseOut=new S,this.mouseOver=new S,this.mouseUp=new S,this.radiusChange=new S,this.rightClick=new S,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(e){!this._circleAddedToManager||((e.latitude||e.longitude)&&this._manager.setCenter(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),e.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(e))}_updateCircleOptionsChanges(e){let t={},i=Object.keys(e).filter(r=>-1!==jE._mapOptions.indexOf(r));i.forEach(r=>{t[r]=e[r].currentValue}),i.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let e=new Map;e.set("center_changed",this.centerChange),e.set("click",this.circleClick),e.set("dblclick",this.circleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragstart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("radius_changed",this.radiusChange),e.set("rightclick",this.rightClick),e.forEach((t,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{switch(i){case"radius_changed":this._manager.getRadius(this).then(s=>t.emit(s));break;case"center_changed":this._manager.getCenter(this).then(s=>t.emit({lat:s.lat(),lng:s.lng()}));break;default:t.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(e){e.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};Be.\u0275fac=function(e){return new(e||Be)(g(ey))},Be.\u0275dir=I({type:Be,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[Pe]}),Be._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Be.ctorParameters=()=>[{type:ey}],b([T(),w("design:type",Number)],Be.prototype,"latitude",void 0),b([T(),w("design:type",Number)],Be.prototype,"longitude",void 0),b([T(),w("design:type",Object)],Be.prototype,"clickable",void 0),b([T("circleDraggable"),w("design:type",Object)],Be.prototype,"draggable",void 0),b([T(),w("design:type",Object)],Be.prototype,"editable",void 0),b([T(),w("design:type",String)],Be.prototype,"fillColor",void 0),b([T(),w("design:type",Number)],Be.prototype,"fillOpacity",void 0),b([T(),w("design:type",Object)],Be.prototype,"radius",void 0),b([T(),w("design:type",String)],Be.prototype,"strokeColor",void 0),b([T(),w("design:type",Number)],Be.prototype,"strokeOpacity",void 0),b([T(),w("design:type",String)],Be.prototype,"strokePosition",void 0),b([T(),w("design:type",Object)],Be.prototype,"strokeWeight",void 0),b([T(),w("design:type",Object)],Be.prototype,"visible",void 0),b([T(),w("design:type",Number)],Be.prototype,"zIndex",void 0),b([$(),w("design:type",S)],Be.prototype,"centerChange",void 0),b([$(),w("design:type",S)],Be.prototype,"circleClick",void 0),b([$(),w("design:type",S)],Be.prototype,"circleDblClick",void 0),b([$(),w("design:type",S)],Be.prototype,"drag",void 0),b([$(),w("design:type",S)],Be.prototype,"dragEnd",void 0),b([$(),w("design:type",S)],Be.prototype,"dragStart",void 0),b([$(),w("design:type",S)],Be.prototype,"mouseDown",void 0),b([$(),w("design:type",S)],Be.prototype,"mouseMove",void 0),b([$(),w("design:type",S)],Be.prototype,"mouseOut",void 0),b([$(),w("design:type",S)],Be.prototype,"mouseOver",void 0),b([$(),w("design:type",S)],Be.prototype,"mouseUp",void 0),b([$(),w("design:type",S)],Be.prototype,"radiusChange",void 0),b([$(),w("design:type",S)],Be.prototype,"rightClick",void 0),Be=jE=b([w("design:paramtypes",[ey])],Be);let sf=(()=>{let n=class{constructor(t,i){this._wrapper=t,this._zone=i,this._layers=new Map}addDataLayer(t){const i=this._wrapper.createDataLayer({style:t.style}).then(r=>(t.geoJson&&this.getDataFeatures(r,t.geoJson).then(s=>r.features=s),r));this._layers.set(t,i)}deleteDataLayer(t){this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}updateGeoJson(t,i){this._layers.get(t).then(r=>{r.forEach(function(s){r.remove(s);var o=r.features.indexOf(s,0);o>-1&&r.features.splice(o,1)}),this.getDataFeatures(r,i).then(s=>r.features=s)})}setDataOptions(t,i){this._layers.get(t).then(r=>{r.setControlPosition(i.controlPosition),r.setControls(i.controls),r.setDrawingMode(i.drawingMode),r.setStyle(i.style)})}createEventObservable(t,i){return new oe(r=>{this._layers.get(i).then(s=>{s.addListener(t,o=>this._zone.run(()=>r.next(o)))})})}getDataFeatures(t,i){return new Promise((r,s)=>{if("object"==typeof i)try{r(t.addGeoJson(i))}catch(o){s(o)}else"string"==typeof i?t.loadGeoJson(i,null,r):s("Impossible to extract features from geoJson: wrong argument type")})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})();var HE;let Pre=0,br=HE=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(Pre++).toString(),this._subscriptions=[],this.layerClick=new S,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:t=>this.layerClick.emit(t)}].forEach(t=>{const i=this._manager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(e=>e.unsubscribe())}ngOnChanges(e){if(!this._addedToManager)return;var t=e.geoJson;t&&this._manager.updateGeoJson(this,t.currentValue);let i={};HE._dataOptionsAttributes.forEach(r=>i[r]=e.hasOwnProperty(r)?e[r].currentValue:this[r]),this._manager.setDataOptions(this,i)}};br.\u0275fac=function(e){return new(e||br)(g(sf))},br.\u0275dir=I({type:br,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[Pe]}),br._dataOptionsAttributes=["style"],br.ctorParameters=()=>[{type:sf}],b([$(),w("design:type",S)],br.prototype,"layerClick",void 0),b([T(),w("design:type",Object)],br.prototype,"geoJson",void 0),b([T(),w("design:type",Function)],br.prototype,"style",void 0),br=HE=b([w("design:paramtypes",[sf])],br);class ty{}let gu=(()=>{let n=class{constructor(t){this._boundsChangeSampleTime$=new pi(200),this._includeInBounds$=new pi(new Map),this.bounds$=mn(t.load()).pipe(d8(()=>this._includeInBounds$),function(n){return e=>e.lift(new Dre(n))}(this._boundsChangeSampleTime$.pipe(zi(i=>OV(0,i)))),he(i=>this._generateBounds(i)),function(n,e,t){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:i}){let r,o,s=0,a=!1,l=!1;return function(u){let d;s++,!r||a?(a=!1,r=new BE(n,e,i),d=r.subscribe(this),o=u.subscribe({next(h){r.next(h)},error(h){a=!0,r.error(h)},complete(){l=!0,o=void 0,r.complete()}}),l&&(o=void 0)):d=r.subscribe(this),this.add(()=>{s--,d.unsubscribe(),d=void 0,o&&!l&&t&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}(1))}_generateBounds(t){const i=new google.maps.LatLngBounds;return t.forEach(r=>i.extend(r)),i}addToBounds(t){const i=this._createIdentifier(t);if(this._includeInBounds$.value.has(i))return;const r=this._includeInBounds$.value;r.set(i,t),this._includeInBounds$.next(r)}removeFromBounds(t){const i=this._includeInBounds$.value;i.delete(this._createIdentifier(t)),this._includeInBounds$.next(i)}changeFitBoundsChangeSampleTime(t){this._boundsChangeSampleTime$.next(t)}getBounds$(){return this.bounds$}_createIdentifier(t){return`${t.lat}+${t.lng}`}};return n.\u0275fac=function(t){return new(t||n)(_(Ss))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Ss])],n),n})(),mu=(()=>{let n=class{constructor(t,i){this._mapsWrapper=t,this._zone=i,this._markers=new Map}convertAnimation(t){return qo(this,void 0,void 0,function*(){return null===t?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[t])})}deleteMarker(t){const i=this._markers.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._markers.delete(t)}))}updateMarkerPosition(t){return this._markers.get(t).then(i=>i.setPosition({lat:t.latitude,lng:t.longitude}))}updateTitle(t){return this._markers.get(t).then(i=>i.setTitle(t.title))}updateLabel(t){return this._markers.get(t).then(i=>{i.setLabel(t.label)})}updateDraggable(t){return this._markers.get(t).then(i=>i.setDraggable(t.draggable))}updateIcon(t){return this._markers.get(t).then(i=>i.setIcon(t.iconUrl))}updateOpacity(t){return this._markers.get(t).then(i=>i.setOpacity(t.opacity))}updateVisible(t){return this._markers.get(t).then(i=>i.setVisible(t.visible))}updateZIndex(t){return this._markers.get(t).then(i=>i.setZIndex(t.zIndex))}updateClickable(t){return this._markers.get(t).then(i=>i.setClickable(t.clickable))}updateAnimation(t){return qo(this,void 0,void 0,function*(){(yield this._markers.get(t)).setAnimation(yield this.convertAnimation(t.animation))})}addMarker(t){const i=new Promise(r=>qo(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable,animation:yield this.convertAnimation(t.animation)}).then(r)}));this._markers.set(t,i)}getNativeMarker(t){return this._markers.get(t)}createEventObservable(t,i){return new oe(r=>{this._markers.get(i).then(s=>{s.addListener(t,o=>this._zone.run(()=>r.next(o)))})})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})(),ny=(()=>{let n=class{constructor(t,i,r){this._mapsWrapper=t,this._zone=i,this._markerManager=r,this._infoWindows=new Map}deleteInfoWindow(t){const i=this._infoWindows.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.close(),this._infoWindows.delete(t)}))}setPosition(t){return this._infoWindows.get(t).then(i=>i.setPosition({lat:t.latitude,lng:t.longitude}))}setZIndex(t){return this._infoWindows.get(t).then(i=>i.setZIndex(t.zIndex))}open(t){return this._infoWindows.get(t).then(i=>null!=t.hostMarker?this._markerManager.getNativeMarker(t.hostMarker).then(r=>this._mapsWrapper.getNativeMap().then(s=>i.open(s,r))):this._mapsWrapper.getNativeMap().then(r=>i.open(r)))}close(t){return this._infoWindows.get(t).then(i=>i.close())}setOptions(t,i){return this._infoWindows.get(t).then(r=>r.setOptions(i))}addInfoWindow(t){const i={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(i.position={lat:t.latitude,lng:t.longitude});const r=this._mapsWrapper.createInfoWindow(i);this._infoWindows.set(t,r)}createEventObservable(t,i){return new oe(r=>{this._infoWindows.get(i).then(s=>{s.addListener(t,o=>this._zone.run(()=>r.next(o)))})})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U),_(mu))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U,mu])],n),n})();var $E;let Lre=0,xn=$E=class{constructor(e,t){this._infoWindowManager=e,this._el=t,this.isOpen=!1,this.infoWindowClose=new S,this._infoWindowAddedToManager=!1,this._id=(Lre++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(e){!this._infoWindowAddedToManager||((e.latitude||e.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),e.zIndex&&this._infoWindowManager.setZIndex(this),e.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(e))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(e){let t={};Object.keys(e).filter(r=>-1!==$E._infoWindowOptionsInputs.indexOf(r)).forEach(r=>{t[r]=e[r].currentValue}),this._infoWindowManager.setOptions(this,t)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};xn.\u0275fac=function(e){return new(e||xn)(g(ny),g(W))},xn.\u0275cmp=xe({type:xn,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[Pe],ngContentSelectors:VV,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(e,t){1&e&&(It(),C(0,"div",0),Oe(1),E())},encapsulation:2}),xn._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],xn.ctorParameters=()=>[{type:ny},{type:W}],b([T(),w("design:type",Number)],xn.prototype,"latitude",void 0),b([T(),w("design:type",Number)],xn.prototype,"longitude",void 0),b([T(),w("design:type",Boolean)],xn.prototype,"disableAutoPan",void 0),b([T(),w("design:type",Number)],xn.prototype,"zIndex",void 0),b([T(),w("design:type",Number)],xn.prototype,"maxWidth",void 0),b([T(),w("design:type",Object)],xn.prototype,"isOpen",void 0),b([$(),w("design:type",S)],xn.prototype,"infoWindowClose",void 0),xn=$E=b([w("design:paramtypes",[ny,W])],xn);let iy=(()=>{let n=class{constructor(t,i){this._wrapper=t,this._zone=i,this._layers=new Map}addKmlLayer(t){const i=this._wrapper.getNativeMap().then(r=>new google.maps.KmlLayer({clickable:t.clickable,map:r,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex}));this._layers.set(t,i)}setOptions(t,i){this._layers.get(t).then(r=>r.setOptions(i))}deleteKmlLayer(t){this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}createEventObservable(t,i){return new oe(r=>{this._layers.get(i).then(s=>{s.addListener(t,o=>this._zone.run(()=>r.next(o)))})})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})();var GE;let Vre=0,Sn=GE=class{constructor(e){this._manager=e,this._addedToManager=!1,this._id=(Vre++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new S,this.defaultViewportChange=new S,this.statusChange=new S}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(e){!this._addedToManager||this._updatePolygonOptions(e)}_updatePolygonOptions(e){const t=Object.keys(e).filter(i=>-1!==GE._kmlLayerOptions.indexOf(i)).reduce((i,r)=>(i[r]=e[r].currentValue,i),{});Object.keys(t).length>0&&this._manager.setOptions(this,t)}_addEventListeners(){[{name:"click",handler:t=>this.layerClick.emit(t)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(t=>{const i=this._manager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(e=>e.unsubscribe())}};function WE(n){const e=["insert_at","remove_at","set_at"];return NV(t=>e.map(i=>n.addListener(i,(r,s)=>t.apply(n,[{newArr:n.getArray(),evName:i,index:r,previous:s}]))),(t,i)=>i.forEach(r=>r.remove()))}Sn.\u0275fac=function(e){return new(e||Sn)(g(iy))},Sn.\u0275dir=I({type:Sn,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[Pe]}),Sn._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],Sn.ctorParameters=()=>[{type:iy}],b([T(),w("design:type",Object)],Sn.prototype,"clickable",void 0),b([T(),w("design:type",Object)],Sn.prototype,"preserveViewport",void 0),b([T(),w("design:type",Object)],Sn.prototype,"screenOverlays",void 0),b([T(),w("design:type",Object)],Sn.prototype,"suppressInfoWindows",void 0),b([T(),w("design:type",String)],Sn.prototype,"url",void 0),b([T(),w("design:type",Number)],Sn.prototype,"zIndex",void 0),b([$(),w("design:type",S)],Sn.prototype,"layerClick",void 0),b([$(),w("design:type",S)],Sn.prototype,"defaultViewportChange",void 0),b([$(),w("design:type",S)],Sn.prototype,"statusChange",void 0),Sn=GE=b([w("design:paramtypes",[iy])],Sn);let ry=(()=>{let n=class{constructor(t,i){this._mapsWrapper=t,this._zone=i,this._polygons=new Map}addPolygon(t){const i=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,i)}updatePolygon(t){const i=this._polygons.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPaths(t.paths)}))}setPolygonOptions(t,i){return this._polygons.get(t).then(r=>{r.setOptions(i)})}deletePolygon(t){const i=this._polygons.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._polygons.delete(t)}))}getPath(t){return this._polygons.get(t).then(i=>i.getPath().getArray())}getPaths(t){return this._polygons.get(t).then(i=>i.getPaths().getArray().map(r=>r.getArray()))}createEventObservable(t,i){return new oe(r=>{this._polygons.get(i).then(s=>{s.addListener(t,o=>this._zone.run(()=>r.next(o)))})})}createPathEventObservable(t){return qo(this,void 0,void 0,function*(){const r=(yield this._polygons.get(t)).getPaths();return WE(r).pipe(Jr({newArr:r.getArray()}),zi(o=>cc(...o.newArr.map((a,l)=>WE(a).pipe(he(c=>({parentMVEvent:o,chMVCEvent:c,pathIndex:l}))))).pipe(Jr({parentMVEvent:o,chMVCEvent:null,pathIndex:null}))),UE(1),he(({parentMVEvent:o,chMVCEvent:a,pathIndex:l})=>{let c;return a?(c={newArr:o.newArr.map(u=>u.getArray().map(d=>d.toJSON())),pathIndex:l,eventName:a.evName,index:a.index},a.previous&&(c.previous=a.previous)):(c={newArr:o.newArr.map(u=>u.getArray().map(d=>d.toJSON())),eventName:o.evName,index:o.index},o.previous&&(c.previous=o.previous.getArray())),c}))})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})();var ol;let wr=ol=class{constructor(e,t){this._mapsWrapper=e,this._zone=t,this._polylines=new Map}static _convertPoints(e){return e._getPoints().map(i=>({lat:i.latitude,lng:i.longitude}))}static _convertPath(e){const t=google.maps.SymbolPath[e];return"number"==typeof t?t:e}static _convertIcons(e){const t=e._getIcons().map(i=>({fixedRotation:i.fixedRotation,offset:i.offset,repeat:i.repeat,icon:{anchor:new google.maps.Point(i.anchorX,i.anchorY),fillColor:i.fillColor,fillOpacity:i.fillOpacity,path:ol._convertPath(i.path),rotation:i.rotation,scale:i.scale,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight}}));return t.forEach(i=>{Object.entries(i).forEach(([r,s])=>{void 0===s&&delete i[r]}),(void 0===i.icon.anchor.x||void 0===i.icon.anchor.y)&&delete i.icon.anchor}),t}addPolyline(e){const t=this._mapsWrapper.getNativeMap().then(()=>[ol._convertPoints(e),ol._convertIcons(e)]).then(([i,r])=>this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:i,icons:r}));this._polylines.set(e,t)}updatePolylinePoints(e){const t=ol._convertPoints(e),i=this._polylines.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPath(t)}))}updateIconSequences(e){return qo(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const t=ol._convertIcons(e),i=this._polylines.get(e);if(null!=i)return i.then(r=>this._zone.run(()=>r.setOptions({icons:t})))})}setPolylineOptions(e,t){return this._polylines.get(e).then(i=>{i.setOptions(t)})}deletePolyline(e){const t=this._polylines.get(e);return null==t?Promise.resolve():t.then(i=>this._zone.run(()=>{i.setMap(null),this._polylines.delete(e)}))}getMVCPath(e){return qo(this,void 0,void 0,function*(){return(yield this._polylines.get(e)).getPath()})}getPath(e){return qo(this,void 0,void 0,function*(){return(yield this.getMVCPath(e)).getArray()})}createEventObservable(e,t){return new oe(i=>{this._polylines.get(t).then(r=>{r.addListener(e,s=>this._zone.run(()=>i.next(s)))})})}createPathEventObservable(e){return qo(this,void 0,void 0,function*(){return WE(yield this.getMVCPath(e))})}};wr.\u0275fac=function(e){return new(e||wr)(_(Rt),_(U))},wr.\u0275prov=M({token:wr,factory:function(n){return wr.\u0275fac(n)}}),wr.ctorParameters=()=>[{type:Rt},{type:U}],wr=ol=b([w("design:paramtypes",[Rt,U])],wr);let sy=(()=>{let n=class{constructor(t,i){this._apiWrapper=t,this._zone=i,this._rectangles=new Map}addRectangle(t){this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeRectangle(t){return this._rectangles.get(t).then(i=>{i.setMap(null),this._rectangles.delete(t)})}setOptions(t,i){return this._rectangles.get(t).then(r=>r.setOptions(i))}getBounds(t){return this._rectangles.get(t).then(i=>i.getBounds())}setBounds(t){return this._rectangles.get(t).then(i=>i.setBounds({north:t.north,east:t.east,south:t.south,west:t.west}))}setEditable(t){return this._rectangles.get(t).then(i=>i.setEditable(t.editable))}setDraggable(t){return this._rectangles.get(t).then(i=>i.setDraggable(t.draggable))}setVisible(t){return this._rectangles.get(t).then(i=>i.setVisible(t.visible))}createEventObservable(t,i){return oe.create(r=>{let s=null;return this._rectangles.get(i).then(o=>{s=o.addListener(t,a=>this._zone.run(()=>r.next(a)))}),()=>{null!==s&&s.remove()}})}};return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(U))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([w("design:paramtypes",[Rt,U])],n),n})();var zE;let Z=zE=class{constructor(e,t,i,r,s){this._elem=e,this._mapsWrapper=t,this._platformId=i,this._fitBoundsService=r,this._zone=s,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new S,this.mapRightClick=new S,this.mapDblClick=new S,this.centerChange=new S,this.boundsChange=new S,this.mapTypeIdChange=new S,this.idle=new S,this.zoomChange=new S,this.mapReady=new S,this.tilesLoaded=new S}ngOnInit(){if(Za(this._platformId))return;const e=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(e)}_initMapInstance(e){this._mapsWrapper.createMap(e,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(t=>this.mapReady.emit(t)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(e=>e.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(e){this._updateMapOptionsChanges(e),this._updatePosition(e)}_updateMapOptionsChanges(e){let t={};Object.keys(e).filter(r=>-1!==zE._mapOptionsAttributes.indexOf(r)).forEach(r=>{t[r]=e[r].currentValue}),this._mapsWrapper.setMapOptions(t)}triggerResize(e=!0){return new Promise(t=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{e&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),t()}))})}_updatePosition(e){if(null!=e.latitude||null!=e.longitude||e.fitBounds){if("fitBounds"in e)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){let e={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(e):this._mapsWrapper.setCenter(e)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(e=>{this._zone.run(()=>this._updateBounds(e,this.fitBoundsPadding))})})}_updateBounds(e,t){if(e){if(this._isLatLngBoundsLiteral(e)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){const i=new google.maps.LatLngBounds;i.union(e),e=i}if(this.usePanning)return void this._mapsWrapper.panToBounds(e,t);this._mapsWrapper.fitBounds(e,t)}}_isLatLngBoundsLiteral(e){return null!=e&&void 0===e.extend}_handleMapCenterChange(){const e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(t=>{this.latitude=t.lat(),this.longitude=t.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(e)}_handleBoundsChange(){const e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(t=>{this.boundsChange.emit(t)})});this._observableSubscriptions.push(e)}_handleMapTypeIdChange(){const e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(t=>{this.mapTypeIdChange.emit(t)})});this._observableSubscriptions.push(e)}_handleMapZoomChange(){const e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(t=>{this.zoom=t,this.zoomChange.emit(t)})});this._observableSubscriptions.push(e)}_handleIdleEvent(){const e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(e)}_handleTilesLoadedEvent(){const e=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(e)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(t=>{const i=this._mapsWrapper.subscribeToMapEvent(t.name).subscribe(r=>{let s={coords:{lat:r.latLng.lat(),lng:r.latLng.lng()},placeId:r.placeId};s.placeId&&!this.showDefaultInfoWindow&&r.stop(),t.emitter.emit(s)});this._observableSubscriptions.push(i)})}};var qE;Z.\u0275fac=function(e){return new(e||Z)(g(W),g(Rt),g(cn),g(gu),g(U))},Z.\u0275cmp=xe({type:Z,selectors:[["agm-map"]],hostVars:2,hostBindings:function(e,t){2&e&&pt("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[Me([ey,sf,sf,gu,Rt,ny,iy,rf,mu,ry,wr,sy]),Pe],ngContentSelectors:VV,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(e,t){1&e&&(It(),Te(0,"div",0),C(1,"div",1),Oe(2),E())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),Z._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],Z.ctorParameters=()=>[{type:W},{type:Rt},{type:Object,decorators:[{type:fs,args:[cn]}]},{type:gu},{type:U}],b([T(),w("design:type",Object)],Z.prototype,"longitude",void 0),b([T(),w("design:type",Object)],Z.prototype,"latitude",void 0),b([T(),w("design:type",Object)],Z.prototype,"zoom",void 0),b([T(),w("design:type",Number)],Z.prototype,"minZoom",void 0),b([T(),w("design:type",Number)],Z.prototype,"maxZoom",void 0),b([T(),w("design:type",Number)],Z.prototype,"controlSize",void 0),b([T("mapDraggable"),w("design:type",Object)],Z.prototype,"draggable",void 0),b([T(),w("design:type",Object)],Z.prototype,"disableDoubleClickZoom",void 0),b([T(),w("design:type",Object)],Z.prototype,"disableDefaultUI",void 0),b([T(),w("design:type",Object)],Z.prototype,"scrollwheel",void 0),b([T(),w("design:type",String)],Z.prototype,"backgroundColor",void 0),b([T(),w("design:type",String)],Z.prototype,"draggableCursor",void 0),b([T(),w("design:type",String)],Z.prototype,"draggingCursor",void 0),b([T(),w("design:type",Object)],Z.prototype,"keyboardShortcuts",void 0),b([T(),w("design:type",Boolean)],Z.prototype,"zoomControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"zoomControlOptions",void 0),b([T(),w("design:type",Array)],Z.prototype,"styles",void 0),b([T(),w("design:type",Object)],Z.prototype,"usePanning",void 0),b([T(),w("design:type",Boolean)],Z.prototype,"streetViewControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"streetViewControlOptions",void 0),b([T(),w("design:type",Object)],Z.prototype,"fitBounds",void 0),b([T(),w("design:type",Object)],Z.prototype,"fitBoundsPadding",void 0),b([T(),w("design:type",Object)],Z.prototype,"scaleControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"scaleControlOptions",void 0),b([T(),w("design:type",Object)],Z.prototype,"mapTypeControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"mapTypeControlOptions",void 0),b([T(),w("design:type",Object)],Z.prototype,"panControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"panControlOptions",void 0),b([T(),w("design:type",Object)],Z.prototype,"rotateControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"rotateControlOptions",void 0),b([T(),w("design:type",Object)],Z.prototype,"fullscreenControl",void 0),b([T(),w("design:type",Object)],Z.prototype,"fullscreenControlOptions",void 0),b([T(),w("design:type",String)],Z.prototype,"mapTypeId",void 0),b([T(),w("design:type",Object)],Z.prototype,"clickableIcons",void 0),b([T(),w("design:type",Object)],Z.prototype,"showDefaultInfoWindow",void 0),b([T(),w("design:type",String)],Z.prototype,"gestureHandling",void 0),b([T(),w("design:type",Object)],Z.prototype,"tilt",void 0),b([T(),w("design:type",Object)],Z.prototype,"restriction",void 0),b([$(),w("design:type",S)],Z.prototype,"mapClick",void 0),b([$(),w("design:type",S)],Z.prototype,"mapRightClick",void 0),b([$(),w("design:type",S)],Z.prototype,"mapDblClick",void 0),b([$(),w("design:type",S)],Z.prototype,"centerChange",void 0),b([$(),w("design:type",S)],Z.prototype,"boundsChange",void 0),b([$(),w("design:type",S)],Z.prototype,"mapTypeIdChange",void 0),b([$(),w("design:type",S)],Z.prototype,"idle",void 0),b([$(),w("design:type",S)],Z.prototype,"zoomChange",void 0),b([$(),w("design:type",S)],Z.prototype,"mapReady",void 0),b([$(),w("design:type",S)],Z.prototype,"tilesLoaded",void 0),Z=zE=b([nf(2,fs(cn)),w("design:paramtypes",[W,Rt,Object,gu,U])],Z);let Bre=0,ot=qE=class{constructor(e){this._markerManager=e,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new S,this.markerClick=new S,this.markerDblClick=new S,this.markerRightClick=new S,this.dragStart=new S,this.drag=new S,this.dragEnd=new S,this.mouseOver=new S,this.mouseOut=new S,this.infoWindow=new Gr,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new BE(1),this._id=(Bre++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(e=>{e.hostMarker=this})}ngOnChanges(e){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(e.latitude||e.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),e.title&&this._markerManager.updateTitle(this),e.label&&this._markerManager.updateLabel(this),e.draggable&&this._markerManager.updateDraggable(this),e.iconUrl&&this._markerManager.updateIcon(this),e.opacity&&this._markerManager.updateOpacity(this),e.visible&&this._markerManager.updateVisible(this),e.zIndex&&this._markerManager.updateZIndex(this),e.clickable&&this._markerManager.updateClickable(this),e.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const e=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(u=>u.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(e);const t=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(t);const i=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(i);const r=this._markerManager.createEventObservable("dragstart",this).subscribe(u=>{this.dragStart.emit({coords:{lat:u.latLng.lat(),lng:u.latLng.lng()}})});this._observableSubscriptions.push(r);const s=this._markerManager.createEventObservable("drag",this).subscribe(u=>{this.drag.emit({coords:{lat:u.latLng.lat(),lng:u.latLng.lng()}})});this._observableSubscriptions.push(s);const o=this._markerManager.createEventObservable("dragend",this).subscribe(u=>{this.dragEnd.emit({coords:{lat:u.latLng.lat(),lng:u.latLng.lng()}})});this._observableSubscriptions.push(o);const a=this._markerManager.createEventObservable("mouseover",this).subscribe(u=>{this.mouseOver.emit({coords:{lat:u.latLng.lat(),lng:u.latLng.lng()}})});this._observableSubscriptions.push(a);const l=this._markerManager.createEventObservable("mouseout",this).subscribe(u=>{this.mouseOut.emit({coords:{lat:u.latLng.lat(),lng:u.latLng.lng()}})});this._observableSubscriptions.push(l);const c=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(c)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(e=>e.unsubscribe())}};var KE;ot.\u0275fac=function(e){return new(e||ot)(g(mu))},ot.\u0275dir=I({type:ot,selectors:[["agm-marker"]],contentQueries:function(e,t,i){if(1&e&&bn(i,xn,4),2&e){let r;yt(r=_t())&&(t.infoWindow=r)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[Me([{provide:ty,useExisting:Xe(()=>qE)}]),Pe]}),ot.ctorParameters=()=>[{type:mu}],b([T(),w("design:type",Number)],ot.prototype,"latitude",void 0),b([T(),w("design:type",Number)],ot.prototype,"longitude",void 0),b([T(),w("design:type",String)],ot.prototype,"title",void 0),b([T(),w("design:type",Object)],ot.prototype,"label",void 0),b([T("markerDraggable"),w("design:type",Object)],ot.prototype,"draggable",void 0),b([T(),w("design:type",String)],ot.prototype,"iconUrl",void 0),b([T(),w("design:type",Object)],ot.prototype,"visible",void 0),b([T(),w("design:type",Object)],ot.prototype,"openInfoWindow",void 0),b([T(),w("design:type",Object)],ot.prototype,"opacity",void 0),b([T(),w("design:type",Object)],ot.prototype,"zIndex",void 0),b([T("markerClickable"),w("design:type",Object)],ot.prototype,"clickable",void 0),b([T(),w("design:type",String)],ot.prototype,"animation",void 0),b([$(),w("design:type",Object)],ot.prototype,"animationChange",void 0),b([$(),w("design:type",S)],ot.prototype,"markerClick",void 0),b([$(),w("design:type",S)],ot.prototype,"markerDblClick",void 0),b([$(),w("design:type",S)],ot.prototype,"markerRightClick",void 0),b([$(),w("design:type",S)],ot.prototype,"dragStart",void 0),b([$(),w("design:type",S)],ot.prototype,"drag",void 0),b([$(),w("design:type",S)],ot.prototype,"dragEnd",void 0),b([$(),w("design:type",S)],ot.prototype,"mouseOver",void 0),b([$(),w("design:type",S)],ot.prototype,"mouseOut",void 0),b([Sb(xn),w("design:type",Gr)],ot.prototype,"infoWindow",void 0),ot=qE=b([w("design:paramtypes",[mu])],ot);let et=KE=class{constructor(e){this._polygonManager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new S,this.polyDblClick=new S,this.polyDrag=new S,this.polyDragEnd=new S,this.polyDragStart=new S,this.polyMouseDown=new S,this.polyMouseMove=new S,this.polyMouseOut=new S,this.polyMouseOver=new S,this.polyMouseUp=new S,this.polyRightClick=new S,this.polyPathsChange=new S,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(e){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(e)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:t=>this.polyClick.emit(t)},{name:"dblclick",handler:t=>this.polyDblClick.emit(t)},{name:"drag",handler:t=>this.polyDrag.emit(t)},{name:"dragend",handler:t=>this.polyDragEnd.emit(t)},{name:"dragstart",handler:t=>this.polyDragStart.emit(t)},{name:"mousedown",handler:t=>this.polyMouseDown.emit(t)},{name:"mousemove",handler:t=>this.polyMouseMove.emit(t)},{name:"mouseout",handler:t=>this.polyMouseOut.emit(t)},{name:"mouseover",handler:t=>this.polyMouseOver.emit(t)},{name:"mouseup",handler:t=>this.polyMouseUp.emit(t)},{name:"rightclick",handler:t=>this.polyRightClick.emit(t)}].forEach(t=>{const i=this._polygonManager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)}),this._polygonManager.createPathEventObservable(this).then(t=>{const i=t.subscribe(r=>this.polyPathsChange.emit(r));this._subscriptions.push(i)})}_updatePolygonOptions(e){return Object.keys(e).filter(t=>-1!==KE._polygonOptionsAttributes.indexOf(t)).reduce((t,i)=>(t[i]=e[i].currentValue,t),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(e=>e.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};et.\u0275fac=function(e){return new(e||et)(g(ry))},et.\u0275dir=I({type:et,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[Pe]}),et._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],et.ctorParameters=()=>[{type:ry}],b([T(),w("design:type",Object)],et.prototype,"clickable",void 0),b([T("polyDraggable"),w("design:type",Object)],et.prototype,"draggable",void 0),b([T(),w("design:type",Object)],et.prototype,"editable",void 0),b([T(),w("design:type",String)],et.prototype,"fillColor",void 0),b([T(),w("design:type",Number)],et.prototype,"fillOpacity",void 0),b([T(),w("design:type",Object)],et.prototype,"geodesic",void 0),b([T(),w("design:type",Array)],et.prototype,"paths",void 0),b([T(),w("design:type",String)],et.prototype,"strokeColor",void 0),b([T(),w("design:type",Number)],et.prototype,"strokeOpacity",void 0),b([T(),w("design:type",Number)],et.prototype,"strokeWeight",void 0),b([T(),w("design:type",Boolean)],et.prototype,"visible",void 0),b([T(),w("design:type",Number)],et.prototype,"zIndex",void 0),b([$(),w("design:type",S)],et.prototype,"polyClick",void 0),b([$(),w("design:type",S)],et.prototype,"polyDblClick",void 0),b([$(),w("design:type",S)],et.prototype,"polyDrag",void 0),b([$(),w("design:type",S)],et.prototype,"polyDragEnd",void 0),b([$(),w("design:type",S)],et.prototype,"polyDragStart",void 0),b([$(),w("design:type",S)],et.prototype,"polyMouseDown",void 0),b([$(),w("design:type",S)],et.prototype,"polyMouseMove",void 0),b([$(),w("design:type",S)],et.prototype,"polyMouseOut",void 0),b([$(),w("design:type",S)],et.prototype,"polyMouseOver",void 0),b([$(),w("design:type",S)],et.prototype,"polyMouseUp",void 0),b([$(),w("design:type",S)],et.prototype,"polyRightClick",void 0),b([$(),w("design:type",Object)],et.prototype,"polyPathsChange",void 0),et=KE=b([w("design:paramtypes",[ry])],et);let QE=(()=>{let n=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),b([T(),w("design:type",Boolean)],n.prototype,"fixedRotation",void 0),b([T(),w("design:type",String)],n.prototype,"offset",void 0),b([T(),w("design:type",String)],n.prototype,"repeat",void 0),b([T(),w("design:type",Number)],n.prototype,"anchorX",void 0),b([T(),w("design:type",Number)],n.prototype,"anchorY",void 0),b([T(),w("design:type",String)],n.prototype,"fillColor",void 0),b([T(),w("design:type",Number)],n.prototype,"fillOpacity",void 0),b([T(),w("design:type",String)],n.prototype,"path",void 0),b([T(),w("design:type",Number)],n.prototype,"rotation",void 0),b([T(),w("design:type",Number)],n.prototype,"scale",void 0),b([T(),w("design:type",String)],n.prototype,"strokeColor",void 0),b([T(),w("design:type",Number)],n.prototype,"strokeOpacity",void 0),b([T(),w("design:type",Number)],n.prototype,"strokeWeight",void 0),n})();var YE;let Cr=YE=class{constructor(){this.positionChanged=new S}ngOnChanges(e){(e.latitude||e.longitude)&&this.positionChanged.emit({lat:e.latitude?e.latitude.currentValue:this.latitude,lng:e.longitude?e.longitude.currentValue:this.longitude})}getFitBoundsDetails$(){return this.positionChanged.pipe(Jr({lat:this.latitude,lng:this.longitude}),he(e=>({latLng:e})))}};var JE;Cr.\u0275fac=function(e){return new(e||Cr)},Cr.\u0275dir=I({type:Cr,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[Me([{provide:ty,useExisting:Xe(()=>YE)}]),Pe]}),b([T(),w("design:type",Number)],Cr.prototype,"latitude",void 0),b([T(),w("design:type",Number)],Cr.prototype,"longitude",void 0),b([$(),w("design:type",S)],Cr.prototype,"positionChanged",void 0),Cr=YE=b([w("design:paramtypes",[])],Cr);let Ure=0,it=JE=class{constructor(e){this._polylineManager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new S,this.lineDblClick=new S,this.lineDrag=new S,this.lineDragEnd=new S,this.lineDragStart=new S,this.lineMouseDown=new S,this.lineMouseMove=new S,this.lineMouseOut=new S,this.lineMouseOver=new S,this.lineMouseUp=new S,this.lineRightClick=new S,this.polyPathChange=new S,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(Ure++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(i=>{const r=i.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(r)}),this._polylineAddedToManager||this._init();const e=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(e),this._polylineManager.updatePolylinePoints(this);const t=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(t)}ngOnChanges(e){if(!this._polylineAddedToManager)return void this._init();let t={};Object.keys(e).filter(r=>-1!==JE._polylineOptionsAttributes.indexOf(r)).forEach(r=>t[r]=e[r].currentValue),this._polylineManager.setPolylineOptions(this,t)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:t=>this.lineClick.emit(t)},{name:"dblclick",handler:t=>this.lineDblClick.emit(t)},{name:"drag",handler:t=>this.lineDrag.emit(t)},{name:"dragend",handler:t=>this.lineDragEnd.emit(t)},{name:"dragstart",handler:t=>this.lineDragStart.emit(t)},{name:"mousedown",handler:t=>this.lineMouseDown.emit(t)},{name:"mousemove",handler:t=>this.lineMouseMove.emit(t)},{name:"mouseout",handler:t=>this.lineMouseOut.emit(t)},{name:"mouseover",handler:t=>this.lineMouseOver.emit(t)},{name:"mouseup",handler:t=>this.lineMouseUp.emit(t)},{name:"rightclick",handler:t=>this.lineRightClick.emit(t)}].forEach(t=>{const i=this._polylineManager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)}),this._polylineManager.createPathEventObservable(this).then(t=>{const i=t.subscribe(r=>this.polyPathChange.emit(r));this._subscriptions.push(i)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(e=>e.unsubscribe())}};var XE;it.\u0275fac=function(e){return new(e||it)(g(wr))},it.\u0275dir=I({type:it,selectors:[["agm-polyline"]],contentQueries:function(e,t,i){if(1&e&&(bn(i,Cr,4),bn(i,QE,4)),2&e){let r;yt(r=_t())&&(t.points=r),yt(r=_t())&&(t.iconSequences=r)}},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[Pe]}),it._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],it.ctorParameters=()=>[{type:wr}],b([T(),w("design:type",Object)],it.prototype,"clickable",void 0),b([T("polylineDraggable"),w("design:type",Object)],it.prototype,"draggable",void 0),b([T(),w("design:type",Object)],it.prototype,"editable",void 0),b([T(),w("design:type",Object)],it.prototype,"geodesic",void 0),b([T(),w("design:type",String)],it.prototype,"strokeColor",void 0),b([T(),w("design:type",Number)],it.prototype,"strokeOpacity",void 0),b([T(),w("design:type",Number)],it.prototype,"strokeWeight",void 0),b([T(),w("design:type",Object)],it.prototype,"visible",void 0),b([T(),w("design:type",Number)],it.prototype,"zIndex",void 0),b([$(),w("design:type",S)],it.prototype,"lineClick",void 0),b([$(),w("design:type",S)],it.prototype,"lineDblClick",void 0),b([$(),w("design:type",S)],it.prototype,"lineDrag",void 0),b([$(),w("design:type",S)],it.prototype,"lineDragEnd",void 0),b([$(),w("design:type",S)],it.prototype,"lineDragStart",void 0),b([$(),w("design:type",S)],it.prototype,"lineMouseDown",void 0),b([$(),w("design:type",S)],it.prototype,"lineMouseMove",void 0),b([$(),w("design:type",S)],it.prototype,"lineMouseOut",void 0),b([$(),w("design:type",S)],it.prototype,"lineMouseOver",void 0),b([$(),w("design:type",S)],it.prototype,"lineMouseUp",void 0),b([$(),w("design:type",S)],it.prototype,"lineRightClick",void 0),b([$(),w("design:type",Object)],it.prototype,"polyPathChange",void 0),b([Sb(Cr),w("design:type",Gr)],it.prototype,"points",void 0),b([Sb(QE),w("design:type",Gr)],it.prototype,"iconSequences",void 0),it=JE=b([w("design:paramtypes",[wr])],it);let Ue=XE=class{constructor(e){this._manager=e,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new S,this.rectangleClick=new S,this.rectangleDblClick=new S,this.drag=new S,this.dragEnd=new S,this.dragStart=new S,this.mouseDown=new S,this.mouseMove=new S,this.mouseOut=new S,this.mouseOver=new S,this.mouseUp=new S,this.rightClick=new S,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(e){!this._rectangleAddedToManager||((e.north||e.east||e.south||e.west)&&this._manager.setBounds(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(e))}_updateRectangleOptionsChanges(e){let t={},i=Object.keys(e).filter(r=>-1!==XE._mapOptions.indexOf(r));i.forEach(r=>{t[r]=e[r].currentValue}),i.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let e=new Map;e.set("bounds_changed",this.boundsChange),e.set("click",this.rectangleClick),e.set("dblclick",this.rectangleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragStart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("rightclick",this.rightClick),e.forEach((t,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{switch(i){case"bounds_changed":this._manager.getBounds(this).then(s=>t.emit({north:s.getNorthEast().lat(),east:s.getNorthEast().lng(),south:s.getSouthWest().lat(),west:s.getSouthWest().lng()}));break;default:t.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(e){e.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};Ue.\u0275fac=function(e){return new(e||Ue)(g(sy))},Ue.\u0275dir=I({type:Ue,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[Pe]}),Ue._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Ue.ctorParameters=()=>[{type:sy}],b([T(),w("design:type",Number)],Ue.prototype,"north",void 0),b([T(),w("design:type",Number)],Ue.prototype,"east",void 0),b([T(),w("design:type",Number)],Ue.prototype,"south",void 0),b([T(),w("design:type",Number)],Ue.prototype,"west",void 0),b([T(),w("design:type",Object)],Ue.prototype,"clickable",void 0),b([T("rectangleDraggable"),w("design:type",Object)],Ue.prototype,"draggable",void 0),b([T(),w("design:type",Object)],Ue.prototype,"editable",void 0),b([T(),w("design:type",String)],Ue.prototype,"fillColor",void 0),b([T(),w("design:type",Number)],Ue.prototype,"fillOpacity",void 0),b([T(),w("design:type",String)],Ue.prototype,"strokeColor",void 0),b([T(),w("design:type",Number)],Ue.prototype,"strokeOpacity",void 0),b([T(),w("design:type",String)],Ue.prototype,"strokePosition",void 0),b([T(),w("design:type",Object)],Ue.prototype,"strokeWeight",void 0),b([T(),w("design:type",Object)],Ue.prototype,"visible",void 0),b([T(),w("design:type",Number)],Ue.prototype,"zIndex",void 0),b([$(),w("design:type",S)],Ue.prototype,"boundsChange",void 0),b([$(),w("design:type",S)],Ue.prototype,"rectangleClick",void 0),b([$(),w("design:type",S)],Ue.prototype,"rectangleDblClick",void 0),b([$(),w("design:type",S)],Ue.prototype,"drag",void 0),b([$(),w("design:type",S)],Ue.prototype,"dragEnd",void 0),b([$(),w("design:type",S)],Ue.prototype,"dragStart",void 0),b([$(),w("design:type",S)],Ue.prototype,"mouseDown",void 0),b([$(),w("design:type",S)],Ue.prototype,"mouseMove",void 0),b([$(),w("design:type",S)],Ue.prototype,"mouseOut",void 0),b([$(),w("design:type",S)],Ue.prototype,"mouseOver",void 0),b([$(),w("design:type",S)],Ue.prototype,"mouseUp",void 0),b([$(),w("design:type",S)],Ue.prototype,"rightClick",void 0),Ue=XE=b([w("design:paramtypes",[sy])],Ue);var oy=(()=>(function(n){n.ERROR="ERROR",n.INVALID_REQUEST="INVALID_REQUEST",n.OK="OK",n.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",n.REQUEST_DENIED="REQUEST_DENIED",n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.ZERO_RESULTS="ZERO_RESULTS"}(oy||(oy={})),oy))();let Is=class{constructor(e){const t=new oe(i=>{e.load().then(()=>i.next())}).pipe(he(()=>this._createGeocoder()),ik(new BE(1)));t.connect(),this.geocoder$=t}geocode(e){return this.geocoder$.pipe(zi(t=>this._getGoogleResults(t,e)))}_getGoogleResults(e,t){return FV(e.geocode)(t).pipe(zi(([r,s])=>s===oy.OK?ae(r):VE(s)))}_createGeocoder(){return new google.maps.Geocoder}};Is.\u0275fac=function(e){return new(e||Is)(_(Ss))},Is.\u0275prov=M({token:Is,factory:function(n){return Is.\u0275fac(n)},providedIn:"root"}),Is.ngInjectableDef=M({factory:function(){return new Is(_(Ss))},token:Is,providedIn:"root"}),Is=b([w("design:paramtypes",[Ss])],Is);class ZE{getNativeWindow(){return window}}class eD{getNativeDocument(){return document}}const $re=[ZE,eD];var al=(()=>(function(n){n[n.HTTP=1]="HTTP",n[n.HTTPS=2]="HTTPS",n[n.AUTO=3]="AUTO"}(al||(al={})),al))();const tD=new q("angular-google-maps LAZY_MAPS_API_CONFIG");let Gre=(()=>{let n=class extends Ss{constructor(t=null,i,r,s){super(),this.localeId=s,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=t||{},this._windowRef=i,this._documentRef=r}load(){const t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(i)return this._assignScriptLoadingPromise(i),this._scriptLoadingPromise;const r=this._documentRef.getNativeDocument().createElement("script");return r.type="text/javascript",r.async=!0,r.defer=!0,r.id=this._SCRIPT_ID,r.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(r),this._documentRef.getNativeDocument().body.appendChild(r),this._scriptLoadingPromise}_assignScriptLoadingPromise(t){this._scriptLoadingPromise=new Promise((i,r)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{i()},t.onerror=s=>{r(s)}})}_getScriptSrc(t){let r;switch(this._config&&this._config.protocol||al.HTTPS){case al.AUTO:r="";break;case al.HTTP:r="http:";break;case al.HTTPS:r="https:"}const o={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${r}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(o).filter(l=>null!=o[l]).filter(l=>!Array.isArray(o[l])||Array.isArray(o[l])&&o[l].length>0).map(l=>{let c=o[l];return Array.isArray(c)?{key:l,value:c.join(",")}:{key:l,value:o[l]}}).map(l=>`${l.key}=${l.value}`).join("&")}`}};return n.\u0275fac=function(t){return new(t||n)(_(tD,8),_(ZE),_(eD),_(Wr))},n.\u0275prov=M({token:n,factory:function(e){return n.\u0275fac(e)}}),n=b([nf(0,vn()),nf(0,fs(tD)),nf(3,fs(Wr)),w("design:paramtypes",[Object,ZE,eD,String])],n),n})();var BV;let yu=BV=class{static forRoot(e){return{ngModule:BV,providers:[...$re,{provide:Ss,useClass:Gre},{provide:tD,useValue:e}]}}};yu.\u0275fac=function(e){return new(e||yu)},yu.\u0275mod=Ee({type:yu}),yu.\u0275inj=ge({});class UV{}const io="*";function jV(n,e){return{type:7,name:n,definitions:e,options:{}}}function ay(n,e=null){return{type:4,styles:e,timings:n}}function HV(n,e=null){return{type:2,steps:n,options:e}}function ll(n){return{type:6,styles:n,offset:null}}function ly(n,e,t){return{type:0,name:n,styles:e,options:t}}function cy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $V(n){Promise.resolve(null).then(n)}class _u{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$V(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class GV{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?$V(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function WV(){return"undefined"!=typeof window&&void 0!==window.document}function iD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ko(n){switch(n.length){case 0:return new _u;case 1:return n[0];default:return new GV(n)}}function zV(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let y=p,v=u[p];if("offset"!==p)switch(y=e.normalizePropertyName(y,o),v){case"!":v=r[p];break;case io:v=s[p];break;default:v=e.normalizeStyleValue(p,y,v,o)}f[y]=v}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function rD(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&sD(t,"start",n)));break;case"done":n.onDone(()=>i(t&&sD(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&sD(t,"destroy",n)))}}function sD(n,e,t){const i=t.totalTime,s=oD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function oD(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function qi(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function qV(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let aD=(n,e)=>!1,lD=(n,e)=>!1,KV=(n,e,t)=>[];const QV=iD();(QV||"undefined"!=typeof Element)&&(aD=WV()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),lD=(()=>{if(QV||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):lD}})(),KV=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let cl=null,YV=!1;function cD(n){cl||(cl=("undefined"!=typeof document?document.body:null)||{},YV=!!cl.style&&"WebkitAppearance"in cl.style);let e=!0;return cl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cl.style,!e&&YV&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in cl.style)),e}const uD=lD,dD=aD,hD=KV;function JV(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let XV=(()=>{class n{validateStyleProperty(t){return cD(t)}matchesElement(t,i){return uD(t,i)}containsElement(t,i){return dD(t,i)}query(t,i,r){return hD(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new _u(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})(),fD=(()=>{class n{}return n.NOOP=new XV,n})();const pD="ng-enter",uy="ng-leave",dy="ng-trigger",hy=".ng-trigger",eB="ng-animating",gD=".ng-animating";function ul(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mD(parseFloat(e[1]),e[2])}function mD(n,e){switch(e){case"s":return 1e3*n;default:return n}}function fy(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=mD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=mD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,e,t)}function vu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Qo(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else vu(n,t);return t}function nB(n,e,t){return t?e+":"+t+";":""}function iB(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nB(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nB(0,Zre(t),n.style[t]));n.setAttribute("style",e)}function As(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=_D(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),iD()&&iB(n))}function dl(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=_D(t);n.style[i]=""}),iD()&&iB(n))}function af(n){return Array.isArray(n)?1==n.length?n[0]:HV(n):n}const yD=new RegExp("{{\\s*(.+?)\\s*}}","g");function rB(n){let e=[];if("string"==typeof n){let t;for(;t=yD.exec(n);)e.push(t[1]);yD.lastIndex=0}return e}function py(n,e,t){const i=n.toString(),r=i.replace(yD,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==i?n:r}function gy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Xre=/-+([a-z0-9])/g;function _D(n){return n.replace(Xre,(...e)=>e[1].toUpperCase())}function Zre(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sB(n,e){return 0===n||0===e}function oB(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=vD(n,l)})}}return e}function Ki(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function vD(n,e){return window.getComputedStyle(n)[e]}function ese(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(aB(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(aB(o,r))}(i,t,e)):t.push(n),t}const yy=new Set(["true","1"]),_y=new Set(["false","0"]);function aB(n,e){const t=yy.has(n)||_y.has(n),i=yy.has(e)||_y.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?yy.has(n):_y.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?yy.has(e):_y.has(e)),o&&a}}const ise=new RegExp("s*:selfs*,?","g");function bD(n,e,t){return new rse(n).build(e,t)}class rse{constructor(e){this._driver=e}build(e,t){const i=new ase(t);return this._resetContextStyleTimingState(i),Ki(this,af(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(a=>{if(vy(a)){const l=a;Object.keys(l).forEach(c=>{rB(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=gy(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ki(this,af(e.animation),t);return{type:1,matchers:ese(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:hl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ki(this,i,t)),options:hl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=Ki(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:hl(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return wD(fy(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=wD(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||fy(i,e),wD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:ll({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ll(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==io?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(vy(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=rB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(x=>{const D=this._makeStyleAst(x,t);let N=null!=D.offset?D.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(vy(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(vy(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(D.styles),V=0;return null!=N&&(s++,V=D.offset=N),l=l||V<0||V>1,a=a||V<c,c=V,o.push(V),D});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,y=t.currentAnimateTimings,v=y.duration;return u.forEach((x,D)=>{const N=h>0?D==f?1:h*D:o[D],V=N*v;t.currentTime=p+y.delay+V,y.duration=V,this._validateStyleAst(x,t),x.offset=N,i.styles.push(x)}),i}visitReference(e,t){return{type:8,animation:Ki(this,af(e.animation),t),options:hl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ise,"")),[n=n.replace(/@\*/g,hy).replace(/@\w+/g,t=>hy+"-"+t.substr(1)).replace(/:animating/g,gD),e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,qi(t.collectedStyles,t.currentQuerySelector,{});const a=Ki(this,af(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:hl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:fy(e.timings,t.errors,!0);return{type:12,animation:Ki(this,af(e.animation),t),timings:i,options:null}}}class ase{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vy(n){return!Array.isArray(n)&&"object"==typeof n}function hl(n){return n?(n=vu(n)).params&&(n.params=function(n){return n?vu(n):null}(n.params)):n={},n}function wD(n,e,t){return{duration:n,delay:e,easing:t}}function CD(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class by{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hse=new RegExp(":enter","g"),pse=new RegExp(":leave","g");function ED(n,e,t,i,r,s={},o={},a,l,c=[]){return(new gse).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class gse{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new by;const d=new DD(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Ki(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[CD(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?ul(i.duration):null,a=null!=i.delay?ul(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ki(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wy);const o=ul(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ki(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ul(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Ki(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return fy(t.params?py(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ul(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wy);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Ki(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ki(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const wy={};class DD{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ul(i.duration)),null!=i.delay&&(r.delay=ul(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=py(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new DD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new mse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(hse,"."+this._enterClassName)).replace(pse,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Cy{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||io,this._currentKeyframe[t]=io}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=io})):Qo(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=py(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:io),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Qo(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==io&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?gy(e.values()):[],o=t.size?gy(t.values()):[];if(i){const a=r[0],l=vu(a);a.offset=0,l.offset=1,r=[a,l]}return CD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class mse extends Cy{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Qo(e[0],!1);l.offset=0,s.push(l);const c=Qo(e[0],!1);c.offset=uB(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Qo(e[d],!1);h.offset=uB((t+h.offset*i)/o),s.push(h)}i=o,t=0,r="",e=s}return CD(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function uB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class xD{}class _se extends xD{normalizePropertyName(e,t){return _D(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(vse[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+s}}const vse=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dB(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const SD={};class hB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||SD,p=this.buildStyles(i,a&&a.params||SD,d),y=l&&l.params||SD,v=this.buildStyles(r,y,d),x=new Set,D=new Map,N=new Map,V="void"===r,re={params:Object.assign(Object.assign({},h),y)},He=u?[]:ED(e,t,this.ast.animation,s,o,p,v,re,c,d);let Ye=0;if(He.forEach(sn=>{Ye=Math.max(sn.duration+sn.delay,Ye)}),d.length)return dB(t,this._triggerName,i,r,V,p,v,[],[],D,N,Ye,d);He.forEach(sn=>{const Pn=sn.element,Do=qi(D,Pn,{});sn.preStyleProps.forEach(os=>Do[os]=!0);const xo=qi(N,Pn,{});sn.postStyleProps.forEach(os=>xo[os]=!0),Pn!==t&&x.add(Pn)});const Kn=gy(x.values());return dB(t,this._triggerName,i,r,V,p,v,He,Kn,D,N,Ye)}}class Cse{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=vu(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=py(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class Dse{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new Cse(r.style,r.options&&r.options.params||{},i)}),fB(this.states,"true","1"),fB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new hB(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new hB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function fB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Sse=new by;class Ise{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=bD(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,s=zV(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=ED(this._driver,t,s,pD,uy,{},{},i,Sse,r),o.forEach(u=>{const d=qi(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,io)})});const c=Ko(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const s=oD(t,"","","");return rD(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const pB="ng-animate-queued",gB="ng-animate-disabled",mB=".ng-animate-disabled",kse=[],yB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class ID{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const s=vu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const lf="void",AD=new ID(lf);class Ose{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const s=qi(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=qi(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Dr(e,dy),Dr(e,dy+"-"+t),a[t]=AD),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new TD(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Dr(e,dy),Dr(e,dy+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new ID(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=AD),c.value!==lf&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const y=[],v=s.matchStyles(l.value,l.params,y),x=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{dl(e,v),As(e,x)})}return}const h=qi(this._engine.playersByElement,e,[]);h.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Dr(e,pB),o.onStart(()=>{bu(e,pB)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const v=this._engine.playersByElement.get(e);if(v){let x=v.indexOf(o);x>=0&&v.splice(x,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,hy,!0);i.forEach(r=>{if(r[Er])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,lf,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Ko(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||AD,u=new ID(lf),d=new TD(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Er];(!s||s===yB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=oD(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,rD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Nse{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Ose(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(Ey(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ey(t))return;const s=t[Er];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dr(e,gB)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bu(e,gB))}removeNode(e,t,i,r){if(Ey(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[Er]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,s){return Ey(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,hy,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gD,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ko(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Er];if(t&&t.setForRemoval){if(e[Er]=yB,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,mB)&&this.markElementAsDisabled(e,!1),this.driver.query(e,mB,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Dr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ko(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new by,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(K=>{u.add(K);const le=this.driver.query(K,".ng-animate-queued",!0);for(let we=0;we<le.length;we++)u.add(le[we])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bB(h,this.collectedEnterElements),p=new Map;let y=0;f.forEach((K,le)=>{const we=pD+y++;p.set(le,we),K.forEach(tt=>Dr(tt,we))});const v=[],x=new Set,D=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const le=this.collectedLeaveElements[K],we=le[Er];we&&we.setForRemoval&&(v.push(le),x.add(le),we.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach(tt=>x.add(tt)):D.add(le))}const N=new Map,V=bB(h,Array.from(x));V.forEach((K,le)=>{const we=uy+y++;N.set(le,we),K.forEach(tt=>Dr(tt,we))}),e.push(()=>{f.forEach((K,le)=>{const we=p.get(le);K.forEach(tt=>bu(tt,we))}),V.forEach((K,le)=>{const we=N.get(le);K.forEach(tt=>bu(tt,we))}),v.forEach(K=>{this.processLeaveNode(K)})});const re=[],He=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(we=>{const tt=we.player,Fn=we.element;if(re.push(tt),this.collectedEnterElements.length){const Ls=Fn[Er];if(Ls&&Ls.setForMove)return void tt.destroy()}const Fs=!d||!this.driver.containsElement(d,Fn),ir=N.get(Fn),Ea=p.get(Fn),$t=this._buildInstruction(we,i,Ea,ir,Fs);if($t.errors&&$t.errors.length)He.push($t);else{if(Fs)return tt.onStart(()=>dl(Fn,$t.fromStyles)),tt.onDestroy(()=>As(Fn,$t.toStyles)),void r.push(tt);if(we.isFallbackTransition)return tt.onStart(()=>dl(Fn,$t.fromStyles)),tt.onDestroy(()=>As(Fn,$t.toStyles)),void r.push(tt);$t.timelines.forEach(Ls=>Ls.stretchStartingKeyframe=!0),i.append(Fn,$t.timelines),o.push({instruction:$t,player:tt,element:Fn}),$t.queriedElements.forEach(Ls=>qi(a,Ls,[]).push(tt)),$t.preStyleProps.forEach((Ls,$p)=>{const Gv=Object.keys(Ls);if(Gv.length){let ic=l.get($p);ic||l.set($p,ic=new Set),Gv.forEach(KM=>ic.add(KM))}}),$t.postStyleProps.forEach((Ls,$p)=>{const Gv=Object.keys(Ls);let ic=c.get($p);ic||c.set($p,ic=new Set),Gv.forEach(KM=>ic.add(KM))})}});if(He.length){const K=[];He.forEach(le=>{K.push(`@${le.triggerName} has failed due to:\n`),le.errors.forEach(we=>K.push(`- ${we}\n`))}),re.forEach(le=>le.destroy()),this.reportError(K)}const Ye=new Map,Kn=new Map;o.forEach(K=>{const le=K.element;i.has(le)&&(Kn.set(le,le),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,Ye))}),r.forEach(K=>{const le=K.element;this._getPreviousPlayers(le,!1,K.namespaceId,K.triggerName,null).forEach(tt=>{qi(Ye,le,[]).push(tt),tt.destroy()})});const sn=v.filter(K=>CB(K,l,c)),Pn=new Map;vB(Pn,this.driver,D,c,io).forEach(K=>{CB(K,l,c)&&sn.push(K)});const xo=new Map;f.forEach((K,le)=>{vB(xo,this.driver,new Set(K),l,"!")}),sn.forEach(K=>{const le=Pn.get(K),we=xo.get(K);Pn.set(K,Object.assign(Object.assign({},le),we))});const os=[],Rd=[],Od={};o.forEach(K=>{const{element:le,player:we,instruction:tt}=K;if(i.has(le)){if(u.has(le))return we.onDestroy(()=>As(le,tt.toStyles)),we.disabled=!0,we.overrideTotalTime(tt.totalTime),void r.push(we);let Fn=Od;if(Kn.size>1){let ir=le;const Ea=[];for(;ir=ir.parentNode;){const $t=Kn.get(ir);if($t){Fn=$t;break}Ea.push(ir)}Ea.forEach($t=>Kn.set($t,Fn))}const Fs=this._buildAnimation(we.namespaceId,tt,Ye,s,xo,Pn);if(we.setRealPlayer(Fs),Fn===Od)os.push(we);else{const ir=this.playersByElement.get(Fn);ir&&ir.length&&(we.parentPlayer=Ko(ir)),r.push(we)}}else dl(le,tt.fromStyles),we.onDestroy(()=>As(le,tt.toStyles)),Rd.push(we),u.has(le)&&r.push(we)}),Rd.forEach(K=>{const le=s.get(K.element);if(le&&le.length){const we=Ko(le);K.setRealPlayer(we)}}),r.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<v.length;K++){const le=v[K],we=le[Er];if(bu(le,uy),we&&we.hasAnimation)continue;let tt=[];if(a.size){let Fs=a.get(le);Fs&&Fs.length&&tt.push(...Fs);let ir=this.driver.query(le,gD,!0);for(let Ea=0;Ea<ir.length;Ea++){let $t=a.get(ir[Ea]);$t&&$t.length&&tt.push(...$t)}}const Fn=tt.filter(Fs=>!Fs.destroyed);Fn.length?Vse(this,le,Fn):this.processLeaveNode(le)}return v.length=0,os.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const le=this.players.indexOf(K);this.players.splice(le,1)}),K.play()}),os}elementContainsData(e,t){let i=!1;const r=t[Er];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==lf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=qi(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}dl(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const y=p.element;u.add(y);const v=y[Er];if(v&&v.removedBeforeQueried)return new _u(p.duration,p.delay);const x=y!==l,D=function(n){const e=[];return wB(n,e),e}((i.get(y)||kse).map(Ye=>Ye.getRealPlayer())).filter(Ye=>!!Ye.element&&Ye.element===y),N=s.get(y),V=o.get(y),re=zV(0,this._normalizer,0,p.keyframes,N,V),He=this._buildPlayer(p,re,D);if(p.subTimeline&&r&&d.add(y),x){const Ye=new TD(e,a,y);Ye.setRealPlayer(He),c.push(Ye)}return He});c.forEach(p=>{qi(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Dr(p,eB));const f=Ko(h);return f.onDestroy(()=>{u.forEach(p=>bu(p,eB)),As(l,t.toStyles)}),d.forEach(p=>{qi(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new _u(e.duration,e.delay)}}class TD{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new _u,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>rD(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ey(n){return n&&1===n.nodeType}function _B(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function vB(n,e,t,i,r){const s=[];t.forEach(l=>s.push(_B(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[Er]=Rse,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>_B(l,s[a++])),o}function bB(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const Dy="$$classes";function Dr(n,e){if(n.classList)n.classList.add(e);else{let t=n[Dy];t||(t=n[Dy]={}),t[e]=!0}}function bu(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Dy];t&&delete t[e]}}function Vse(n,e,t){Ko(t).onDone(()=>n.processLeaveNode(e))}function wB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof GV?wB(i.players,e):e.push(i)}}function CB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class xy{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Nse(e,t,i),this._timelineEngine=new Ise(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=bD(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new Dse(n,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=qV(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=qV(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function EB(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=MD(e[0]),e.length>1&&(i=MD(e[e.length-1]))):e&&(t=MD(e)),t||i?new jse(n,t,i):null}let jse=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&As(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(As(this._element,this._initialStyles),this._endStyles&&(As(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(dl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),As(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MD(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Hse(r)&&(e=e||{},e[r]=n[r])}return e}function Hse(n){return"display"===n||"position"===n}const DB="animation",xB="animationend";class Wse{constructor(e,t,i,r,s,o,a){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=RD(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),Sy(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),AB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){SB(this._element,this._name,"paused")}resume(){SB(this._element,this._name,"running")}setPosition(e){const t=IB(this._element,this._name);this._position=e*this._duration,Sy(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),AB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=RD(n,"").split(","),r=kD(i,e);r>=0&&(i.splice(r,1),Sy(n,"",i.join(",")))}(this._element,this._name))}}function SB(n,e,t){Sy(n,"PlayState",t,IB(n,e))}function IB(n,e){const t=RD(n,"");return t.indexOf(",")>0?kD(t.split(","),e):kD([t],e)}function kD(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function AB(n,e,t){t?n.removeEventListener(xB,e):n.addEventListener(xB,e)}function Sy(n,e,t,i){const r=DB+e;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=t,t=o.join(",")}}n.style[r]=t}function RD(n,e){return n.style[DB+e]||""}class TB{constructor(e,t,i,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wse(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:vD(this.element,i))})}this.currentSnapshot=e}}class Jse extends _u{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=JV(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class kB{constructor(){this._count=0}validateStyleProperty(e){return cD(e)}matchesElement(e,t){return uD(e,t)}containsElement(e,t){return dD(e,t)}query(e,t,i){return hD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>JV(a));let r=`@keyframes ${t} {\n`,s="";i.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,i,r,s,o=[],a){const l=o.filter(v=>v instanceof TB),c={};sB(i,r)&&l.forEach(v=>{let x=v.currentSnapshot;Object.keys(x).forEach(D=>c[D]=x[D])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=oB(e,t,c));if(0==i)return new Jse(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=EB(e,t),y=new TB(e,t,d,i,r,s,u,p);return y.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),y}}class OB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:vD(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class noe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(NB().toString()),this._cssKeyframesDriver=new kB}validateStyleProperty(e){return cD(e)}matchesElement(e,t){return uD(e,t)}containsElement(e,t){return dD(e,t)}query(e,t,i){return hD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,s,o);const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof OB);sB(i,r)&&h.forEach(p=>{let y=p.currentSnapshot;Object.keys(y).forEach(v=>d[v]=y[v])});const f=EB(e,t=oB(e,t=t.map(p=>Qo(p,!1)),d));return new OB(e,t,u,f)}}function NB(){return WV()&&Element.prototype.animate||{}}let roe=(()=>{class n extends UV{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:qt.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?HV(t):t;return PB(this._renderer,null,i,"register",[r]),new soe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(_($a),_(Y))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class soe extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ooe(this._id,e,t||{},this._renderer)}}class ooe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return PB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function PB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const FB="@.disabled";let aoe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{o&&o.parentNode(s)&&o.removeChild(s.parentNode,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new LB("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new loe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(_($a),_(xy),_(U))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();class LB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==FB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class loe extends LB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let doe=(()=>{class n extends xy{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(_(Y),_(fD),_(xD))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const Yo=new q("AnimationModuleType"),VB=[{provide:UV,useClass:roe},{provide:xD,useFactory:function(){return new _se}},{provide:xy,useClass:doe},{provide:$a,useFactory:function(n,e,t){return new aoe(n,e,t)},deps:[Mm,xy,U]}],BB=[{provide:fD,useFactory:function(){return"function"==typeof NB()?new noe:new kB}},{provide:Yo,useValue:"BrowserAnimations"},...VB],UB=[{provide:fD,useClass:XV},{provide:Yo,useValue:"NoopAnimations"},...VB];let OD,goe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UB:BB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:BB,imports:[hE]}),n})();function Ay(n,e=LE){return t=>t.lift(new Toe(n,e))}class Toe{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Moe(e,this.dueTime,this.scheduler))}}class Moe extends nt{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(koe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function koe(n){n.debouncedNext()}function ze(n){return null!=n&&"false"!=`${n}`}function fl(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ty(n){return Array.isArray(n)?n:[n]}function Jt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pl(n){return n instanceof W?n.nativeElement:n}try{OD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){OD=!1}let uf,My,gl,PD,Zr,wt=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Xa(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(_(cn))},n.\u0275prov=M({factory:function(){return new n(_(cn))},token:n,providedIn:"root"}),n})(),cf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})();function ND(n){return function(){if(null==uf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>uf=!0}))}finally{uf=uf||!1}return uf}()?n:!!n.capture}function KB(){if(null==gl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gl=!1,gl;if("scrollBehavior"in document.documentElement.style)gl=!0;else{const n=Element.prototype.scrollTo;gl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gl}function df(){if("object"!=typeof document||!document)return 0;if(null==My){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),My=0,0===n.scrollLeft&&(n.scrollLeft=1,My=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return My}function Eu(n){return n.composedPath?n.composedPath()[0]:n.target}function FD(){return void 0!==Zr.__karma__&&!!Zr.__karma__||void 0!==Zr.jasmine&&!!Zr.jasmine||void 0!==Zr.jest&&!!Zr.jest||void 0!==Zr.Mocha&&!!Zr.Mocha}Zr="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let XB=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===e2(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=e2(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZB(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(_(wt))},n.\u0275prov=M({factory:function(){return new n(_(wt))},token:n,providedIn:"root"}),n})();function ZB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function e2(n){if(!ZB(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Xoe{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let i=0;i<t.length;i++)t[i].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]):t[i].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Es(1)).subscribe(e)}}let t2=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Xoe(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(_(XB),_(U),_(Y))},n.\u0275prov=M({factory:function(){return new n(_(XB),_(U),_(Y))},token:n,providedIn:"root"}),n})();function n2(n){return 0===n.offsetX&&0===n.offsetY}function r2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const s2=new q("cdk-input-modality-detector-options"),iae={ignoreKeys:[18,17,224,91,16]},Du=ND({passive:!0,capture:!0});let a2=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new pi(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Eu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(n2(o)?"keyboard":"mouse"),this._mostRecentTarget=Eu(o))},this._onTouchstart=o=>{r2(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Eu(o))},this._options=Object.assign(Object.assign({},iae),s),this.modalityDetected=this._modality.pipe(UE(1)),this.modalityChanged=this.modalityDetected.pipe(Zm()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Du),r.addEventListener("mousedown",this._onMousedown,Du),r.addEventListener("touchstart",this._onTouchstart,Du)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Du),document.removeEventListener("mousedown",this._onMousedown,Du),document.removeEventListener("touchstart",this._onTouchstart,Du))}}return n.\u0275fac=function(t){return new(t||n)(_(wt),_(U),_(Y),_(s2,8))},n.\u0275prov=M({factory:function(){return new n(_(wt),_(U),_(Y),_(s2,8))},token:n,providedIn:"root"}),n})();const l2=new q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),c2=new q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let VD=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s]);return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(_(l2,8),_(U),_(Y),_(c2,8))},n.\u0275prov=M({factory:function(){return new n(_(l2,8),_(U),_(Y),_(c2,8))},token:n,providedIn:"root"}),n})();const u2=new q("cdk-focus-monitor-default-options"),ky=ND({passive:!0,capture:!0});let hf=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te,this._rootNodeFocusAndBlurListener=a=>{const l=Eu(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const r=pl(t);if(!this._platform.isBrowser||1!==r.nodeType)return ae(null);const s=function(n){if(function(){if(null==PD){const n="undefined"!=typeof document?document.head:null;PD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PD}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new te,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=pl(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=pl(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,i,r){r?t.classList.add(i):t.classList.remove(i)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){this._toggleClass(t,"cdk-focused",!!i),this._toggleClass(t,"cdk-touch-focused","touch"===i),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(t,"cdk-mouse-focused","mouse"===i),this._toggleClass(t,"cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Eu(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ky),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ky)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ky),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ky),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(_(U),_(wt),_(a2),_(Y,8),_(u2,8))},n.\u0275prov=M({factory:function(){return new n(_(U),_(wt),_(a2),_(Y,8),_(u2,8))},token:n,providedIn:"root"}),n})();const d2="cdk-high-contrast-black-on-white",h2="cdk-high-contrast-white-on-black",BD="cdk-high-contrast-active";let f2=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(BD),t.remove(d2),t.remove(h2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(BD),t.add(d2)):2===i&&(t.add(BD),t.add(h2))}}}return n.\u0275fac=function(t){return new(t||n)(_(wt),_(Y))},n.\u0275prov=M({factory:function(){return new n(_(wt),_(Y))},token:n,providedIn:"root"}),n})();const p2=new q("cdk-dir-doc",{providedIn:"root",factory:function(){return Yd(Y)}});let Jo=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new S,t){const r=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(_(p2,8))},n.\u0275prov=M({factory:function(){return new n(_(p2,8))},token:n,providedIn:"root"}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})();const g2=new Ys("12.2.10"),m2=new Ys("12.2.10"),hae=new q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ml,Ut=(()=>{class n{constructor(t,i,r){this._hasDoneGlobalChecks=!1,this._document=r,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!SC()||FD())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const i=getComputedStyle(t);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&m2.full!==g2.full&&console.warn("The Angular Material version ("+m2.full+") does not match the Angular CDK version ("+g2.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(_(f2),_(hae,8),_(Y))},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[xu],xu]}),n})();function UD(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ze(e)}}}function jD(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ff(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ze(e)}}}try{ml="undefined"!=typeof Intl}catch(n){ml=!1}let _2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function pf(n,e,t){const i=n.nativeElement.classList;t?i.add(e):i.remove(e)}let b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut],Ut]}),n})();class Dae{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const w2={enterDuration:225,exitDuration:150},HD=ND({passive:!0}),C2=["mousedown","touchstart"],E2=["mouseup","mouseleave","touchend","touchcancel"];class Sae{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pl(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},w2),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new Dae(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},w2),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.parentNode.removeChild(i)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(C2))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(E2),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=n2(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!r2(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,HD)})})}_removeTriggerEvents(){this._triggerElement&&(C2.forEach(e=>{this._triggerElement.removeEventListener(e,this,HD)}),this._pointerUpEventsRegistered&&E2.forEach(e=>{this._triggerElement.removeEventListener(e,this,HD)}))}}const Tae=new q("mat-ripple-global-options");let Su=(()=>{class n{constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Sae(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(U),g(wt),g(Tae,8),g(Yo,8))},n.\u0275dir=I({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&pt("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),$D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut,cf],Ut]}),n})(),GD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut]]}),n})();const Pae=["*",[["mat-card-footer"]]],Fae=["*","mat-card-footer"],Bae=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Uae=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"];let A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),jae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-card-sm-image"]}),n})(),WD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","mat-card-xl-image",""],["","matCardImageXLarge",""]],hostAttrs:[1,"mat-card-xl-image"]}),n})(),zD=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(g(Yo,8))},n.\u0275cmp=xe({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&pt("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Fae,decls:2,vars:0,template:function(t,i){1&t&&(It(Pae),Oe(0),Oe(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),qD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Uae,decls:4,vars:0,template:function(t,i){1&t&&(It(Bae),C(0,"div"),Oe(1),E(),Oe(2,1),Oe(3,2))},encapsulation:2,changeDetection:0}),n})(),Hae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut],Ut]}),n})();const $ae=["search"];let Gae=(()=>{class n{constructor(t,i,r,s){this.service=t,this.router=i,this.mapsAPILoader=r,this.ngZone=s,this.title="AGM project",this.latitude=24.0734356,this.longitude=75.0679018,this.zoom=12,this.distanceInKM=0,this.priceWithFare=0,this.loadTimeInMinutes=30,this.p1={lat:24.0734356,lng:75.0679018},this.p2={lat:23.334169,lng:75.037636}}ngOnInit(){this.mapsAPILoader.load().then(()=>{var t;this.setCurrentLocation(),this.geoCoder=new google.maps.Geocoder;let i=new google.maps.places.Autocomplete(null===(t=this.searchElementRef)||void 0===t?void 0:t.nativeElement);i.addListener("place_changed",()=>{this.ngZone.run(()=>{let r=i.getPlace();null==r.geometry||(this.latitude=r.geometry.location.lat(),this.longitude=r.geometry.location.lng(),console.log("--set new location---",this.latitude,this.longitude),this.distanceInKM=this.getDistance(this.p1,{lat:this.latitude,lng:this.longitude})/1e3,this.priceWithFare=20*this.distanceInKM+1200,this.deliveryTime=`${Math.ceil((20*this.distanceInKM+this.loadTimeInMinutes)/60)} hrs`,this.zoom=12)})})}),this.cartData=this.service.getCartData(),console.log(this.cartData),this.cartData||this.router.navigate(["/home"])}setCurrentLocation(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(t=>{this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,console.log("this.longitude--",this.latitude,this.longitude),this.zoom=8,this.getAddress(this.latitude,this.longitude)})}markerDragEnd(t){console.log(t),this.latitude=t.coords.lat,this.longitude=t.coords.lng,this.getAddress(this.latitude,this.longitude)}getAddress(t,i){console.log("longitude--",t,i),this.geoCoder.geocode({location:{lat:t,lng:i}},(r,s)=>{console.log(r),console.log(s),"OK"===s?r[0]?(this.zoom=12,this.address=r[0].formatted_address,console.log("this.address---",this.address)):window.alert("No results found"):window.alert("Geocoder failed due to: "+s)})}rad(t){return t*Math.PI/180}getDistance(t,i){var s=this.rad(i.lat-t.lat),o=this.rad(i.lng-t.lng),a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this.rad(t.lat))*Math.cos(this.rad(i.lat))*Math.sin(o/2)*Math.sin(o/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6378137}}return n.\u0275fac=function(t){return new(t||n)(g(AV),g(Vn),g(Ss),g(U))},n.\u0275cmp=xe({type:n,selectors:[["app-cart"]],viewQuery:function(t,i){if(1&t&&Js($ae,5),2&t){let r;yt(r=_t())&&(i.searchElementRef=r.first)}},decls:40,vars:22,consts:[[1,"container"],[1,"row"],[1,"col-md-4","col-lg-4"],[1,"example-card"],[2,"justify-content","center !important"],["mat-card-sm-image","","mat-card-xl-image","",3,"src"],[1,"col-md-6","col-lg-6"],[1,"form-group"],["type","text","placeholder","Search Nearest Location","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"form-control",3,"keydown.enter"],["search",""],[3,"latitude","longitude","zoom"],[3,"latitude","longitude","markerDraggable","dragEnd"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"h2"),B(3),E(),E(),C(4,"div",1),C(5,"div",2),C(6,"mat-card",3),C(7,"mat-card-title-group",4),Te(8,"img",5),E(),E(),E(),C(9,"div",6),C(10,"h3"),B(11),E(),C(12,"p"),C(13,"label"),B(14,"Distance in KM = "),E(),B(15),oC(16,"number"),E(),C(17,"p"),C(18,"label"),B(19,"Estimated delivery time in KM = "),E(),B(20),E(),C(21,"p"),C(22,"label"),B(23,"Price is = "),E(),B(24),oC(25,"currency"),E(),E(),E(),E(),C(26,"div",0),C(27,"div",7),C(28,"label"),B(29,"Enter address to find the price"),E(),C(30,"input",8,9),ft("keydown.enter",function(s){return s.preventDefault()}),E(),E(),C(32,"agm-map",10),C(33,"agm-marker",11),ft("dragEnd",function(s){return i.markerDragEnd(s)}),E(),E(),C(34,"h5"),B(35),E(),C(36,"div"),B(37),E(),C(38,"div"),B(39),E(),E()),2&t&&(Re(3),Bo(i.cartData.type),Re(5),ht("src",i.cartData.filePath,nh),Re(3),Bo(i.cartData.name),Re(4),jr(" ",IF(16,15,i.distanceInKM,"1.2-2"),""),Re(5),jr(" ",i.deliveryTime,""),Re(4),jr(" ",function(n,e,t,i,r){const s=n+20,o=R(),a=gc(o,s);return Mh(o,Th(o,s)?DF(o,ai(),e,a.transform,t,i,r,a):a.transform(t,i,r))}(25,18,i.priceWithFare,"INR","symbol"),"/-"),Re(8),ht("latitude",i.latitude)("longitude",i.longitude)("zoom",i.zoom),Re(1),ht("latitude",i.latitude)("longitude",i.longitude)("markerDraggable",!0),Re(2),jr("Address: ",i.address,""),Re(2),jr("Latitude: ",i.latitude,""),Re(2),jr("Longitude: ",i.longitude,""))},directives:[zD,qD,jae,WD,Z,ot],pipes:[nL,iL],styles:[".margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}.height-webkit[_ngcontent-%COMP%]{height:-webkit-fill-available}agm-map[_ngcontent-%COMP%]{height:300px}"]}),n})();function T2(...n){if(1===n.length){const e=n[0];if(Pi(e))return Oy(e,null);if(sc(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Oy(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return Oy(n=1===n.length&&Pi(n[0])?n[0]:n,null).pipe(he(t=>e(...t)))}return Oy(n,null)}function Oy(n,e){return new oe(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=mn(n[a]);let c=!1;t.add(l.subscribe({next:u=>{c||(c=!0,o++),r[a]=u},error:u=>t.error(u),complete:()=>{s++,(s===i||!c)&&(o===i&&t.next(e?e.reduce((u,d,h)=>(u[d]=r[h],u),{}):r),t.complete())}}))}})}let M2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g(fr),g(W))},n.\u0275dir=I({type:n}),n})(),yl=(()=>{class n extends M2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,features:[P]}),n})();const es=new q("NgValueAccessor"),zae={provide:es,useExisting:Xe(()=>Ny),multi:!0},Kae=new q("CompositionEventMode");let Ny=(()=>{class n extends M2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Cs()?Cs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g(fr),g(W),g(Kae,8))},n.\u0275dir=I({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Me([zae]),P]}),n})();const ei=new q("NgValidators"),Zo=new q("NgAsyncValidators");function j2(n){return null!=n}function H2(n){const e=ph(n)?mn(n):n;return Fg(e),e}function $2(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function G2(n,e){return e.map(t=>t(n))}function W2(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function KD(n){return null!=n?function(n){if(!n)return null;const e=n.filter(j2);return 0==e.length?null:function(t){return $2(G2(t,e))}}(W2(n)):null}function QD(n){return null!=n?function(n){if(!n)return null;const e=n.filter(j2);return 0==e.length?null:function(t){return T2(G2(t,e).map(H2)).pipe(he($2))}}(W2(n)):null}function K2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YD(n){return n?Array.isArray(n)?n:[n]:[]}function Py(n,e){return Array.isArray(n)?n.includes(e):n===e}function J2(n,e){const t=YD(e);return YD(n).forEach(r=>{Py(t,r)||t.push(r)}),t}function X2(n,e){return YD(e).filter(t=>!Py(n,t))}let Z2=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,i){return!!this.control&&this.control.hasError(t,i)}getError(t,i){return this.control?this.control.getError(t,i):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n}),n})(),gi=(()=>{class n extends Z2{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,features:[P]}),n})();class ta extends Z2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eU{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let tU=(()=>{class n extends eU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(ta,2))},n.\u0275dir=I({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&pt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[P]}),n})(),JD=(()=>{class n extends eU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g(gi,10))},n.\u0275dir=I({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&pt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[P]}),n})();function gf(n,e){ex(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nU(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function By(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ex(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(K2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(K2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();By(e._rawValidators,r),By(e._rawAsyncValidators,r)}function nU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mf="VALID",Hy="INVALID",Iu="PENDING",yf="DISABLED";function ix(n){return(sx(n)?n.validators:n)||null}function sU(n){return Array.isArray(n)?KD(n):n||null}function rx(n,e){return(sx(e)?e.asyncValidators:n)||null}function oU(n){return Array.isArray(n)?QD(n):n||null}function sx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ox{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=sU(this._rawValidators),this._composedAsyncValidatorFn=oU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mf}get invalid(){return this.status===Hy}get pending(){return this.status==Iu}get disabled(){return this.status===yf}get enabled(){return this.status!==yf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=sU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oU(e)}addValidators(e){this.setValidators(J2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(J2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(X2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(X2(e,this._rawAsyncValidators))}hasValidator(e){return Py(this._rawValidators,e)}hasAsyncValidator(e){return Py(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===Iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yf:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator=!0;const t=H2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof ax?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof lle&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new S,this.statusChanges=new S}_calculateStatus(){return this._allControlsDisabled()?yf:this.errors?Hy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(Hy)?Hy:mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $y extends ox{constructor(e=null,t,i){super(ix(t),rx(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ax extends ox{constructor(e,t,i){super(ix(t),rx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof $y?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class lle extends ox{constructor(e,t,i){super(ix(t),rx(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof $y?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const cle={provide:gi,useExisting:Xe(()=>vf)},_f=(()=>Promise.resolve(null))();let vf=(()=>{class n extends gi{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new S,this.form=new ax({},KD(t),QD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_f.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_f.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),jy(this._directives,t)})}addFormGroup(t){_f.then(()=>{const i=this._findContainer(t.path),r=new ax({});(function(n,e){ex(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_f.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){_f.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(g(ei,10),g(Zo,10))},n.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([cle]),P]}),n})();const dle={provide:ta,useExisting:Xe(()=>lx)},cU=(()=>Promise.resolve(null))();let lx=(()=>{class n extends ta{constructor(t,i,r,s){super(),this.control=new $y,this._registered=!1,this.update=new S,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ny?t=s:function(n){return Object.getPrototypeOf(n.constructor)===yl}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;cU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(g(gi,9),g(ei,10),g(Zo,10),g(es,10))},n.\u0275dir=I({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([dle]),P,Pe]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})();const wle={provide:es,useExisting:Xe(()=>px),multi:!0};function yU(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let px=(()=>{class n extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=this._getOptionId(t);null==i&&this.setProperty("selectedIndex",-1);const r=yU(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&ft("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Me([wle]),P]}),n})(),_U=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(yU(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(fr),g(px,9))},n.\u0275dir=I({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ele={provide:es,useExisting:Xe(()=>gx),multi:!0};function vU(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let gx=(()=>{class n extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[];if(void 0!==i.selectedOptions){const s=i.selectedOptions;for(let o=0;o<s.length;o++){const a=s.item(o),l=this._getOptionValue(a.value);r.push(l)}}else{const s=i.options;for(let o=0;o<s.length;o++){const a=s.item(o);if(a.selected){const l=this._getOptionValue(a.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&ft("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Me([Ele]),P]}),n})(),bU=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(vU(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vU(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(fr),g(gx,9))},n.\u0275dir=I({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[dU]]}),n})(),Ole=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[MU]}),n})(),kU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["app-contact"]],decls:20,vars:0,consts:[[1,"container","height-webkit"],[1,"row","margin-bottom-20"],[1,"col-md-12"],[1,"form_container"],[1,"heading_container"],[1,"form-group"],["type","email","id","exampleFormControlInput1","placeholder","Your Name",1,"form-control"],["type","email","id","exampleFormControlInput1","placeholder","Your Email address (Optional)",1,"form-control"],["type","number","id","exampleInputQuantity","placeholder","Phone Number",1,"form-control"],["type","number","id","exampleInputShippingAddress","placeholder","Your Message",1,"form-control"],["type","button",1,"btn","btn-success"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"div",3),C(4,"div",4),C(5,"h2"),B(6," Contact Us "),E(),E(),C(7,"form"),C(8,"div",5),Te(9,"input",6),E(),C(10,"div",5),Te(11,"input",7),E(),C(12,"div",5),Te(13,"input",8),E(),C(14,"div",5),C(15,"textarea",9),B(16,"                  "),E(),E(),C(17,"div",5),C(18,"button",10),B(19,"Submit"),E(),E(),E(),E(),E(),E(),E())},directives:[cx,JD,vf],styles:[".margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}"]}),n})();const Nle=["map"];let Ple=(()=>{class n{constructor(){this.title="HereMapDemo",this.lat="22.5726",this.lng="88.3639",this.width="1000px",this.height="600px",this._appId="JH0RyQAfBTe1OPYhgChS",this._appCode="Mhr09OniLRdibRC_lEFdZnLR10nrlGEOJj0wUsknIgE",this.query=""}ngOnInit(){this.platform=new H.service.Platform({apikey:this._appCode}),this.search=new H.places.Search(this.platform.getPlacesService())}ngAfterViewInit(){let t=this.platform.createDefaultLayers();new H.Map(this.mapElement.nativeElement,t.vector.normal.map,{zoom:10,center:{lat:37.7397,lng:-121.4252}})}places(t){console.log(this.map),this.map.removeObjects(this.map.getObjects()),this.search.request({q:t,at:this.lat+","+this.lng},{},i=>{for(let r=0;r<i.results.items.length;r++)this.dropMarker({lat:i.results.items[r].position[0],lng:i.results.items[r].position[1]},i.results.items[r]),0==r&&this.map.setCenter({lat:i.results.items[r].position[0],lng:i.results.items[r].position[1]})},i=>{console.error(i)})}dropMarker(t,i){let r=new H.map.Marker(t);r.setData("<p>"+i.title+"<br>"+i.vicinity+"</p>"),r.addEventListener("tap",s=>{let o=new H.ui.InfoBubble(s.target.getPosition(),{content:s.target.getData()});this.ui.addBubble(o)},!1),this.map.addObject(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["app-here-maps"]],viewQuery:function(t,i){if(1&t&&Js(Nle,7),2&t){let r;yt(r=_t())&&(i.mapElement=r.first)}},decls:8,vars:5,consts:[[2,"padding","10px 0"],["type","text","placeholder","Search places...",2,"width","90%",3,"ngModel","ngModelChange"],[3,"click"],["map",""]],template:function(t,i){1&t&&(C(0,"p"),B(1,"here-maps works!"),E(),C(2,"div",0),C(3,"input",1),ft("ngModelChange",function(s){return i.query=s}),E(),C(4,"button",2),ft("click",function(){return i.places(i.query)}),B(5,"Search"),E(),E(),Te(6,"div",null,3)),2&t&&(Re(3),ht("ngModel",i.query),Re(3),ja("width",i.width)("height",i.height))},directives:[Ny,tU,lx],styles:[""]}),n})();const RU=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},OU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw Error();i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},NU=function(n){return function(n){const e=RU(n);return OU.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function bf(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!jle(t)||(n[t]=bf(n[t],e[t]));return n}function jle(n){return"__proto__"!==n}class Hle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function Ct(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function PU(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function vx(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}function Gy(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Wy(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function bx(){const n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wf(){return"object"==typeof indexedDB}function Kle(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}class mi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(Xle,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new mi(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Xle=/\{\$([^}]+)}/g;function LU(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function wx(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(VU(s)&&VU(o)){if(!wx(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function VU(n){return null!==n&&"object"==typeof n}function Au(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Cf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BU(n,e){const t=new ece(n,e);return t.subscribe.bind(t)}class ece{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=Cx),void 0===r.error&&(r.error=Cx),void 0===r.complete&&(r.complete=Cx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cx(){}function UU(n,e=1e3,t=2){const i=e*Math.pow(t,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function ie(n){return n&&n._delegate?n._delegate:n}function jU(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){jU(s,i,r,o,a,"next",l)}function a(l){jU(s,i,r,o,a,"throw",l)}o(void 0)})}}class Qi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _l="[DEFAULT]";class ace{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Hle;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_l})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=_l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_l){return this.instances.has(e)}getOptions(e=_l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lce(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=_l){return this.component?this.component.multipleInstances?e:_l:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function lce(n){return n===_l?void 0:n}class uce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ace(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Dx=[];var qe=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(qe||(qe={})),qe))();const HU={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},dce=qe.INFO,hce={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},fce=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=hce[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Ef{constructor(e){this.name=e,this._logLevel=dce,this._logHandler=fce,this._userLogHandler=null,Dx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}class mce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const xx="@firebase/app",Sx=new Ef("@firebase/app"),vl="[DEFAULT]",$ce={[xx]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},na=new Map,Df=new Map;function qy(n,e){try{n.container.addComponent(e)}catch(t){Sx.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function GU(n,e){n.container.addOrOverwriteComponent(e)}function ts(n){const e=n.name;if(Df.has(e))return Sx.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,n);for(const t of na.values())qy(t,n);return!0}function Ky(n,e){return n.container.getProvider(e)}function Gce(n,e,t=vl){Ky(n,e).clearInstance(t)}function Wce(){Df.clear()}const xf=new ro("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class qce{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xf.create("app-deleted",{appName:this._name})}}const bl="9.6.3";function WU(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:vl,automaticDataCollectionEnabled:!1},e),i=t.name;if("string"!=typeof i||!i)throw xf.create("bad-app-name",{appName:String(i)});const r=na.get(i);if(r){if(wx(n,r.options)&&wx(t,r.config))return r;throw xf.create("duplicate-app",{appName:i})}const s=new uce(i);for(const a of Df.values())s.addComponent(a);const o=new qce(n,t,s);return na.set(i,o),o}function Kce(n=vl){const e=na.get(n);if(!e)throw xf.create("no-app",{appName:n});return e}function Qce(){return Array.from(na.values())}function zU(n){return Ix.apply(this,arguments)}function Ix(){return(Ix=m(function*(n){const e=n.name;na.has(e)&&(na.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Ii(n,e,t){var i;let r=null!==(i=$ce[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Sx.warn(a.join(" "))}ts(new Qi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function qU(n,e){if(null!==n&&"function"!=typeof n)throw xf.create("invalid-log-argument");!function(n,e){for(const t of Dx){let i=null;e&&e.level&&(i=HU[e.level]),t.userLogHandler=null===n?null:(r,s,...o)=>{const a=o.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch(c){return null}}).filter(l=>l).join(" ");s>=(null!=i?i:r.logLevel)&&n({level:qe[s].toLowerCase(),message:a,args:o,type:r.name})}}}(n,e)}function KU(n){!function(n){Dx.forEach(e=>{e.setLogLevel(n)})}(n)}ts(new Qi("platform-logger",e=>new mce(e),"PRIVATE")),Ii(xx,"0.7.13",""),Ii(xx,"0.7.13","esm2017"),Ii("fire-js","");class Jce{constructor(e,t){this._delegate=e,this.firebase=t,qy(e,new Qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zU(this._delegate)))}_getService(e,t=vl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=vl){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){qy(this._delegate,e)}_addOrOverwriteComponent(e){GU(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const QU=new ro("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),eue=function YU(){const n=function(n){const e={},t={__esModule:!0,initializeApp:function(c,u={}){const d=WU(c,u);if(LU(e,d.name))return e[d.name];const h=new n(d,t);return e[d.name]=h,h},app:r,registerVersion:Ii,setLogLevel:KU,onLog:qU,apps:null,SDK_VERSION:bl,INTERNAL:{registerComponent:function(c){const u=c.name,d=u.replace("-compat","");if(ts(c)&&"PUBLIC"===c.type){const h=(f=r())=>{if("function"!=typeof f[d])throw QU.create("invalid-app-argument",{appName:u});return f[d]()};void 0!==c.serviceProps&&bf(h,c.serviceProps),t[d]=h,n.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return"PUBLIC"===c.type?t[d]:null},removeApp:function(c){delete e[c]},useAsService:function(c,u){return"serverAuth"===u?null:u},modularAPIs:rr}};function r(c){if(!LU(e,c=c||vl))throw QU.create("no-app",{appName:c});return e[c]}return t.default=t,Object.defineProperty(t,"apps",{get:function(){return Object.keys(e).map(c=>e[c])}}),r.App=n,t}(Jce);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:YU,extendNamespace:function(t){bf(n,t)},createSubscribe:BU,ErrorFactory:ro,deepExtend:bf}),n}(),JU=new Ef("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){JU.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&JU.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const wl=eue;Ii("@firebase/app-compat","0.1.14",void 0),wl.registerVersion("firebase","9.6.3","app-compat");var oue=Ri(676);const XU="@firebase/installations",ej="w:0.5.5",tj="FIS_v2",so=new ro("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nj(n){return n instanceof mi&&n.code.includes("request-failed")}function Tx({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function ij(n){return{token:n.token,requestStatus:2,expiresIn:hue(n.expiresIn),creationTime:Date.now()}}function Mx(n,e){return kx.apply(this,arguments)}function kx(){return(kx=m(function*(n,e){const i=(yield e.json()).error;return so.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function rj({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sj(n,{refreshToken:e}){const t=rj(n);return t.append("Authorization",function(n){return`${tj} ${n}`}(e)),t}function Rx(n){return Ox.apply(this,arguments)}function Ox(){return(Ox=m(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function hue(n){return Number(n.replace("s","000"))}function pue(n,e){return Nx.apply(this,arguments)}function Nx(){return(Nx=m(function*(n,{fid:e}){const t=Tx(n),s={method:"POST",headers:rj(n),body:JSON.stringify({fid:e,authVersion:tj,appId:n.appId,sdkVersion:ej})},o=yield Rx(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:ij(a.authToken)}}throw yield Mx("Create Installation",o)})).apply(this,arguments)}function oj(n){return new Promise(e=>{setTimeout(e,n)})}const mue=/^[cdef][\w-]{21}$/;function yue(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mue.test(t)?t:""}catch(n){return""}}function Mu(n){return`${n.appName}!${n.appId}`}const ku=new Map;function aj(n,e){const t=Mu(n);lj(t,e),function(n,e){const t=(!Cl&&"BroadcastChannel"in self&&(Cl=new BroadcastChannel("[Firebase] FID Change"),Cl.onmessage=n=>{lj(n.data.key,n.data.fid)}),Cl);t&&t.postMessage({key:n,fid:e}),0===ku.size&&Cl&&(Cl.close(),Cl=null)}(t,e)}function lj(n,e){const t=ku.get(n);if(t)for(const i of t)i(e)}let Cl=null;const El="firebase-installations-store";let Fx=null;function Lx(){return Fx||(Fx=(0,oue.openDb)("firebase-installations-database",1,n=>{switch(n.oldVersion){case 0:n.createObjectStore(El)}})),Fx}function Qy(n,e){return Vx.apply(this,arguments)}function Vx(){return(Vx=m(function*(n,e){const t=Mu(n),r=(yield Lx()).transaction(El,"readwrite"),s=r.objectStore(El),o=yield s.get(t);return yield s.put(e,t),yield r.complete,(!o||o.fid!==e.fid)&&aj(n,e.fid),e})).apply(this,arguments)}function Bx(n){return Ux.apply(this,arguments)}function Ux(){return(Ux=m(function*(n){const e=Mu(n),i=(yield Lx()).transaction(El,"readwrite");yield i.objectStore(El).delete(e),yield i.complete})).apply(this,arguments)}function Sf(n,e){return jx.apply(this,arguments)}function jx(){return(jx=m(function*(n,e){const t=Mu(n),r=(yield Lx()).transaction(El,"readwrite"),s=r.objectStore(El),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield r.complete,a&&(!o||o.fid!==a.fid)&&aj(n,a.fid),a})).apply(this,arguments)}function Hx(n){return $x.apply(this,arguments)}function $x(){return($x=m(function*(n){let e;const t=yield Sf(n,i=>{const r=Due(i),s=xue(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Due(n){return hj(n||{fid:yue(),registrationStatus:0})}function xue(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(so.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:t,registrationPromise:function(n,e){return Gx.apply(this,arguments)}(n,t)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Iue(n)}:{installationEntry:e}}function Gx(){return(Gx=m(function*(n,e){try{return Qy(n,yield pue(n,e))}catch(t){throw nj(t)&&409===t.customData.serverCode?yield Bx(n):yield Qy(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Iue(n){return Wx.apply(this,arguments)}function Wx(){return(Wx=m(function*(n){let e=yield dj(n);for(;1===e.registrationStatus;)yield oj(100),e=yield dj(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Hx(n);return i||t}return e})).apply(this,arguments)}function dj(n){return Sf(n,e=>{if(!e)throw so.create("installation-not-found");return hj(e)})}function hj(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Tue(n,e){return zx.apply(this,arguments)}function zx(){return(zx=m(function*({appConfig:n,platformLoggerProvider:e},t){const i=Mue(n,t),r=sj(n,t),s=e.getImmediate({optional:!0});s&&r.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:ej}})},l=yield Rx(()=>fetch(i,a));if(l.ok)return ij(yield l.json());throw yield Mx("Generate Auth Token",l)})).apply(this,arguments)}function Mue(n,{fid:e}){return`${Tx(n)}/${e}/authTokens:generate`}function qx(n){return Kx.apply(this,arguments)}function Kx(){return(Kx=m(function*(n,e=!1){let t;const i=yield Sf(n.appConfig,s=>{if(!pj(s))throw so.create("not-registered");const o=s.authToken;if(!e&&Oue(o))return s;if(1===o.requestStatus)return t=kue(n,e),s;{if(!navigator.onLine)throw so.create("app-offline");const a=Pue(s);return t=Rue(n,a),a}});return t?yield t:i.authToken})).apply(this,arguments)}function kue(n,e){return Qx.apply(this,arguments)}function Qx(){return(Qx=m(function*(n,e){let t=yield fj(n.appConfig);for(;1===t.authToken.requestStatus;)yield oj(100),t=yield fj(n.appConfig);const i=t.authToken;return 0===i.requestStatus?qx(n,e):i})).apply(this,arguments)}function fj(n){return Sf(n,e=>{if(!pj(e))throw so.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Rue(n,e){return Yx.apply(this,arguments)}function Yx(){return(Yx=m(function*(n,e){try{const t=yield Tue(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Qy(n.appConfig,i),t}catch(t){if(!nj(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Qy(n.appConfig,i)}else yield Bx(n.appConfig);throw t}})).apply(this,arguments)}function pj(n){return void 0!==n&&2===n.registrationStatus}function Oue(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Pue(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Jx(){return(Jx=m(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Hx(e.appConfig);return i?i.catch(console.error):qx(e).catch(console.error),t.fid})).apply(this,arguments)}function Xx(){return(Xx=m(function*(n,e=!1){const t=n;return yield Bue(t.appConfig),(yield qx(t,e)).token})).apply(this,arguments)}function Bue(n){return Zx.apply(this,arguments)}function Zx(){return(Zx=m(function*(n){const{registrationPromise:e}=yield Hx(n);e&&(yield e)})).apply(this,arguments)}function nS(n){return so.create("missing-app-config-values",{valueName:n})}const gj="installations";ts(new Qi(gj,n=>{const e=n.getProvider("app").getImmediate();return{app:e,appConfig:function(n){if(!n||!n.options)throw nS("App Configuration");if(!n.name)throw nS("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw nS(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e),platformLoggerProvider:Ky(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),ts(new Qi("installations-internal",n=>{const t=Ky(n.getProvider("app").getImmediate(),gj).getImmediate();return{getId:()=>function(n){return Jx.apply(this,arguments)}(t),getToken:r=>function(n){return Xx.apply(this,arguments)}(t,r)}},"PRIVATE")),Ii(XU,"0.5.5"),Ii(XU,"0.5.5","esm2017");const Yy="analytics",que="firebase_id",Yue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mj="https://www.googletagmanager.com/gtag/js",Bn=new Ef("@firebase/analytics");function yj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Jue(n,e){const t=document.createElement("script");t.src=`${mj}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Zue(n,e,t,i,r,s){return iS.apply(this,arguments)}function iS(){return(iS=m(function*(n,e,t,i,r,s){const o=i[r];try{if(o)yield e[o];else{const l=(yield yj(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Bn.error(a)}n("config",r,s)})).apply(this,arguments)}function ede(n,e,t,i,r){return rS.apply(this,arguments)}function rS(){return(rS=m(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield yj(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Bn.error(s)}})).apply(this,arguments)}function ide(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(mj))return e;return null}const Yi=new ro("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_j=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function lde(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function cde(n){return sS.apply(this,arguments)}function sS(){return(sS=m(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:lde(i)},s=Yue.replace("{app-id}",t),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw Yi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function ude(n){return oS.apply(this,arguments)}function oS(){return(oS=m(function*(n,e=_j,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Yi.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Yi.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fde;return setTimeout(m(function*(){a.abort()}),void 0!==t?t:6e4),vj({appId:i,apiKey:r,measurementId:s},o,a,e)})).apply(this,arguments)}function vj(n,e,t){return aS.apply(this,arguments)}function aS(){return(aS=m(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=_j){const{appId:s,measurementId:o}=n;try{yield dde(i,e)}catch(a){if(o)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield cde(n);return r.deleteThrottleMetadata(s),a}catch(a){if(!hde(a)){if(r.deleteThrottleMetadata(s),o)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?UU(t,r.intervalMillis,30):UU(t,r.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return r.setThrottleMetadata(s,c),Bn.debug(`Calling attemptFetch again in ${l} millis`),vj(n,c,i,r)}})).apply(this,arguments)}function dde(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Yi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hde(n){if(!(n instanceof mi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class fde{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function pde(){return lS.apply(this,arguments)}function lS(){return(lS=m(function*(){if(!wf())return Bn.warn(Yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Kle()}catch(n){return Bn.warn(Yi.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function cS(){return(cS=m(function*(n,e,t,i,r,s,o){var a;const l=ude(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Bn.error(f)),e.push(l);const c=pde().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);ide()||Jue(s,u.measurementId),r("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[que]=d),r("config",u.measurementId,h),u.measurementId})).apply(this,arguments)}class mde{constructor(e){this.app=e}_delete(){return delete oo[this.app.options.appId],Promise.resolve()}}let oo={},bj=[];const wj={};let Ej,If,Jy="dataLayer",uS=!1;function _de(n,e,t){!function(){const n=[];if(Gy()&&n.push("This is a browser extension environment."),!("undefined"==typeof navigator||!navigator.cookieEnabled)||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Yi.create("invalid-analytics-context",{errorInfo:e});Bn.warn(t.message)}}();const i=n.options.appId;if(!i)throw Yi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Yi.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oo[i])throw Yi.create("already-exists",{id:i});if(!uS){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Jy);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function(n,e,t,i){function s(){return(s=m(function*(o,a,l){try{"event"===o?yield ede(n,e,t,a,l):"config"===o?yield Zue(n,e,t,i,a,l):n("set",a)}catch(c){Bn.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(oo,bj,wj,Jy,"gtag");If=s,Ej=o,uS=!0}return oo[i]=function(n,e,t,i,r,s,o){return cS.apply(this,arguments)}(n,bj,wj,e,Ej,Jy,t),new mde(n)}function dS(){return(dS=m(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}const Dj="@firebase/analytics";function _S(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}ts(new Qi(Yy,(e,{options:t})=>_de(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),ts(new Qi("analytics-internal",function(e){try{const t=e.getProvider(Yy).getImmediate();return{logEvent:(i,r,s)=>function(n,e,t,i){n=ie(n),function(n,e,t,i,r){return dS.apply(this,arguments)}(If,oo[n.app.options.appId],e,t,i).catch(r=>Bn.error(r))}(t,i,r,s)}}catch(t){throw Yi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ii(Dj,"0.7.5"),Ii(Dj,"0.7.5","esm2017");const Mde=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},kde=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mj=new ro("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kj=new Ef("@firebase/auth");function Zy(n,...e){kj.logLevel<=qe.ERROR&&kj.error(`Auth (${bl}): ${n}`,...e)}function In(n,...e){throw vS(n,...e)}function Un(n,...e){return vS(n,...e)}function Rj(n,e,t){const i=Object.assign(Object.assign({},kde()),{[e]:t});return new ro("auth","Firebase",i).create(e,{appName:n.name})}function Ou(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&In(n,"argument-error"),Rj(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vS(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Mj.create(n,...e)}function F(n,e,...t){if(!n)throw vS(e,...t)}function Ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zy(e),new Error(e)}function ns(n,e){n||Ts(e)}const Oj=new Map;function Ji(n){ns(n instanceof Function,"Expected a class definition");let e=Oj.get(n);return e?(ns(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Oj.set(n,e),e)}function Tf(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function bS(){return"http:"===Nj()||"https:"===Nj()}function Nj(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Mf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ns(t>e,"Short delay should be less than long delay!"),this.isMobile=PU()||Wy()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bS()||Gy()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wS(n,e){ns(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Pj{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lde=new Mf(3e4,6e4);function dn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function An(n,e,t,i){return CS.apply(this,arguments)}function CS(){return(CS=m(function*(n,e,t,i,r={}){return Fj(n,r,m(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=Au(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Pj.fetch()(Lj(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Fj(n,e,t){return ES.apply(this,arguments)}function ES(){return(ES=m(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Fde),e);try{const r=new Vde(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw e_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw e_(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw e_(n,"email-already-in-use",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rj(n,u,c);In(n,u)}}catch(r){if(r instanceof mi)throw r;In(n,"network-request-failed")}})).apply(this,arguments)}function ao(n,e,t,i){return DS.apply(this,arguments)}function DS(){return(DS=m(function*(n,e,t,i,r={}){const s=yield An(n,e,t,i,r);return"mfaPendingCredential"in s&&In(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Lj(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?wS(n.config,r):`${n.config.apiScheme}://${r}`}class Vde{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"timeout")),Lde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function e_(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Un(n,e,i);return r.customData._tokenResponse=t,r}function xS(){return(xS=m(function*(n,e){return An(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Ude(n,e){return SS.apply(this,arguments)}function SS(){return(SS=m(function*(n,e){return An(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function jde(n,e){return IS.apply(this,arguments)}function IS(){return(IS=m(function*(n,e){return An(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function kf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function AS(){return(AS=m(function*(n,e=!1){const t=ie(n),i=yield t.getIdToken(e),r=t_(i);F(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:kf(TS(r.auth_time)),issuedAtTime:kf(TS(r.iat)),expirationTime:kf(TS(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function TS(n){return 1e3*Number(n)}function t_(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Zy("JWT malformed, contained fewer than 3 sections"),null;try{const r=function(n){try{return OU.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return r?JSON.parse(r):(Zy("Failed to decode base64 JWT payload"),null)}catch(r){return Zy("Caught error parsing JWT payload as JSON",r),null}}function lo(n,e){return MS.apply(this,arguments)}function MS(){return(MS=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof mi&&Gde(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function Gde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Wde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),i)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class Vj{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kf(this.lastLoginAt),this.creationTime=kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rf(n){return kS.apply(this,arguments)}function kS(){return(kS=m(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield lo(n,jde(t,{idToken:i}));F(null==r?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Kde(s.providerUserInfo):[],a=qde(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vj(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function RS(){return(RS=m(function*(n){const e=ie(n);yield Rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qde(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Kde(n){return n.map(e=>{var{providerId:t}=e,i=_S(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function OS(){return(OS=m(function*(n,e){const t=yield Fj(n,{},m(function*(){const i=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=Lj(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pj.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(void 0!==e.idToken,"internal-error"),F(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=t_(n);return F(e,"internal-error"),F(void 0!==e.exp,"internal-error"),F(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return m(function*(){return F(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return m(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function(n,e){return OS.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new Of;return i&&(F("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(F("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(F("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Of,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function ia(n,e){F("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Dl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=_S(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new Vj(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const i=yield lo(t,t.stsTokenManager.getToken(t.auth,e));return F(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function(n){return AS.apply(this,arguments)}(this,e)}reload(){return function(n){return RS.apply(this,arguments)}(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Dl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return m(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield lo(e,function(n,e){return xS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,y=null!==(a=t.tenantId)&&void 0!==a?a:void 0,v=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,x=null!==(c=t.createdAt)&&void 0!==c?c:void 0,D=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:N,emailVerified:V,isAnonymous:re,providerData:He,stsTokenManager:Ye}=t;F(N&&Ye,e,"internal-error");const Kn=Of.fromJSON(this.name,Ye);F("string"==typeof N,e,"internal-error"),ia(d,e.name),ia(h,e.name),F("boolean"==typeof V,e,"internal-error"),F("boolean"==typeof re,e,"internal-error"),ia(f,e.name),ia(p,e.name),ia(y,e.name),ia(v,e.name),ia(x,e.name),ia(D,e.name);const sn=new Dl({uid:N,auth:e,email:h,emailVerified:V,displayName:d,isAnonymous:re,photoURL:p,phoneNumber:f,tenantId:y,stsTokenManager:Kn,createdAt:x,lastLoginAt:D});return He&&Array.isArray(He)&&(sn.providerData=He.map(Pn=>Object.assign({},Pn))),v&&(sn._redirectEventId=v),sn}static _fromIdTokenResponse(e,t,i=!1){return m(function*(){const r=new Of;r.updateFromServerResponse(t);const s=new Dl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Rf(s),s})()}}const Nu=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,i){var r=this;return m(function*(){r.storage[t]=i})()}_get(t){var i=this;return m(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return m(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function xl(n,e,t){return`firebase:${n}:${e}:${t}`}class Pu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=xl(this.userKey,r.apiKey,s),this.fullPersistenceKey=xl("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Dl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return m(function*(){if(!t.length)return new Pu(Ji(Nu),e,i);const r=(yield Promise.all(t.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Ji(Nu);const o=xl(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Dl._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new Pu(s,e,i)):new Pu(s,e,i)})()}}function Bj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($j(e))return"Blackberry";if(Gj(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||jj(e))&&!e.includes("edge/"))return"Chrome";if(Nf(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function Uj(n=Ct()){return/firefox\//i.test(n)}function NS(n=Ct()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jj(n=Ct()){return/crios\//i.test(n)}function Hj(n=Ct()){return/iemobile/i.test(n)}function Nf(n=Ct()){return/android/i.test(n)}function $j(n=Ct()){return/blackberry/i.test(n)}function Gj(n=Ct()){return/webos/i.test(n)}function Fu(n=Ct()){return/iphone|ipad|ipod/i.test(n)}function Wj(n=Ct()){return Fu(n)||Nf(n)||Gj(n)||$j(n)||/windows phone/i.test(n)||Hj(n)}function zj(n,e=[]){let t;switch(n){case"Browser":t=Bj(Ct());break;case"Worker":t=`${Bj(Ct())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${i}`}class ehe{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qj(this),this.idTokenSubscription=new qj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mj,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(m(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Pu.create(i,e),!i._deleted)){if(null===(r=i._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch(o){}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var i;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null==r?void 0:r._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(r=a.user)}return r?r._redirectEventId?(F(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield Rf(e)}catch(i){if("auth/network-request-failed"!==i.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const i=e?ie(e):null;return i&&F(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e){var t=this;return m(function*(){if(!t._deleted)return e&&F(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(m(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Ji(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return m(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const i=e&&Ji(e)||t._popupRedirectResolver;F(i,t,"argument-error"),t.redirectPersistenceManager=yield Pu.create(t,[Ji(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var i,r;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return F(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function Tn(n){return ie(n)}class qj{constructor(e){this.auth=e,this.observer=null,this.addObserver=BU(t=>this.observer=t)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kj(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qj(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Lu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,t){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}function Yj(n,e){return PS.apply(this,arguments)}function PS(){return(PS=m(function*(n,e){return An(n,"POST","/v1/accounts:resetPassword",dn(n,e))})).apply(this,arguments)}function Jj(n,e){return FS.apply(this,arguments)}function FS(){return(FS=m(function*(n,e){return An(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function rhe(n,e){return LS.apply(this,arguments)}function LS(){return(LS=m(function*(n,e){return An(n,"POST","/v1/accounts:update",dn(n,e))})).apply(this,arguments)}function VS(){return(VS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithPassword",dn(n,e))})).apply(this,arguments)}function n_(n,e){return BS.apply(this,arguments)}function BS(){return(BS=m(function*(n,e){return An(n,"POST","/v1/accounts:sendOobCode",dn(n,e))})).apply(this,arguments)}function ohe(n,e){return US.apply(this,arguments)}function US(){return(US=m(function*(n,e){return n_(n,e)})).apply(this,arguments)}function ahe(n,e){return jS.apply(this,arguments)}function jS(){return(jS=m(function*(n,e){return n_(n,e)})).apply(this,arguments)}function lhe(n,e){return HS.apply(this,arguments)}function HS(){return(HS=m(function*(n,e){return n_(n,e)})).apply(this,arguments)}function che(n,e){return $S.apply(this,arguments)}function $S(){return($S=m(function*(n,e){return n_(n,e)})).apply(this,arguments)}function GS(){return(GS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))})).apply(this,arguments)}function WS(){return(WS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithEmailLink",dn(n,e))})).apply(this,arguments)}class Pf extends Lu{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Pf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Pf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){switch(t.signInMethod){case"password":return function(n,e){return VS.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(n,e){return GS.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:In(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return m(function*(){switch(i.signInMethod){case"password":return Jj(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function(n,e){return WS.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:In(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function co(n,e){return zS.apply(this,arguments)}function zS(){return(zS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithIdp",dn(n,e))})).apply(this,arguments)}class Ms extends Lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):In("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=_S(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Ms(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return co(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,co(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}function fhe(n,e){return qS.apply(this,arguments)}function qS(){return(qS=m(function*(n,e){return An(n,"POST","/v1/accounts:sendVerificationCode",dn(n,e))})).apply(this,arguments)}function KS(){return(KS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithPhoneNumber",dn(n,e))})).apply(this,arguments)}function QS(){return(QS=m(function*(n,e){const t=yield ao(n,"POST","/v1/accounts:signInWithPhoneNumber",dn(n,e));if(t.temporaryProof)throw e_(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const mhe={USER_NOT_FOUND:"user-not-found"};function YS(){return(YS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithPhoneNumber",dn(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),mhe)})).apply(this,arguments)}class Sl extends Lu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(n,e){return KS.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(n,e){return QS.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(n,e){return YS.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return i||t||r||s?new Sl({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}):null}}class Ff{constructor(e){var t,i,r,s,o,a;const l=Tu(Cf(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);F(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(n){const e=Tu(Cf(n)).link,t=e?Tu(Cf(e)).deep_link_id:null,i=Tu(Cf(n)).deep_link_id;return(i?Tu(Cf(i)).link:null)||i||t||e||n}(e);try{return new Ff(t)}catch(i){return null}}}let JS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Pf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Ff.parseLink(i);return F(r,"argument-error"),Pf._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Bu extends Vu{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return F("providerId"in t&&"signInMethod"in t,"argument-error"),Ms._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return F(e.idToken||e.accessToken,"argument-error"),Ms._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=e;if(!i&&!r&&!t&&!s||!a)return null;try{return new Bu(a)._credential({idToken:t,accessToken:i,nonce:o,pendingToken:s})}catch(l){return null}}}let Xj=(()=>{class n extends Vu{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(i){return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Zj=(()=>{class n extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch(s){return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),eH=(()=>{class n extends Vu{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(i){return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Uu extends Lu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return co(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,co(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:s}=t;return i&&r&&s&&i===r?new Uu(i,s):null}static _create(e,t){return new Uu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class i_ extends uo{constructor(e){F(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return i_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return i_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Uu.fromJSON(e);return F(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Uu._create(i,t)}catch(r){return null}}}let tH=(()=>{class n extends Vu{constructor(){super("twitter.com")}static credential(t,i){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return n.credential(i,r)}catch(s){return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function nH(n,e){return XS.apply(this,arguments)}function XS(){return(XS=m(function*(n,e){return ao(n,"POST","/v1/accounts:signUp",dn(n,e))})).apply(this,arguments)}class xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return m(function*(){const s=yield Dl._fromIdTokenResponse(e,i,r),o=iH(i);return new xr({user:s,providerId:o,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return m(function*(){yield e._updateTokensIfNecessary(i,!0);const r=iH(i);return new xr({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function iH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function ZS(){return(ZS=m(function*(n){var e;const t=Tn(n);if(yield t._initializationPromise,null===(e=t.currentUser)||void 0===e?void 0:e.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=yield nH(t,{returnSecureToken:!0}),r=yield xr._fromIdTokenResponse(t,"signIn",i,!0);return yield t._updateCurrentUser(r.user),r})).apply(this,arguments)}class r_ extends mi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,r_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new r_(e,t,i,r)}}function rH(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?r_._fromErrorAndOperation(n,s,e,i):s})}function sH(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function eI(){return(eI=m(function*(n,e){const t=ie(n);yield s_(!0,t,e);const{providerUserInfo:i}=yield Ude(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),r=sH(i||[]);return t.providerData=t.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t})).apply(this,arguments)}function tI(n,e){return nI.apply(this,arguments)}function nI(){return(nI=m(function*(n,e,t=!1){const i=yield lo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return xr._forOperation(n,"link",i)})).apply(this,arguments)}function s_(n,e,t){return iI.apply(this,arguments)}function iI(){return(iI=m(function*(n,e,t){yield Rf(e);const r=!1===n?"provider-already-linked":"no-such-provider";F(sH(e.providerData).has(t)===n,e.auth,r)})).apply(this,arguments)}function oH(n,e){return rI.apply(this,arguments)}function rI(){return(rI=m(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield lo(n,rH(i,r,e,n),t);F(s.idToken,i,"internal-error");const o=t_(s.idToken);F(o,i,"internal-error");const{sub:a}=o;return F(n.uid===a,i,"user-mismatch"),xr._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&In(i,"user-mismatch"),s}})).apply(this,arguments)}function aH(n,e){return sI.apply(this,arguments)}function sI(){return(sI=m(function*(n,e,t=!1){const i="signIn",r=yield rH(n,i,e),s=yield xr._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function o_(n,e){return oI.apply(this,arguments)}function oI(){return(oI=m(function*(n,e){return aH(Tn(n),e)})).apply(this,arguments)}function lH(n,e){return aI.apply(this,arguments)}function aI(){return(aI=m(function*(n,e){const t=ie(n);return yield s_(!1,t,e.providerId),tI(t,e)})).apply(this,arguments)}function cH(n,e){return lI.apply(this,arguments)}function lI(){return(lI=m(function*(n,e){return oH(ie(n),e)})).apply(this,arguments)}function Dhe(n,e){return cI.apply(this,arguments)}function cI(){return(cI=m(function*(n,e){return ao(n,"POST","/v1/accounts:signInWithCustomToken",dn(n,e))})).apply(this,arguments)}function uI(){return(uI=m(function*(n,e){const t=Tn(n),i=yield Dhe(t,{token:e,returnSecureToken:!0}),r=yield xr._fromIdTokenResponse(t,"signIn",i);return yield t._updateCurrentUser(r.user),r})).apply(this,arguments)}class a_{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?dI._fromServerResponse(e,t):In(e,"internal-error")}}class dI extends a_{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new dI(t)}}function l_(n,e,t){var i;F((null===(i=t.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),F(void 0===t.dynamicLinkDomain||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(F(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(F(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function hI(){return(hI=m(function*(n,e,t){const i=ie(n),r={requestType:"PASSWORD_RESET",email:e};t&&l_(i,r,t),yield ahe(i,r)})).apply(this,arguments)}function fI(){return(fI=m(function*(n,e,t){yield Yj(ie(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function pI(){return(pI=m(function*(n,e){yield rhe(ie(n),{oobCode:e})})).apply(this,arguments)}function uH(n,e){return gI.apply(this,arguments)}function gI(){return(gI=m(function*(n,e){const t=ie(n),i=yield Yj(t,{oobCode:e}),r=i.requestType;switch(F(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(i.mfaInfo,t,"internal-error");default:F(i.email,t,"internal-error")}let s=null;return i.mfaInfo&&(s=a_._fromServerResponse(Tn(t),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})).apply(this,arguments)}function mI(){return(mI=m(function*(n,e){const{data:t}=yield uH(ie(n),e);return t.email})).apply(this,arguments)}function yI(){return(yI=m(function*(n,e,t){const i=Tn(n),r=yield nH(i,{returnSecureToken:!0,email:e,password:t}),s=yield xr._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function _I(){return(_I=m(function*(n,e,t){const i=ie(n),r={requestType:"EMAIL_SIGNIN",email:e};F(t.handleCodeInApp,i,"argument-error"),t&&l_(i,r,t),yield lhe(i,r)})).apply(this,arguments)}function vI(){return(vI=m(function*(n,e,t){const i=ie(n),r=JS.credentialWithLink(e,t||Tf());return F(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),o_(i,r)})).apply(this,arguments)}function Phe(n,e){return bI.apply(this,arguments)}function bI(){return(bI=m(function*(n,e){return An(n,"POST","/v1/accounts:createAuthUri",dn(n,e))})).apply(this,arguments)}function wI(){return(wI=m(function*(n,e){const i={identifier:e,continueUri:bS()?Tf():"http://localhost"},{signinMethods:r}=yield Phe(ie(n),i);return r||[]})).apply(this,arguments)}function CI(){return(CI=m(function*(n,e){const t=ie(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&l_(t.auth,r,e);const{email:s}=yield ohe(t.auth,r);s!==n.email&&(yield n.reload())})).apply(this,arguments)}function EI(){return(EI=m(function*(n,e,t){const i=ie(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&l_(i.auth,s,t);const{email:o}=yield che(i.auth,s);o!==n.email&&(yield n.reload())})).apply(this,arguments)}function Bhe(n,e){return DI.apply(this,arguments)}function DI(){return(DI=m(function*(n,e){return An(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function xI(){return(xI=m(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=ie(n),s={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield lo(i,Bhe(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)})).apply(this,arguments)}function dH(n,e,t){return SI.apply(this,arguments)}function SI(){return(SI=m(function*(n,e,t){const{auth:i}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield lo(n,Jj(i,s));yield n._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class ju{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class hH extends ju{constructor(e,t,i,r){super(e,t,i),this.username=r}}class Ghe extends ju{constructor(e,t){super(e,"facebook.com",t)}}class Whe extends hH{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class zhe extends ju{constructor(e,t){super(e,"google.com",t)}}class qhe extends hH{constructor(e,t,i){super(e,"twitter.com",t,i)}}function Khe(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function(n){var e,t;if(!n)return null;const{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&(null==n?void 0:n.idToken)){const o=null===(t=null===(e=t_(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(o)return new ju(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!i)return null;switch(i){case"facebook.com":return new Ghe(s,r);case"github.com":return new Whe(s,r);case"google.com":return new zhe(s,r);case"twitter.com":return new qhe(s,r,n.screenName||null);case"custom":case"anonymous":return new ju(s,null);default:return new ju(s,i,r)}}(t)}class Il{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Il("enroll",e)}static _fromMfaPendingCredential(e){return new Il("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Il._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(i=e.multiFactorSession)||void 0===i?void 0:i.idToken)return Il._fromIdtoken(e.multiFactorSession.idToken)}return null}}class AI{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=Tn(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(a=>a_._fromServerResponse(i,a));F(r.mfaPendingCredential,i,"internal-error");const o=Il._fromMfaPendingCredential(r.mfaPendingCredential);return new AI(o,s,function(){var a=m(function*(l){const c=yield l._process(i,o);delete r.mfaInfo,delete r.mfaPendingCredential;const u=Object.assign(Object.assign({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const d=yield xr._fromIdTokenResponse(i,t.operationType,u);return yield i._updateCurrentUser(d.user),d;case"reauthenticate":return F(t.user,i,"internal-error"),xr._forOperation(t.user,t.operationType,u);default:In(i,"internal-error")}});return function(l){return a.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return m(function*(){return t.signInResolver(e)})()}}function Yhe(n,e){return An(n,"POST","/v2/accounts/mfaEnrollment:start",dn(n,e))}class TI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>a_._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new TI(e)}getSession(){var e=this;return m(function*(){return Il._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var i=this;return m(function*(){const r=e,s=yield i.getSession(),o=yield lo(i.user,r._process(i.user.auth,s,t));return yield i.user._updateTokensIfNecessary(o),i.user.reload()})()}unenroll(e){var t=this;return m(function*(){const i="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),s=yield lo(t.user,function(n,e){return An(n,"POST","/v2/accounts/mfaEnrollment:withdraw",dn(n,e))}(t.user.auth,{idToken:r,mfaEnrollmentId:i}));t.enrolledFactors=t.enrolledFactors.filter(({uid:o})=>o!==i),yield t.user._updateTokensIfNecessary(s);try{yield t.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}})()}}const MI=new WeakMap,c_="__sak";class fH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(c_,"1"),this.storage.removeItem(c_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u_=(()=>{class n extends fH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=Ct();return NS(n)||Fu(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=Wj(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);bx()&&10===document.documentMode&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,10):s()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,s=this;return m(function*(){yield r().call(s,t,i),s.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return m(function*(){const s=yield i().call(r,t);return r.localCache[t]=JSON.stringify(s),s})()}_remove(t){var i=()=>super._remove,r=this;return m(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),ra=(()=>{class n extends fH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let rfe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return m(function*(){const r=t,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!(null==l?void 0:l.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=m(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Lf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class sfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return m(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Lf("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function hn(){return window}function kI(){return void 0!==hn().WorkerGlobalScope&&"function"==typeof hn().importScripts}function RI(){return(RI=m(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const pH="firebaseLocalStorageDb",d_="firebaseLocalStorage",gH="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function h_(n,e){return n.transaction([d_],e?"readwrite":"readonly").objectStore(d_)}function OI(){const n=indexedDB.open(pH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(d_,{keyPath:gH})}catch(r){t(r)}}),n.addEventListener("success",m(function*(){const i=n.result;i.objectStoreNames.contains(d_)?e(i):(i.close(),yield function(){const n=indexedDB.deleteDatabase(pH);return new Vf(n).toPromise()}(),e(yield OI()))}))})}function mH(n,e,t){return NI.apply(this,arguments)}function NI(){return(NI=m(function*(n,e,t){const i=h_(n,!0).put({[gH]:e,value:t});return new Vf(i).toPromise()})).apply(this,arguments)}function PI(){return(PI=m(function*(n,e){const t=h_(n,!1).get(e),i=yield new Vf(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function yH(n,e){const t=h_(n,!0).delete(e);return new Vf(t).toPromise()}const Hu=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield OI()),t.db})()}_withRetries(t){var i=this;return m(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield t(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return kI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=rfe._getInstance(kI()?self:null),t.receiver._subscribe("keyChanged",function(){var i=m(function*(r,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=m(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var i,r;if(t.activeServiceWorker=yield function(){return RI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new sfe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(i=s[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=s[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return m(function*(){if(i.sender&&i.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch(r){}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield OI();return yield mH(t,c_,"1"),yield yH(t,c_),!0}catch(t){}return!1})()}_withPendingWrite(t){var i=this;return m(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(s=>mH(s,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return m(function*(){const r=yield i._withRetries(s=>function(n,e){return PI.apply(this,arguments)}(s,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(r=>yH(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const i=yield t._withRetries(o=>{const a=h_(o,!1).getAll();return new Vf(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),r.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function gfe(n,e){return An(n,"POST","/v2/accounts/mfaSignIn:start",dn(n,e))}function FI(){return(FI=m(function*(n){return(yield An(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _H(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Un("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function vH(n){return`__${n}${Math.floor(1e6*Math.random())}`}const f_=1e12;class wfe{constructor(e){this.auth=e,this.counter=f_,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new Cfe(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||f_;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;return(null===(t=this._widgets.get(e||f_))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return m(function*(){var i;return null===(i=t._widgets.get(e||f_))||void 0===i||i.execute(),""})()}}class Cfe{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;F(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<50;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(i){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(i){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const LI=vH("rcb"),Dfe=new Mf(3e4,6e4);class Sfe{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!hn().grecaptcha}load(e,t=""){return F(function(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(hn().grecaptcha):new Promise((i,r)=>{const s=hn().setTimeout(()=>{r(Un(e,"network-request-failed"))},Dfe.get());hn()[LI]=()=>{hn().clearTimeout(s),delete hn()[LI];const a=hn().grecaptcha;if(!a)return void r(Un(e,"internal-error"));const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=t,i(a)},_H(`https://www.google.com/recaptcha/api.js??${Au({onload:LI,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),r(Un(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!hn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Afe{load(e){return m(function*(){return new wfe(e)})()}clearedOneInstance(){}}const bH="recaptcha",Tfe={theme:"light",type:"image"};class Mfe{constructor(e,t=Object.assign({},Tfe),i){this.parameters=t,this.type=bH,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(i),this.isInvisible="invisible"===this.parameters.size,F("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;F(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Afe:new Sfe,this.validateStartingState()}verify(){var e=this;return m(function*(){e.assertNotDestroyed();const t=yield e.render(),i=e.getAssertedRecaptcha();return i.getResponse(t)||new Promise(s=>{const o=a=>{!a||(e.tokenChangeListeners.delete(o),s(a))};e.tokenChangeListeners.add(o),e.isInvisible&&i.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),"function"==typeof e)e(t);else if("string"==typeof e){const i=hn()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return m(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const i=document.createElement("div");t.appendChild(i),t=i}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return m(function*(){F(bS()&&!kI(),e.auth,"internal-error"),yield function(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(n){return FI.apply(this,arguments)}(e.auth);F(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class VI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Sl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function BI(){return(BI=m(function*(n,e,t){const i=Tn(n),r=yield p_(i,e,ie(t));return new VI(r,s=>o_(i,s))})).apply(this,arguments)}function UI(){return(UI=m(function*(n,e,t){const i=ie(n);yield s_(!1,i,"phone");const r=yield p_(i.auth,e,ie(t));return new VI(r,s=>lH(i,s))})).apply(this,arguments)}function jI(){return(jI=m(function*(n,e,t){const i=ie(n),r=yield p_(i.auth,e,ie(t));return new VI(r,s=>cH(i,s))})).apply(this,arguments)}function p_(n,e,t){return HI.apply(this,arguments)}function HI(){return(HI=m(function*(n,e,t){var i;const r=yield t.verify();try{let s;if(F("string"==typeof r,n,"argument-error"),F(t.type===bH,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return F("enroll"===o.type,n,"internal-error"),(yield Yhe(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{F("signin"===o.type,n,"internal-error");const a=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return F(a,n,"missing-multi-factor-info"),(yield gfe(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield fhe(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{t._reset()}})).apply(this,arguments)}function $I(){return($I=m(function*(n,e){yield tI(ie(n),e)})).apply(this,arguments)}let Bf=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Tn(t)}verifyPhoneNumber(t,i){return p_(this.auth,t,ie(i))}static credential(t,i){return Sl._fromVerification(t,i)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:i,temporaryProof:r}=t;return i&&r?Sl._fromTokenResponse(i,r):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Al(n,e){return e?Ji(e):(F(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class GI extends Lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ffe(n){return aH(n.auth,new GI(n),n.bypassAuthState)}function Lfe(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),oH(t,new GI(n),n.bypassAuthState)}function Vfe(n){return WI.apply(this,arguments)}function WI(){return(WI=m(function*(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),tI(t,new GI(n),n.bypassAuthState)})).apply(this,arguments)}class wH{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ffe;case"linkViaPopup":case"linkViaRedirect":return Vfe;case"reauthViaPopup":case"reauthViaRedirect":return Lfe;default:In(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bfe=new Mf(2e3,1e4);function zI(){return(zI=m(function*(n,e,t){const i=Tn(n);Ou(n,e,uo);const r=Al(i,t);return new QI(i,"signInViaPopup",e,r).executeNotNull()})).apply(this,arguments)}function qI(){return(qI=m(function*(n,e,t){const i=ie(n);Ou(i.auth,e,uo);const r=Al(i.auth,t);return new QI(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}function KI(){return(KI=m(function*(n,e,t){const i=ie(n);Ou(i.auth,e,uo);const r=Al(i.auth,t);return new QI(i.auth,"linkViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}let QI=(()=>{class n extends wH{constructor(t,i,r,s,o){super(t,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return m(function*(){const i=yield t.execute();return F(i,t.auth,"internal-error"),i})()}onExecution(){var t=this;return m(function*(){ns(1===t.filter.length,"Popup operations only handle one event");const i=Lf();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],i),t.authWindow.associatedEvent=i,t.resolver._originValidation(t.auth).catch(r=>{t.reject(r)}),t.resolver._isIframeWebStorageSupported(t.auth,r=>{r||t.reject(Un(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;this.pollId=(null===(r=null===(i=this.authWindow)||void 0===i?void 0:i.window)||void 0===r?void 0:r.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Bfe.get())};t()}}return n.currentPopupAction=null,n})();const g_=new Map;class Gfe extends wH{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let i=g_.get(t.auth._key());if(!i){try{const s=(yield function(n,e){return YI.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}g_.set(t.auth._key(),i)}return t.bypassAuthState||g_.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function YI(){return(YI=m(function*(n,e){const t=EH(e),i=CH(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function JI(n,e){return XI.apply(this,arguments)}function XI(){return(XI=m(function*(n,e){return CH(n)._set(EH(e),"true")})).apply(this,arguments)}function CH(n){return Ji(n._redirectPersistence)}function EH(n){return xl("pendingRedirect",n.config.apiKey,n.name)}function ZI(){return(ZI=m(function*(n,e,t){const i=Tn(n);Ou(n,e,uo);const r=Al(i,t);return yield JI(r,i),r._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function eA(){return(eA=m(function*(n,e,t){const i=ie(n);Ou(i.auth,e,uo);const r=Al(i.auth,t);yield JI(r,i.auth);const s=yield DH(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function tA(){return(tA=m(function*(n,e,t){const i=ie(n);Ou(i.auth,e,uo);const r=Al(i.auth,t);yield s_(!1,i,e.providerId),yield JI(r,i.auth);const s=yield DH(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function nA(){return(nA=m(function*(n,e){return yield Tn(n)._initializationPromise,m_(n,e,!1)})).apply(this,arguments)}function m_(n,e){return iA.apply(this,arguments)}function iA(){return(iA=m(function*(n,e,t=!1){const i=Tn(n),r=Al(i,e),o=yield new Gfe(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}function DH(n){return rA.apply(this,arguments)}function rA(){return(rA=m(function*(n){const e=Lf(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class xH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IH(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!IH(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Un(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(SH(e))}saveEventToCache(e){this.cachedEventUids.add(SH(e)),this.lastProcessedEventTime=Date.now()}}function SH(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IH({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function AH(n){return sA.apply(this,arguments)}function sA(){return(sA=m(function*(n,e={}){return An(n,"GET","/v1/projects",e)})).apply(this,arguments)}const npe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ipe=/^https?/;function oA(){return(oA=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield AH(n);for(const t of e)try{if(spe(t))return}catch(i){}In(n,"unauthorized-domain")})).apply(this,arguments)}function spe(n){const e=Tf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===i}if(!ipe.test(t))return!1;if(npe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const ope=new Mf(3e4,6e4);function TH(){const n=hn().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let y_=null;function lpe(n){return y_=y_||function(n){return new Promise((e,t)=>{var i,r,s;function o(){TH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TH(),t(Un(n,"network-request-failed"))},timeout:ope.get()})}if(null===(r=null===(i=hn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=hn().gapi)||void 0===s?void 0:s.load)){const a=vH("iframefcb");return hn()[a]=()=>{gapi.load?o():t(Un(n,"network-request-failed"))},_H(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw y_=null,e})}(n),y_}const cpe=new Mf(5e3,15e3),hpe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ppe(n){const e=n.config;F(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wS(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:bl},r=fpe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Au(i).slice(1)}`}function aA(){return(aA=m(function*(n){const e=yield lpe(n),t=hn().gapi;return F(t,n,"internal-error"),e.open({where:document.body,url:ppe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hpe,dontclear:!0},i=>new Promise(function(){var r=m(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Un(n,"network-request-failed"),l=hn().setTimeout(()=>{o(a)},cpe.get());function c(){hn().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))})).apply(this,arguments)}const mpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class MH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function lA(n,e,t,i,r,s){F(n.config.authDomain,n,"auth-domain-config-required"),F(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:bl,eventId:r};if(e instanceof uo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof Vu){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:n}){return n.emulator?wS(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Au(a).slice(1)}`}const cA="webStorageSupport";class uA extends class{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ts("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new uA(e)}_finalizeEnroll(e,t,i){return function(n,e){return An(n,"POST","/v2/accounts/mfaEnrollment:finalize",dn(n,e))}(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(n,e){return An(n,"POST","/v2/accounts/mfaSignIn:finalize",dn(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ape=(()=>{class n{constructor(){}static assertion(t){return uA._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var RH="@firebase/auth";class Tpe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{var r;e((null===(r=i)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tl(){return window}function dA(){return(dA=m(function*(n,e,t){var i;const{BuildInfo:r}=Tl();ns(e.sessionId,"AuthEvent did not contain a session ID");const s=yield Vpe(e.sessionId),o={};return Fu()?o.ibi=r.packageName:Nf()?o.apn=r.packageName:In(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,lA(n,t,e.type,void 0,null!==(i=e.eventId)&&void 0!==i?i:void 0,o)})).apply(this,arguments)}function hA(){return(hA=m(function*(n){const{BuildInfo:e}=Tl(),t={};Fu()?t.iosBundleId=e.packageName:Nf()?t.androidPackageName=e.packageName:In(n,"operation-not-supported-in-this-environment"),yield AH(n,t)})).apply(this,arguments)}function fA(){return(fA=m(function*(n,e,t){const{cordova:i}=Tl();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var d;s();const h=null===(d=i.plugins.browsertab)||void 0===d?void 0:d.close;"function"==typeof h&&h(),"function"==typeof(null==t?void 0:t.close)&&t.close()}function c(){a||(a=window.setTimeout(()=>{o(Un(n,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null==document?void 0:document.visibilityState)&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Nf()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}})).apply(this,arguments)}function Vpe(n){return pA.apply(this,arguments)}function pA(){return(pA=m(function*(n){const e=Bpe(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bpe(n){if(ns(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}!function(n){ts(new Qi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=i.options;return(o=>{F(r&&!r.includes(":"),"invalid-api-key",{appName:o.name}),F(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:r,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zj(n)},l=new ehe(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ji);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ts(new Qi("auth-internal",e=>{const t=Tn(e.getProvider("auth").getImmediate());return new Tpe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(RH,"0.19.5",void 0),Ii(RH,"0.19.5","esm2017")}("Browser");class jpe extends xH{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return m(function*(){yield e.initPromise})()}}function NH(n){return gA.apply(this,arguments)}function gA(){return(gA=m(function*(n){const e=yield mA()._get(yA(n));return e&&(yield mA()._remove(yA(n))),e})).apply(this,arguments)}function Wpe(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function mA(){return Ji(u_)}function yA(n){return xl("authEvent",n.config.apiKey,n.name)}function __(n){if(!(null==n?void 0:n.includes("?")))return{};const[e,...t]=n.split("?");return Tu(t.join("?"))}function PH(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Un("no-auth-event")}}function v_(){var n;return(null===(n=null==self?void 0:self.location)||void 0===n?void 0:n.protocol)||null}function FH(n=Ct()){return!("file:"!==v_()&&"ionic:"!==v_()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function LH(){try{const n=self.localStorage,e=Lf();if(n)return n.setItem(e,"1"),n.removeItem(e),!function(n=Ct()){return bx()&&11===(null==document?void 0:document.documentMode)||function(n=Ct()){return/Edge\/\d+/.test(n)}(n)}()||wf()}catch(n){return _A()&&wf()}return!1}function _A(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vA(){return("http:"===v_()||"https:"===v_()||Gy()||FH())&&!(Wy()||vx())&&LH()&&!_A()}function VH(){return FH()&&"undefined"!=typeof document}function bA(){return(bA=m(function*(){return!!VH()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}const Xi={LOCAL:"local",NONE:"none",SESSION:"session"},Uf=F,BH="persistence";function wA(n){return CA.apply(this,arguments)}function CA(){return(CA=m(function*(n){yield n._initializationPromise;const e=UH(),t=xl(BH,n.config.apiKey,n.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(t,n._getPersistence())})).apply(this,arguments)}function UH(){return"undefined"!=typeof window?window:null}const cge=F;class sa{constructor(){this.browserResolver=Ji(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ra,this._completeRedirectFn=m_}_openPopup(e,t,i,r){var s=this;return m(function*(){var o;ns(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=lA(e,t,i,Tf(),r);return function(n,e,t,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mpe),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ct().toLowerCase();t&&(a=jj(c)?"_blank":t),Uj(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(n=Ct()){var e;return Fu(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new MH(null);const d=window.open(e||"",a,u);F(d,n,"popup-blocked");try{d.focus()}catch(h){}return new MH(d)}(e,a,Lf())})()}_openRedirect(e,t,i,r){var s=this;return m(function*(){return yield s._originValidation(e),function(n){hn().location.href=n}(lA(e,t,i,Tf(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(ns(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return m(function*(){const i=yield function(n){return aA.apply(this,arguments)}(e),r=new xH(e);return i.register("authEvent",s=>(F(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cA,{type:cA},r=>{var s;const o=null===(s=null==r?void 0:r[0])||void 0===s?void 0:s[cA];void 0!==o&&t(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return oA.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wj()||NS()||Fu()}}),this.cordovaResolver=Ji(class{constructor(){this._redirectPersistence=ra,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=m_}_initialize(e){var t=this;return m(function*(){const i=e._key();let r=t.eventManagers.get(i);return r||(r=new jpe(e),t.eventManagers.set(i,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){In(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,i,r){var s=this;return m(function*(){!function(n){var e,t,i,r,s,o,a,l,c,u;const d=Tl();F("function"==typeof(null===(e=null==d?void 0:d.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),F(void 0!==(null===(t=null==d?void 0:d.BuildInfo)||void 0===t?void 0:t.packageName),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),F("function"==typeof(null===(s=null===(r=null===(i=null==d?void 0:d.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(l=null===(a=null===(o=null==d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),F("function"==typeof(null===(u=null===(c=null==d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=yield s._initialize(e);yield o.initialized(),o.resetRedirect(),g_.clear(),yield s._originValidation(e);const a=function(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Wpe(),postBody:null,tenantId:n.tenantId,error:Un(n,"no-auth-event")}}(e,i,r);yield function(n,e){return mA()._set(yA(n),e)}(e,a);const l=yield function(n,e,t){return dA.apply(this,arguments)}(e,a,t),c=yield function(n){const{cordova:e}=Tl();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,function(n=Ct()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(r)})})}(l);return function(n,e,t){return fA.apply(this,arguments)}(e,o,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return hA.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:r,BuildInfo:s}=Tl(),o=setTimeout(m(function*(){yield NH(e),t.onEvent(PH())}),500),a=function(){var u=m(function*(d){clearTimeout(o);const h=yield NH(e);let f=null;h&&(null==d?void 0:d.url)&&(f=function(n,e){var t,i;const r=function(n){const e=__(n),t=e.link?decodeURIComponent(e.link):void 0,i=__(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return __(r).link||r||i||t||n}(e);if(r.includes("/__/auth/callback")){const s=__(r),o=s.firebaseError?function(n){try{return JSON.parse(n)}catch(e){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(i=null===(t=null==o?void 0:o.code)||void 0===t?void 0:t.split("auth/"))||void 0===i?void 0:i[1],l=a?Un(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}(h,d.url)),t.onEvent(f||PH())});return function(h){return u.apply(this,arguments)}}();void 0!==i&&"function"==typeof i.subscribe&&i.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;Tl().handleOpenURL=function(){var u=m(function*(d){if(d.toLowerCase().startsWith(c)&&a({url:d}),"function"==typeof l)try{l(d)}catch(h){console.error(h)}});return function(d){return u.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ra,this._completeRedirectFn=m_}_initialize(e){var t=this;return m(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,i,r){var s=this;return m(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,i,r)})()}_openRedirect(e,t,i,r){var s=this;return m(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,i,r)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return VH()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cge(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return m(function*(){if(e.underlyingResolver)return;const t=yield function(){return bA.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function jH(n){return n.unwrap()}function dge(n){return HH(n)}function HH(n){const{_tokenResponse:e}=n instanceof mi?n.customData:n;if(!e)return null;if(!(n instanceof mi)&&"temporaryProof"in e&&"phoneNumber"in e)return Bf.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let i;switch(t){case"google.com":i=Zj;break;case"facebook.com":i=Xj;break;case"github.com":i=eH;break;case"twitter.com":i=tH;break;default:const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return s||o||r||a?a?t.startsWith("saml.")?Uu._create(t,a):Ms._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:r,accessToken:s}):new Bu(t).credential({idToken:r,accessToken:s,rawNonce:l}):null}return n instanceof mi?i.credentialFromError(n):i.credentialFromResult(n)}function Ai(n,e){return e.catch(t=>{throw t instanceof mi&&function(n,e){var t;const i=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new fge(n,function(n,e){var t;const i=ie(n),r=e;return F(e.customData.operationType,i,"argument-error"),F(null===(t=r.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,i,"argument-error"),AI._fromError(i,r)}(n,e));else if(i){const r=HH(e),s=e;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}(n,t),t}).then(t=>{const r=t.user;return{operationType:t.operationType,credential:dge(t),additionalUserInfo:Khe(t),user:ho.getOrCreate(r)}})}function EA(n,e){return DA.apply(this,arguments)}function DA(){return(DA=m(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:i=>Ai(n,t.confirm(i))}})).apply(this,arguments)}class fge{constructor(e,t){this.resolver=t,this.auth=function(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ai(jH(this.auth),this.resolver.resolveSignIn(e))}}class ho{constructor(e){this._delegate=e,this.multiFactor=function(n){const e=ie(n);return MI.has(e)||MI.set(e,TI._fromUser(e)),MI.get(e)}(e)}static getOrCreate(e){return ho.USER_MAP.has(e)||ho.USER_MAP.set(e,new ho(e)),ho.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return m(function*(){return Ai(t.auth,lH(t._delegate,e))})()}linkWithPhoneNumber(e,t){var i=this;return m(function*(){return EA(i.auth,function(n,e,t){return UI.apply(this,arguments)}(i._delegate,e,t))})()}linkWithPopup(e){var t=this;return m(function*(){return Ai(t.auth,function(n,e,t){return KI.apply(this,arguments)}(t._delegate,e,sa))})()}linkWithRedirect(e){var t=this;return m(function*(){return yield wA(Tn(t.auth)),function(n,e,t){return function(n,e,t){return tA.apply(this,arguments)}(n,e,t)}(t._delegate,e,sa)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return m(function*(){return Ai(t.auth,cH(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return EA(this.auth,function(n,e,t){return jI.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ai(this.auth,function(n,e,t){return qI.apply(this,arguments)}(this._delegate,e,sa))}reauthenticateWithRedirect(e){var t=this;return m(function*(){return yield wA(Tn(t.auth)),function(n,e,t){return function(n,e,t){return eA.apply(this,arguments)}(n,e,t)}(t._delegate,e,sa)})()}sendEmailVerification(e){return function(n,e){return CI.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return m(function*(){return yield function(n,e){return eI.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(n,e){return dH(ie(n),e,null)}(this._delegate,e)}updatePassword(e){return function(n,e){return dH(ie(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function(n,e){return $I.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(n,e){return xI.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(n,e,t){return EI.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ho.USER_MAP=new WeakMap;const jf=F;let $H=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized())return this._delegate=i.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:r}=t.options;jf(r,"invalid-api-key",{appName:t.name}),jf(r,"invalid-api-key",{appName:t.name});const s="undefined"!=typeof window?sa:void 0;this._delegate=i.initialize({options:{persistence:pge(r,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Mde),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ho.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){!function(n,e,t){const i=Tn(n);F(i._canInitEmulator,i,"emulator-config-failed"),F(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null==t?void 0:t.disableWarnings),s=Kj(e),{host:o,port:a}=function(n){const e=Kj(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Qj(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:Qj(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,i)}applyActionCode(t){return function(n,e){return pI.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return uH(this._delegate,t)}confirmPasswordReset(t,i){return function(n,e,t){return fI.apply(this,arguments)}(this._delegate,t,i)}createUserWithEmailAndPassword(t,i){var r=this;return m(function*(){return Ai(r._delegate,function(n,e,t){return yI.apply(this,arguments)}(r._delegate,t,i))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function(n,e){return wI.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function(n,e){const t=Ff.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}(0,t)}getRedirectResult(){var t=this;return m(function*(){jf(vA(),t._delegate,"operation-not-supported-in-this-environment");const i=yield function(n,e){return nA.apply(this,arguments)}(t._delegate,sa);return i?Ai(t._delegate,Promise.resolve(i)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(n,e){Tn(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,i,r){const{next:s,error:o,complete:a}=GH(t,i,r);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(t,i,r){const{next:s,error:o,complete:a}=GH(t,i,r);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(t,i){return function(n,e,t){return _I.apply(this,arguments)}(this._delegate,t,i)}sendPasswordResetEmail(t,i){return function(n,e,t){return hI.apply(this,arguments)}(this._delegate,t,i||void 0)}setPersistence(t){var i=this;return m(function*(){let r;switch(function(n,e){Uf(Object.values(Xi).includes(e),n,"invalid-persistence-type"),Wy()?Uf(e!==Xi.SESSION,n,"unsupported-persistence-type"):vx()?Uf(e===Xi.NONE,n,"unsupported-persistence-type"):_A()?Uf(e===Xi.NONE||e===Xi.LOCAL&&wf(),n,"unsupported-persistence-type"):Uf(e===Xi.NONE||LH(),n,"unsupported-persistence-type")}(i._delegate,t),t){case Xi.SESSION:r=ra;break;case Xi.LOCAL:r=(yield Ji(Hu)._isAvailable())?Hu:u_;break;case Xi.NONE:r=Nu;break;default:return In("argument-error",{appName:i._delegate.name})}return i._delegate.setPersistence(r)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ai(this._delegate,function(n){return ZS.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Ai(this._delegate,o_(this._delegate,t))}signInWithCustomToken(t){return Ai(this._delegate,function(n,e){return uI.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,i){return Ai(this._delegate,function(n,e,t){return o_(ie(n),JS.credential(e,t))}(this._delegate,t,i))}signInWithEmailLink(t,i){return Ai(this._delegate,function(n,e,t){return vI.apply(this,arguments)}(this._delegate,t,i))}signInWithPhoneNumber(t,i){return EA(this._delegate,function(n,e,t){return BI.apply(this,arguments)}(this._delegate,t,i))}signInWithPopup(t){var i=this;return m(function*(){return jf(vA(),i._delegate,"operation-not-supported-in-this-environment"),Ai(i._delegate,function(n,e,t){return zI.apply(this,arguments)}(i._delegate,t,sa))})()}signInWithRedirect(t){var i=this;return m(function*(){return jf(vA(),i._delegate,"operation-not-supported-in-this-environment"),yield wA(i._delegate),function(n,e,t){return function(n,e,t){return ZI.apply(this,arguments)}(n,e,t)}(i._delegate,t,sa)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function(n,e){return mI.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Xi,n})();function GH(n,e,t){let i=n;"function"!=typeof n&&({next:i,error:e,complete:t}=n);const r=i;return{next:o=>r(o&&ho.getOrCreate(o)),error:e,complete:t}}function pge(n,e){const t=function(n,e){const t=UH();if(!(null==t?void 0:t.sessionStorage))return[];const i=xl(BH,n,e);switch(t.sessionStorage.getItem(i)){case Xi.NONE:return[Nu];case Xi.LOCAL:return[Hu,ra];case Xi.SESSION:return[ra];default:return[]}}(n,e);if("undefined"!=typeof self&&!t.includes(Hu)&&t.push(Hu),"undefined"!=typeof window)for(const i of[u_,ra])t.includes(i)||t.push(i);return t.includes(Nu)||t.push(Nu),t}class xA{constructor(){this.providerId="phone",this._delegate=new Bf(jH(wl.auth()))}static credential(e,t){return Bf.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}xA.PHONE_SIGN_IN_METHOD=Bf.PHONE_SIGN_IN_METHOD,xA.PROVIDER_ID=Bf.PROVIDER_ID;const gge=F;class mge{constructor(e,t,i=wl.app()){var r;gge(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Mfe(e,t,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(n){n.INTERNAL.registerComponent(new Qi("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new $H(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:JS,FacebookAuthProvider:Xj,GithubAuthProvider:eH,GoogleAuthProvider:Zj,OAuthProvider:Bu,SAMLAuthProvider:i_,PhoneAuthProvider:xA,PhoneMultiFactorGenerator:Ape,RecaptchaVerifier:mge,TwitterAuthProvider:tH,Auth:$H,AuthCredential:Lu,Error:mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.2.5")}(wl);var Q,vge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},fo={},SA=SA||{},be=vge||self;function b_(){}function IA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var AA="closure_uid_"+(1e9*Math.random()>>>0),wge=0;function Cge(n,e,t){return n.call.apply(n.bind,arguments)}function Ege(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function jn(n,e,t){return(jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Cge:Ege).apply(null,arguments)}function w_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Hn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function oa(){this.s=this.s,this.o=this.o}var xge={};oa.prototype.s=!1,oa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,AA)&&n[AA]||(n[AA]=++wge)}(this);delete xge[n]}},oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},zH=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function qH(n){return Array.prototype.concat.apply([],arguments)}function TA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function C_(n){return/^[\s\xa0]*$/.test(n)}var _i,KH=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function yi(n,e){return-1!=n.indexOf(e)}function MA(n,e){return n<e?-1:n>e?1:0}e:{var QH=be.navigator;if(QH){var YH=QH.userAgent;if(YH){_i=YH;break e}}_i=""}function kA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function JH(n){const e={};for(const t in n)e[t]=n[t];return e}var XH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZH(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<XH.length;s++)t=XH[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function RA(n){return RA[" "](n),n}RA[" "]=b_;var E_,Age=yi(_i,"Opera"),$u=yi(_i,"Trident")||yi(_i,"MSIE"),e$=yi(_i,"Edge"),OA=e$||$u,t$=yi(_i,"Gecko")&&!(yi(_i.toLowerCase(),"webkit")&&!yi(_i,"Edge"))&&!(yi(_i,"Trident")||yi(_i,"MSIE"))&&!yi(_i,"Edge"),Tge=yi(_i.toLowerCase(),"webkit")&&!yi(_i,"Edge");function n$(){var n=be.document;return n?n.documentMode:void 0}e:{var NA="",PA=function(){var n=_i;return t$?/rv:([^\);]+)(\)|;)/.exec(n):e$?/Edge\/([\d\.]+)/.exec(n):$u?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Tge?/WebKit\/(\S+)/.exec(n):Age?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(PA&&(NA=PA?PA[1]:""),$u){var FA=n$();if(null!=FA&&FA>parseFloat(NA)){E_=String(FA);break e}}E_=NA}var Mge={};function kge(){return e=Mge,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=KH(String(E_)).split("."),t=KH("9").split("."),i=Math.max(e.length,t.length);for(let o=0;0==n&&o<i;o++){var r=e[o]||"",s=t[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=MA(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||MA(0==r[2].length,0==s[2].length)||MA(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n}();var e}var Rge=be.document&&$u&&(n$()||parseInt(E_,10))||void 0,Oge=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{be.addEventListener("test",b_,e),be.removeEventListener("test",b_,e)}catch(t){}return n}();function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function $f(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(t$){e:{try{RA(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Nge[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$f.Z.h.call(this)}}ti.prototype.h=function(){this.defaultPrevented=!0},Hn($f,ti);var Nge={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gf="closure_listenable_"+(1e6*Math.random()|0),Pge=0;function Fge(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Pge,this.ca=this.fa=!1}function D_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function x_(n){this.src=n,this.g={},this.h=0}function VA(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=WH(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(D_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function BA(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}x_.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=BA(n,e,i,r);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new Fge(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var UA="closure_lm_"+(1e6*Math.random()|0),jA={};function r$(n,e,t,i,r){if(i&&i.once)return o$(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)r$(n,e[s],t,i,r);return null}return t=WA(t),n&&n[Gf]?n.N(e,t,Hf(i)?!!i.capture:!!i,r):s$(n,e,t,!1,i,r)}function s$(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=Hf(r)?!!r.capture:!!r,a=$A(n);if(a||(n[UA]=a=new x_(n)),(t=a.add(e,t,i,o,s)).proxy)return t;if(i=function(){var e=Vge;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Oge||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(l$(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function o$(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)o$(n,e[s],t,i,r);return null}return t=WA(t),n&&n[Gf]?n.O(e,t,Hf(i)?!!i.capture:!!i,r):s$(n,e,t,!0,i,r)}function a$(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)a$(n,e[s],t,i,r);else i=Hf(i)?!!i.capture:!!i,t=WA(t),n&&n[Gf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=BA(s=n.g[e],t,i,r))&&(D_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=$A(n))&&(e=n.g[e.toString()],n=-1,e&&(n=BA(e,t,i,r)),(t=-1<n?e[n]:null)&&HA(t))}function HA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Gf])VA(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(l$(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=$A(e))?(VA(t,n),0==t.h&&(t.src=null,e[UA]=null)):D_(n)}}}function l$(n){return n in jA?jA[n]:jA[n]="on"+n}function Vge(n,e){if(n.ca)n=!0;else{e=new $f(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&HA(n),n=t.call(i,e)}return n}function $A(n){return(n=n[UA])instanceof x_?n:null}var GA="__closure_events_fn_"+(1e9*Math.random()>>>0);function WA(n){return"function"==typeof n?n:(n[GA]||(n[GA]=function(e){return n.handleEvent(e)}),n[GA])}function Mn(){oa.call(this),this.i=new x_(this),this.P=this,this.I=null}function $n(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var r=e;ZH(e=new ti(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=S_(o,i,!0,e)&&r}if(r=S_(o=e.g=n,i,!0,e)&&r,r=S_(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=S_(o=e.g=t[s],i,!1,e)&&r}function S_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,l=o.ia||o.src;o.fa&&VA(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Hn(Mn,oa),Mn.prototype[Gf]=!0,Mn.prototype.removeEventListener=function(n,e,t,i){a$(this,n,e,t,i)},Mn.prototype.M=function(){if(Mn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)D_(t[i]);delete n.g[e],n.h--}}this.I=null},Mn.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Mn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var zA=be.JSON.stringify;function Bge(){var n=u$;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var KA,c$=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jge,n=>n.reset());class jge{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hge(n){be.setTimeout(()=>{throw n},0)}function qA(n,e){KA||function(){var n=be.Promise.resolve(void 0);KA=function(){n.then(Gge)}}(),QA||(KA(),QA=!0),u$.add(n,e)}var QA=!1,u$=new class{constructor(){this.h=this.g=null}add(e,t){const i=c$.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Gge(){for(var n;n=Bge();){try{n.h.call(n.g)}catch(t){Hge(t)}var e=c$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}QA=!1}function I_(n,e){Mn.call(this),this.h=n||1,this.g=e||be,this.j=jn(this.kb,this),this.l=Date.now()}function YA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function JA(n,e,t){if("function"==typeof n)t&&(n=jn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=jn(n.handleEvent,n)}return 2147483647<Number(e)?-1:be.setTimeout(n,e||0)}function d$(n){n.g=JA(()=>{n.g=null,n.i&&(n.i=!1,d$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hn(I_,Mn),(Q=I_.prototype).da=!1,Q.S=null,Q.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$n(this,"tick"),this.da&&(YA(this),this.start()))}},Q.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Q.M=function(){I_.Z.M.call(this),YA(this),delete this.g};class Wge extends oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:d$(this)}M(){super.M(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wf(n){oa.call(this),this.h=n,this.g={}}Hn(Wf,oa);var h$=[];function f$(n,e,t,i){Array.isArray(t)||(t&&(h$[0]=t.toString()),t=h$);for(var r=0;r<t.length;r++){var s=r$(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function p$(n){kA(n.g,function(e,t){this.g.hasOwnProperty(t)&&HA(e)},n),n.g={}}function A_(){this.g=!0}function Gu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return zA(t)}catch(a){return e}}(n,t)+(i?" "+i:"")})}Wf.prototype.M=function(){Wf.Z.M.call(this),p$(this)},Wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},A_.prototype.Aa=function(){this.g=!1},A_.prototype.info=function(){};var Ml={},g$=null;function T_(){return g$=g$||new Mn}function m$(n){ti.call(this,Ml.Ma,n)}function zf(n){const e=T_();$n(e,new m$(e,n))}function y$(n,e){ti.call(this,Ml.STAT_EVENT,n),this.stat=e}function vi(n){const e=T_();$n(e,new y$(e,n))}function _$(n,e){ti.call(this,Ml.Na,n),this.size=e}function qf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){n()},e)}Ml.Ma="serverreachability",Hn(m$,ti),Ml.STAT_EVENT="statevent",Hn(y$,ti),Ml.Na="timingevent",Hn(_$,ti);var M_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},v$={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function XA(){}function w$(){}XA.prototype.h=null;var t0,Kf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ZA(){ti.call(this,"d")}function e0(){ti.call(this,"c")}function k_(){}function Qf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Wf(this),this.P=Yge,this.W=new I_(n=OA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new C$}function C$(){this.i=null,this.g="",this.h=!1}Hn(ZA,ti),Hn(e0,ti),Hn(k_,XA),k_.prototype.g=function(){return new XMLHttpRequest},k_.prototype.i=function(){return{}},t0=new k_;var Yge=45e3,n0={},R_={};function r0(n,e,t){n.K=1,n.v=L_(po(e)),n.s=t,n.U=!0,E$(n,null)}function E$(n,e){n.F=Date.now(),Yf(n),n.A=po(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),R$(t.h,"t",i),n.C=0,t=n.l.H,n.h=new C$,n.g=tG(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Wge(jn(n.Ia,n,n.g),n.O)),f$(n.V,n.g,"readystatechange",n.gb),e=n.H?JH(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zf(1),function(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function D$(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function x$(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Jge(n,t),r==R_){4==e&&(n.o=4,vi(14),i=!1),Gu(n.j,n.m,null,"[Incomplete Response]");break}if(r==n0){n.o=4,vi(15),Gu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Gu(n.j,n.m,r,null),s0(n,r)}D$(n)&&r!=R_&&r!=n0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),m0(e),e.L=!0,vi(11))):(Gu(n.j,n.m,t,"[Invalid Chunked Response]"),kl(n),Jf(n))}function Jge(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?R_:(t=Number(e.substring(t,i)),isNaN(t)?n0:(i+=1)+t>e.length?R_:(e=e.substr(i,t),n.C=i+t,e))}function Yf(n){n.Y=Date.now()+n.P,S$(n,n.P)}function S$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qf(jn(n.eb,n),e)}function O_(n){n.B&&(be.clearTimeout(n.B),n.B=null)}function Jf(n){0==n.l.G||n.I||J$(n.l,n)}function kl(n){O_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,YA(n.W),p$(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function s0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||l0(t.i,n)))if(t.I=n.N,!n.J&&l0(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=qf(jn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;$_(t),j_(t)}g0(t),vi(18)}if(1>=P$(t.i)&&t.ka){try{t.ka()}catch(c){}t.ka=void 0}}else Nl(t,11)}else if((n.J||t.g==n)&&$_(t),!C_(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.U=c[0],c=c[1],2==t.G)if("c"==c[0]){t.J=c[1],t.la=c[2];const u=c[3];null!=u&&(t.ma=u,t.h.info("VER="+t.ma));const d=c[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.K=i=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;!s.g&&(yi(p,"spdy")||yi(p,"quic")||yi(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(c0(s,s.h),s.h=null))}if(i.D){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,At(i.F,i.D,y))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((i=t).oa=eG(i,i.H?i.la:null,i.W),o.J){F$(i.i,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(O_(a),Yf(a)),i.g=o}else Q$(i);0<t.l.length&&H_(t)}else"stop"!=c[0]&&"close"!=c[0]||Nl(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Nl(t,7):f0(t):"noop"!=c[0]&&t.j&&t.j.wa(c),t.A=0)}zf(4)}catch(c){}}function o0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(IA(n)||"string"==typeof n)zH(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(IA(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;r=(i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(IA(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Wu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Wu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function a0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Rl(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Rl(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Rl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Q=Qf.prototype).setTimeout=function(n){this.P=n},Q.gb=function(n){n=n.target;const e=this.L;e&&3==go(n)?e.l():this.Ia(n)},Q.Ia=function(n){try{if(n==this.g)e:{const u=go(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||OA||this.g&&(this.h.h||this.g.ga()||G$(this.g)))){this.I||4!=u||7==e||zf(8==e||0>=d?3:2),O_(this);var t=this.g.ba();this.N=t;t:if(D$(this)){var i=G$(this.g);n="";var r=i.length,s=4==go(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){kl(this),Jf(this);var o="";break t}this.h.i=new be.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C_(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,vi(12),kl(this),Jf(this);break e}Gu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,s0(this,t)}this.U?(x$(this,u,o),OA&&this.i&&3==u&&(f$(this.V,this.W,"tick",this.fb),this.W.start())):(Gu(this.j,this.m,o,null),s0(this,o)),4==u&&kl(this),this.i&&!this.I&&(4==u?J$(this.l,this):(this.i=!1,Yf(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),kl(this),Jf(this)}}}catch(u){}},Q.fb=function(){if(this.g){var n=go(this.g),e=this.g.ga();this.C<e.length&&(O_(this),x$(this,n,e),this.i&&4!=n&&Yf(this))}},Q.cancel=function(){this.I=!0,kl(this)},Q.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zf(3),vi(17)),kl(this),this.o=2,Jf(this)):S$(this,this.Y-n)},(Q=Wu.prototype).R=function(){a0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Q.T=function(){return a0(this),this.g.concat()},Q.get=function(n,e){return Rl(this.h,n)?this.h[n]:e},Q.set=function(n,e){Rl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Q.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var I$=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ol(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ol){this.g=void 0!==e?e:n.g,N_(this,n.j),this.s=n.s,P_(this,n.i),F_(this,n.m),this.l=n.l,e=n.h;var t=new ep;t.i=e.i,e.g&&(t.g=new Wu(e.g),t.h=e.h),A$(this,t),this.o=n.o}else n&&(t=String(n).match(I$))?(this.g=!!e,N_(this,t[1]||"",!0),this.s=Xf(t[2]||""),P_(this,t[3]||"",!0),F_(this,t[4]),this.l=Xf(t[5]||"",!0),A$(this,t[6]||"",!0),this.o=Xf(t[7]||"")):(this.g=!!e,this.h=new ep(null,this.g))}function po(n){return new Ol(n)}function N_(n,e,t){n.j=t?Xf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function P_(n,e,t){n.i=t?Xf(e,!0):e}function F_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function A$(n,e,t){e instanceof ep?(n.h=e,function(n,e){e&&!n.j&&(aa(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(M$(this,i),R$(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zf(e,sme)),n.h=new ep(e,n.g))}function At(n,e,t){n.h.set(e,t)}function L_(n){return At(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nme),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nme(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ol.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zf(e,T$,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zf(e,T$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zf(t,"/"==t.charAt(0)?rme:ime,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zf(t,ome)),n.join("")};var T$=/[#\/\?@]/g,ime=/[#\?:]/g,rme=/[#\?]/g,sme=/[#\?@]/g,ome=/#/g;function ep(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function aa(n){n.g||(n.g=new Wu,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function M$(n,e){aa(n),e=zu(n,e),Rl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Rl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&a0(n)))}function k$(n,e){return aa(n),e=zu(n,e),Rl(n.g.h,e)}function R$(n,e,t){M$(n,e),0<t.length&&(n.i=null,n.g.set(zu(n,e),TA(t)),n.h+=t.length)}function zu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function O$(n){this.l=n||cme,n=be.PerformanceNavigationTiming?0<(n=be.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Q=ep.prototype).add=function(n,e){aa(this),this.i=null,n=zu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Q.forEach=function(n,e){aa(this),this.g.forEach(function(t,i){zH(t,function(r){n.call(e,r,i,this)},this)},this)},Q.T=function(){aa(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},Q.R=function(n){aa(this);var e=[];if("string"==typeof n)k$(this,n)&&(e=qH(e,this.g.get(zu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=qH(e,n[t])}return e},Q.set=function(n,e){return aa(this),this.i=null,k$(this,n=zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Q.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),n.push(o)}}return this.i=n.join("&")};var cme=10;function N$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function P$(n){return n.h?1:n.g?n.g.size:0}function l0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function c0(n,e){n.g?n.g.add(e):n.h=e}function F$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function L$(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return TA(n.i)}function u0(){}function ume(){this.g=new u0}function dme(n,e,t){const i=t||"";try{o0(n,function(r,s){let o=r;Hf(r)&&(o=zA(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function V_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function tp(n){this.l=n.$b||null,this.j=n.ib||!1}function B_(n,e){Mn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=d0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}O$.prototype.cancel=function(){if(this.i=L$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},u0.prototype.stringify=function(n){return be.JSON.stringify(n,void 0)},u0.prototype.parse=function(n){return be.JSON.parse(n,void 0)},Hn(tp,XA),tp.prototype.g=function(){return new B_(this.l,this.j)},tp.prototype.i=function(n){return function(){return n}}({}),Hn(B_,Mn);var d0=0;function V$(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function np(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ip(n)}function ip(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Q=B_.prototype).open=function(n,e){if(this.readyState!=d0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ip(this)},Q.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||be).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,np(this)),this.readyState=d0},Q.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ip(this)),this.g&&(this.readyState=3,ip(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V$(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Q.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?np(this):ip(this),3==this.readyState&&V$(this)}},Q.Ua=function(n){this.g&&(this.response=this.responseText=n,np(this))},Q.Ta=function(n){this.g&&(this.response=n,np(this))},Q.ha=function(){this.g&&np(this)},Q.setRequestHeader=function(n,e){this.v.append(n,e)},Q.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Q.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(B_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fme=be.JSON.parse;function Xt(n){Mn.call(this),this.headers=new Wu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=B$,this.K=this.L=!1}Hn(Xt,Mn);var B$="",pme=/^https?$/i,gme=["POST","PUT"];function yme(n){return"content-type"==n.toLowerCase()}function U$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,j$(n),U_(n)}function j$(n){n.D||(n.D=!0,$n(n,"complete"),$n(n,"error"))}function H$(n){if(n.h&&void 0!==SA&&(!n.C[1]||4!=go(n)||2!=n.ba()))if(n.v&&4==go(n))JA(n.Fa,0,n);else if($n(n,"readystatechange"),4==go(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===a){var r=String(n.H).match(I$)[1]||null;if(!r&&be.self&&be.self.location){var s=be.self.location.protocol;r=s.substr(0,s.length-1)}i=!pme.test(r?r.toLowerCase():"")}t=i}if(t)$n(n,"complete"),$n(n,"success");else{n.m=6;try{var o=2<go(n)?n.g.statusText:""}catch(l){o=""}n.j=o+" ["+n.ba()+"]",j$(n)}}finally{U_(n)}}}function U_(n,e){if(n.g){$$(n);const t=n.g,i=n.C[0]?b_:null;n.g=null,n.C=null,e||$n(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function $$(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(be.clearTimeout(n.A),n.A=null)}function go(n){return n.g?n.g.readyState:0}function G$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case B$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function h0(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function(n){let e="";return kA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):At(n,e,t))}function rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function W$(n){this.za=0,this.l=[],this.h=new A_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rp("baseRetryDelayMs",5e3,n),this.$a=rp("retryDelaySeedMs",1e4,n),this.Ya=rp("forwardChannelMaxRetries",2,n),this.ra=rp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new O$(n&&n.concurrentRequestLimit),this.Ca=new ume,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function f0(n){if(z$(n),3==n.G){var e=n.V++,t=po(n.F);At(t,"SID",n.J),At(t,"RID",e),At(t,"TYPE","terminate"),sp(n,t),(e=new Qf(n,n.h,e,void 0)).K=2,e.v=L_(po(t)),t=!1,be.navigator&&be.navigator.sendBeacon&&(t=be.navigator.sendBeacon(e.v.toString(),"")),!t&&be.Image&&((new Image).src=e.v,t=!0),t||(e.g=tG(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yf(e)}Z$(n)}function j_(n){n.g&&(m0(n),n.g.cancel(),n.g=null)}function z$(n){j_(n),n.u&&(be.clearTimeout(n.u),n.u=null),$_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&be.clearTimeout(n.m),n.m=null)}function p0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&H_(n)}function H_(n){N$(n.i)||n.m||(n.m=!0,qA(n.Ha,n),n.C=0)}function q$(n,e){var t;t=e?e.m:n.V++;const i=po(n.F);At(i,"SID",n.J),At(i,"RID",t),At(i,"AID",n.U),sp(n,i),n.o&&n.s&&h0(i,n.o,n.s),t=new Qf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=K$(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),c0(n.i,t),r0(t,i,e)}function sp(n,e){n.j&&o0({},function(t,i){At(e,i,t)})}function K$(n,e,t){t=Math.min(n.l.length,t);var i=n.j?jn(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{dme(u,o,"req"+c+"_")}catch(d){i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Q$(n){n.g||n.u||(n.Y=1,qA(n.Ga,n),n.A=0)}function g0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=qf(jn(n.Ga,n),X$(n,n.A)),n.A++,0))}function m0(n){null!=n.B&&(be.clearTimeout(n.B),n.B=null)}function Y$(n){n.g=new Qf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=po(n.oa);At(e,"RID","rpc"),At(e,"SID",n.J),At(e,"CI",n.N?"0":"1"),At(e,"AID",n.U),sp(n,e),At(e,"TYPE","xmlhttp"),n.o&&n.s&&h0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=L_(po(e)),t.s=null,t.U=!0,E$(t,n)}function $_(n){null!=n.v&&(be.clearTimeout(n.v),n.v=null)}function J$(n,e){var t=null;if(n.g==e){$_(n),m0(n),n.g=null;var i=2}else{if(!l0(n.i,e))return;t=e.D,F$(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;$n(i=T_(),new _$(i,t,e,r)),H_(n)}else Q$(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function(n,e){return!(P$(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=qf(jn(n.Ha,n,e),X$(n,n.C)),n.C++,0)))}(n,e)||2==i&&g0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Nl(n,5);break;case 4:Nl(n,10);break;case 3:Nl(n,6);break;default:Nl(n,2)}}function X$(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Nl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=jn(n.jb,n);t||(t=new Ol("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||N_(t,"https"),L_(t)),function(n,e){const t=new A_;if(be.Image){const i=new Image;i.onload=w_(V_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=w_(V_,t,i,"TestLoadImage: error",!1,e),i.onabort=w_(V_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=w_(V_,t,i,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else vi(2);n.G=0,n.j&&n.j.va(e),Z$(n),z$(n)}function Z$(n){n.G=0,n.I=-1,n.j&&((0!=L$(n.i).length||0!=n.l.length)&&(n.i.i.length=0,TA(n.l),n.l.length=0),n.j.ua())}function eG(n,e,t){let i=function(n){return n instanceof Ol?po(n):new Ol(n,void 0)}(t);if(""!=i.i)e&&P_(i,e+"."+i.i),F_(i,i.m);else{const r=be.location;i=function(n,e,t,i){var r=new Ol(null,void 0);return n&&N_(r,n),e&&P_(r,e),t&&F_(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&kA(n.aa,function(r,s){At(i,s,r)}),t=n.sa,(e=n.D)&&t&&At(i,e,t),At(i,"VER",n.ma),sp(n,i),i}function tG(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xt(t&&n.Ba&&!n.qa?new tp({ib:!0}):n.qa)).L=n.H,e}function nG(){}function G_(){if($u&&!(10<=Number(Rge)))throw Error("Environmental error: no available transport.")}function Zi(n,e){Mn.call(this),this.g=new W$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!C_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qu(this)}function iG(n){ZA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function rG(){e0.call(this),this.status=1}function qu(n){this.g=n}(Q=Xt.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():t0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:t0),this.g.onreadystatechange=jn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void U$(this,s)}n=t||"";const r=new Wu(this.headers);i&&o0(i,function(s,o){r.set(o,s)}),i=function(n){e:{var e=yme;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=be.FormData&&n instanceof be.FormData,!(0<=WH(gme,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$$(this),0<this.B&&((this.K=function(n){return $u&&kge()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.pa,this)):this.A=JA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){U$(this,s)}},Q.pa=function(){void 0!==SA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$n(this,"timeout"),this.abort(8))},Q.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$n(this,"complete"),$n(this,"abort"),U_(this))},Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U_(this,!0)),Xt.Z.M.call(this)},Q.Fa=function(){this.s||(this.F||this.v||this.l?H$(this):this.cb())},Q.cb=function(){H$(this)},Q.ba=function(){try{return 2<go(this)?this.g.status:-1}catch(n){return-1}},Q.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Q.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fme(e)}},Q.Da=function(){return this.m},Q.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Q=W$.prototype).ma=8,Q.G=1,Q.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Q.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Qf(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=JH(s),ZH(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=K$(this,r,e),At(t=po(this.F),"RID",n),At(t,"CVER",22),this.D&&At(t,"X-HTTP-Session-Id",this.D),sp(this,t),this.o&&s&&h0(t,this.o,s),c0(this.i,r),this.Ra&&At(t,"TYPE","init"),this.ja?(At(t,"$req",e),At(t,"SID","null"),r.$=!0,r0(r,t,null)):r0(r,t,e),this.G=2}}else 3==this.G&&(n?q$(this,n):0==this.l.length||N$(this.i)||q$(this))},Q.Ga=function(){if(this.u=null,Y$(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=qf(jn(this.bb,this),n)}},Q.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vi(10),j_(this),Y$(this))},Q.ab=function(){null!=this.v&&(this.v=null,j_(this),g0(this),vi(19))},Q.jb=function(n){n?(this.h.info("Successfully pinged google.com"),vi(2)):(this.h.info("Failed to ping google.com"),vi(1))},(Q=nG.prototype).xa=function(){},Q.wa=function(){},Q.va=function(){},Q.ua=function(){},Q.Oa=function(){},G_.prototype.g=function(n,e){return new Zi(n,e)},Hn(Zi,Mn),Zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),qA(jn(n.hb,n,e))),vi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=eG(n,null,n.W),H_(n)},Zi.prototype.close=function(){f0(this.g)},Zi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,p0(this.g,e)}else this.v?((e={}).__data__=zA(n),p0(this.g,e)):p0(this.g,n)},Zi.prototype.M=function(){this.g.j=null,delete this.j,f0(this.g),delete this.g,Zi.Z.M.call(this)},Hn(iG,ZA),Hn(rG,e0),Hn(qu,nG),qu.prototype.xa=function(){$n(this.g,"a")},qu.prototype.wa=function(n){$n(this.g,new iG(n))},qu.prototype.va=function(n){$n(this.g,new rG(n))},qu.prototype.ua=function(){$n(this.g,"b")},G_.prototype.createWebChannel=G_.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,M_.NO_ERROR=0,M_.TIMEOUT=8,M_.HTTP_ERROR=6,v$.COMPLETE="complete",w$.EventType=Kf,Kf.OPEN="a",Kf.CLOSE="b",Kf.ERROR="c",Kf.MESSAGE="d",Mn.prototype.listen=Mn.prototype.N,Xt.prototype.listenOnce=Xt.prototype.O,Xt.prototype.getLastError=Xt.prototype.La,Xt.prototype.getLastErrorCode=Xt.prototype.Da,Xt.prototype.getStatus=Xt.prototype.ba,Xt.prototype.getResponseJson=Xt.prototype.Qa,Xt.prototype.getResponseText=Xt.prototype.ga,Xt.prototype.send=Xt.prototype.ea;var bme=fo.createWebChannelTransport=function(){return new G_},wme=fo.getStatEventTarget=function(){return T_()},y0=fo.ErrorCode=M_,Cme=fo.EventType=v$,Eme=fo.Event=Ml,sG=fo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dme=fo.FetchXmlHttpFactory=tp,W_=fo.WebChannel=w$,xme=fo.XhrIo=Xt;const oG="@firebase/firestore";class Gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let Ku="9.6.3";const la=new Ef("@firebase/firestore");function _0(){return la.logLevel}function L(n,...e){if(la.logLevel<=qe.DEBUG){const t=e.map(v0);la.debug(`Firestore (${Ku}): ${n}`,...t)}}function Zt(n,...e){if(la.logLevel<=qe.ERROR){const t=e.map(v0);la.error(`Firestore (${Ku}): ${n}`,...t)}}function op(n,...e){if(la.logLevel<=qe.WARN){const t=e.map(v0);la.warn(`Firestore (${Ku}): ${n}`,...t)}}function v0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ee(n="Unexpected state"){const e=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: `+n;throw Zt(e),new Error(e)}function fe(n,e){n||ee()}function j(n,e){return n}const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ame{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gn.UNAUTHENTICATED))}shutdown(){}}class Tme{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Mme{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let o=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe("string"==typeof i.accessToken),new aG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fe(null===e||"string"==typeof e),new Gn(e)}}class kme{constructor(e,t,i){this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Rme{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new kme(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ome{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=r=>{e.enqueueRetryable(()=>{return null!=(s=r).error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),t(s.token);var s})};const i=r=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fe("string"==typeof t.token),new lG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class er{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.p(i),this.T=i=>t.writeSequenceNumber(i))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Nme(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}er.I=-1;class cG{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Nme(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Qu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function uG(n){return n+"\0"}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Rn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function dG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ap{constructor(e,t,i){void 0===t?t=0:t>e.length&&ee(),void 0===i?i=e.length-t:i>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ap.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ap?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class at extends ap{construct(e,t,i){return new at(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new at(t)}static emptyPath(){return new at([])}}const Pme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends ap{construct(e,t,i){return new Wn(e,t,i)}static isValidIdentifier(e){return Pme.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new O(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class Yu{constructor(e){this.fields=e,e.sort(Wn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new fn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const Lme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(n){if(fe(!!n),"string"==typeof n){let e=0;const t=Lme.exec(n);if(fe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ju(n){return"string"==typeof n?fn.fromBase64String(n):fn.fromUint8Array(n)}function b0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fG(n){const e=n.mapValue.fields.__previous_value__;return b0(e)?fG(e):e}function lp(n){const e=ca(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}function Fl(n){return null==n}function z_(n){return 0===n&&1/n==-1/0}function pG(n){return"number"==typeof n&&Number.isInteger(n)&&!z_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class J{constructor(e){this.path=e}static fromPath(e){return new J(at.fromString(e))}static fromName(e){return new J(at.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===at.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new at(e.slice()))}}function Ll(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b0(n)?4:10:ee()}function ks(n,e){if(n===e)return!0;const t=Ll(n);if(t!==Ll(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lp(n).isEqual(lp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ca(i.timestampValue),o=ca(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ju(n.bytesValue).isEqual(Ju(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return en(i.geoPointValue.latitude)===en(r.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return en(i.integerValue)===en(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=en(i.doubleValue),o=en(r.doubleValue);return s===o?z_(s)===z_(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Qu(n.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(dG(s)!==dG(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ks(s[a],o[a])))return!1;return!0}(n,e);default:return ee()}var r}function cp(n,e){return void 0!==(n.values||[]).find(t=>ks(t,e))}function Xu(n,e){if(n===e)return 0;const t=Ll(n),i=Ll(e);if(t!==i)return je(t,i);switch(t){case 0:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=en(r.integerValue||r.doubleValue),a=en(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return gG(n.timestampValue,e.timestampValue);case 4:return gG(lp(n),lp(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(r,s){const o=Ju(r),a=Ju(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=je(o[l],a[l]);if(0!==c)return c}return je(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=je(en(r.latitude),en(s.latitude));return 0!==o?o:je(en(r.longitude),en(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Xu(o[l],a[l]);if(c)return c}return je(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=je(a[u],c[u]);if(0!==d)return d;const h=Xu(o[a[u]],l[c[u]]);if(0!==h)return h}return je(a.length,c.length)}(n.mapValue,e.mapValue);default:throw ee()}}function gG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return je(n,e);const t=ca(n),i=ca(e),r=je(t.seconds,i.seconds);return 0!==r?r:je(t.nanos,i.nanos)}function w0(n){return C0(n)}function C0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ca(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ju(n.bytesValue).toBase64():"referenceValue"in n?J.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=C0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${C0(i.fields[a])}`;return s+"}"}(n.mapValue):ee();var e}function q_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function E0(n){return!!n&&"integerValue"in n}function D0(n){return!!n&&"arrayValue"in n}function mG(n){return!!n&&"nullValue"in n}function yG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function K_(n){return!!n&&"mapValue"in n}function up(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=up(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=up(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ni{constructor(e){this.value=e}static empty(){return new ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!K_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=up(t)}setAll(e){let t=Wn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=up(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());K_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];K_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Pl(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ni(up(this.value))}}function _G(n){const e=[];return Pl(n.fields,(t,i)=>{const r=new Wn([t]);if(K_(i)){const s=_G(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Yu(e)}class Tt{constructor(e,t,i,r,s){this.key=e,this.documentType=t,this.version=i,this.data=r,this.documentState=s}static newInvalidDocument(e){return new Tt(e,0,De.min(),ni.empty(),0)}static newFoundDocument(e,t,i){return new Tt(e,1,t,i,0)}static newNoDocument(e,t){return new Tt(e,2,t,ni.empty(),0)}static newUnknownDocument(e,t){return new Tt(e,3,t,ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vme{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function vG(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Vme(n,e,t,i,r,s,o)}function dp(n){const e=j(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+w0(n.value)}(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Fl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=J_(e.startAt)),e.endAt&&(t+="|ub:",t+=J_(e.endAt)),e.R=t}return e.R}function Q_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!Kme(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ks(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CG(n.startAt,e.startAt)&&CG(n.endAt,e.endAt)}function Y_(n){return J.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class bi extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,i):new jme(e,t,i):"array-contains"===t?new Gme(e,i):"in"===t?new Wme(e,i):"not-in"===t?new zme(e,i):"array-contains-any"===t?new qme(e,i):new bi(e,t,i)}static P(e,t,i){return"in"===t?new Hme(e,i):new $me(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xu(t,this.value)):null!==t&&Ll(this.value)===Ll(t)&&this.v(Xu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ee()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jme extends bi{constructor(e,t,i){super(e,t,i),this.key=J.fromName(i.referenceValue)}matches(e){const t=J.comparator(e.key,this.key);return this.v(t)}}class Hme extends bi{constructor(e,t){super(e,"in",t),this.keys=bG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $me extends bi{constructor(e,t){super(e,"not-in",t),this.keys=bG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>J.fromName(i.referenceValue))}class Gme extends bi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return D0(t)&&cp(t.arrayValue,this.value)}}class Wme extends bi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cp(this.value.arrayValue,t)}}class zme extends bi{constructor(e,t){super(e,"not-in",t)}matches(e){if(cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cp(this.value.arrayValue,t)}}class qme extends bi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!D0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cp(this.value.arrayValue,i))}}class hp{constructor(e,t){this.position=e,this.before=t}}function J_(n){return`${n.before?"b":"a"}:${n.position.map(e=>w0(e)).join(",")}`}class Zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kme(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function wG(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),t.key):Xu(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function CG(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ks(n.position[t],e.position[t]))return!1;return!0}class mo{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.S=null,this.D=null}}function EG(n,e,t,i,r,s,o,a){return new mo(n,e,t,i,r,s,o,a)}function ed(n){return new mo(n)}function X_(n){return!Fl(n.limit)&&"F"===n.limitType}function Z_(n){return!Fl(n.limit)&&"L"===n.limitType}function x0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function S0(n){for(const e of n.filters)if(e.V())return e.field;return null}function I0(n){return null!==n.collectionGroup}function td(n){const e=j(n);if(null===e.S){e.S=[];const t=S0(e),i=x0(e);if(null!==t&&null===i)t.isKeyField()||e.S.push(new Zu(t)),e.S.push(new Zu(Wn.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Zu(Wn.keyField(),s))}}}return e.S}function Sr(n){const e=j(n);if(!e.D)if("F"===e.limitType)e.D=vG(e.path,e.collectionGroup,td(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of td(e))t.push(new Zu(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new hp(e.endAt.position,!e.endAt.before):null,r=e.startAt?new hp(e.startAt.position,!e.startAt.before):null;e.D=vG(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.D}function DG(n,e,t){return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fp(n,e){return Q_(Sr(n),Sr(e))&&n.limitType===e.limitType}function xG(n){return`${dp(Sr(n))}|lt:${n.limitType}`}function A0(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${w0(i.value)}`;var i}).join(", ")}]`),Fl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: "+J_(n.startAt)),n.endAt&&(e+=", endAt: "+J_(n.endAt)),`Target(${e})`}(Sr(n))}; limitType=${n.limitType})`}function pp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):J.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!wG(t.startAt,td(t),i)||t.endAt&&wG(t.endAt,td(t),i)));var t,i}function SG(n){return(e,t)=>{let i=!1;for(const r of td(n)){const s=Qme(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Qme(n,e,t){const i=n.field.isKeyField()?J.comparator(e.key,t.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return null!==a&&null!==l?Xu(a,l):ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ee()}}function IG(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z_(e)?"-0":e}}function AG(n){return{integerValue:""+n}}function TG(n,e){return pG(e)?AG(e):IG(n,e)}class ev{constructor(){this._=void 0}}function Yme(n,e,t){return n instanceof nd?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Vl?kG(n,e):n instanceof Bl?RG(n,e):function(i,r){const s=MG(i,r),o=OG(s)+OG(i.N);return E0(s)&&E0(i.N)?AG(o):IG(i.k,o)}(n,e)}function Jme(n,e,t){return n instanceof Vl?kG(n,e):n instanceof Bl?RG(n,e):t}function MG(n,e){return n instanceof id?E0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class nd extends ev{}class Vl extends ev{constructor(e){super(),this.elements=e}}function kG(n,e){const t=NG(e);for(const i of n.elements)t.some(r=>ks(r,i))||t.push(i);return{arrayValue:{values:t}}}class Bl extends ev{constructor(e){super(),this.elements=e}}function RG(n,e){let t=NG(e);for(const i of n.elements)t=t.filter(r=>!ks(r,i));return{arrayValue:{values:t}}}class id extends ev{constructor(e,t){super(),this.k=e,this.N=t}}function OG(n){return en(n.integerValue||n.doubleValue)}function NG(n){return D0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gp{constructor(e,t){this.field=e,this.transform=t}}class Zme{constructor(e,t){this.version=e,this.transformResults=t}}class tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nv{}function eye(n,e,t){n instanceof mp?function(i,r,s){const o=i.value.clone(),a=VG(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof ua?function(i,r,s){if(!tv(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=VG(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll(LG(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function T0(n,e,t){var r;n instanceof mp?function(i,r,s){if(!tv(i.precondition,r))return;const o=i.value.clone(),a=BG(i.fieldTransforms,s,r);o.setAll(a),r.convertToFoundDocument(FG(r),o).setHasLocalMutations()}(n,e,t):n instanceof ua?function(i,r,s){if(!tv(i.precondition,r))return;const o=BG(i.fieldTransforms,s,r),a=r.data;a.setAll(LG(i)),a.setAll(o),r.convertToFoundDocument(FG(r),a).setHasLocalMutations()}(n,e,t):tv(n.precondition,r=e)&&r.convertToNoDocument(De.min())}function tye(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=MG(i.transform,r||null);null!=s&&(null==t&&(t=ni.empty()),t.set(i.field,s))}return t||null}function PG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Qu(t,i,(r,s)=>function(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Vl&&i instanceof Vl||t instanceof Bl&&i instanceof Bl?Qu(t.elements,i.elements,ks):t instanceof id&&i instanceof id?ks(t.N,i.N):t instanceof nd&&i instanceof nd);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function FG(n){return n.isFoundDocument()?n.version:De.min()}class mp extends nv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class ua extends nv{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function LG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function VG(n,e,t){const i=new Map;fe(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Jme(o,a,t[r]))}return i}function BG(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,Yme(s,o,e))}return i}class yp extends nv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class M0 extends nv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class nye{constructor(e){this.count=e}}var nn,Ke;function UG(n){switch(n){default:return ee();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function jG(n){if(void 0===n)return Zt("GRPC error has no .code"),A.UNKNOWN;switch(n){case nn.OK:return A.OK;case nn.CANCELLED:return A.CANCELLED;case nn.UNKNOWN:return A.UNKNOWN;case nn.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case nn.INTERNAL:return A.INTERNAL;case nn.UNAVAILABLE:return A.UNAVAILABLE;case nn.UNAUTHENTICATED:return A.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case nn.NOT_FOUND:return A.NOT_FOUND;case nn.ALREADY_EXISTS:return A.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return A.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case nn.ABORTED:return A.ABORTED;case nn.OUT_OF_RANGE:return A.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return A.UNIMPLEMENTED;case nn.DATA_LOSS:return A.DATA_LOSS;default:return ee()}}(Ke=nn||(nn={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";class pn{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iv(this.root,e,this.comparator,!1)}getReverseIterator(){return new iv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iv(this.root,e,this.comparator,!0)}}class iv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:zn.RED,this.left=null!=r?r:zn.EMPTY,this.right=null!=s?s:zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new zn(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return zn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1,zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(n,e,t,i,r){return this}insert(n,e,t){return new zn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HG(this.data.getIterator())}getIteratorFrom(e){return new HG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class HG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const iye=new pn(J.comparator);function Ir(){return iye}const rye=new pn(J.comparator);function k0(){return rye}const sye=new pn(J.comparator);function $G(){return sye}const oye=new jt(J.comparator);function ut(...n){let e=oye;for(const t of n)e=e.add(t);return e}const aye=new jt(je);function rv(){return aye}class _p{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,vp.createSynthesizedTargetChangeForCurrentChange(e,t)),new _p(De.min(),i,rv(),Ir(),ut())}}class vp{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new vp(fn.EMPTY_BYTE_STRING,t,ut(),ut(),ut())}}class sv{constructor(e,t,i,r){this.$=e,this.removedTargetIds=t,this.key=i,this.O=r}}class GG{constructor(e,t){this.targetId=e,this.M=t}}class WG{constructor(e,t,i=fn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class zG{constructor(){this.F=0,this.L=KG(),this.B=fn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=ut(),t=ut(),i=ut();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ee()}}),new vp(this.B,this.U,e,t,i)}H(){this.q=!1,this.L=KG()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class lye{constructor(e){this.et=e,this.nt=new Map,this.st=Ir(),this.it=qG(),this.rt=new jt(je)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const i=this.ht(t);switch(e.state){case 0:this.lt(t)&&i.W(e.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(e.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(t);break;case 3:this.lt(t)&&(i.tt(),i.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),i.W(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((i,r)=>{this.lt(r)&&t(r)})}dt(e){const t=e.targetId,i=e.M.count,r=this.wt(t);if(r){const s=r.target;if(Y_(s))if(0===i){const o=new J(s.path);this.at(t,o,Tt.newNoDocument(o,De.min()))}else fe(1===i);else this._t(t)!==i&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&Y_(a.target)){const l=new J(a.target.path);null!==this.st.get(l)||this.yt(o,l)||this.at(o,l,Tt.newNoDocument(l,e))}s.j&&(t.set(o,s.G()),s.H())}});let i=ut();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.wt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))});const r=new _p(e,t,this.rt,this.st,i);return this.st=Ir(),this.it=qG(),this.rt=new jt(je),r}ct(e,t){if(!this.lt(e))return;const i=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,i),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,i){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),i&&(this.st=this.st.insert(t,i))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new zG,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new jt(je),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||L("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new zG),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function qG(){return new pn(J.comparator)}function KG(){return new pn(J.comparator)}const cye={asc:"ASCENDING",desc:"DESCENDING"},uye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dye{constructor(e,t){this.databaseId=e,this.C=t}}function bp(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QG(n,e){return n.C?e.toBase64():e.toUint8Array()}function hye(n,e){return bp(n,e.toTimestamp())}function On(n){return fe(!!n),De.fromTimestamp(function(e){const t=ca(e);return new Rn(t.seconds,t.nanos)}(n))}function R0(n,e){return(t=n,new at(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YG(n){const e=at.fromString(n);return fe(lW(e)),e}function wp(n,e){return R0(n.databaseId,e.path)}function Rs(n,e){const t=YG(e);if(t.get(1)!==n.databaseId.projectId)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(XG(t))}function O0(n,e){return R0(n.databaseId,e)}function JG(n){const e=YG(n);return 4===e.length?at.emptyPath():XG(e)}function Cp(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XG(n){return fe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ZG(n,e,t){return{name:wp(n,e),fields:t.value.mapValue.fields}}function eW(n,e,t){const i=Rs(n,e.name),r=On(e.updateTime),s=new ni({mapValue:{fields:e.fields}}),o=Tt.newFoundDocument(i,r,s);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function ov(n,e){let t;if(e instanceof mp)t={update:ZG(n,e.key,e.value)};else if(e instanceof yp)t={delete:wp(n,e.key)};else if(e instanceof ua)t={update:ZG(n,e.key,e.data),updateMask:wye(e.fieldMask)};else{if(!(e instanceof M0))return ee();t={verify:wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof nd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Bl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof id)return{fieldPath:s.field.canonicalString(),increment:o.N};throw ee()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:hye(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ee()),t;var r}function tW(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?tn.updateTime(On(r.updateTime)):void 0!==r.exists?tn.exists(r.exists):tn.none():tn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,o){let a=null;"setToServerValue"in o?(fe("REQUEST_TIME"===o.setToServerValue),a=new nd):"appendMissingElements"in o?a=new Vl(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new Bl(o.removeAllFromArray.values||[]):"increment"in o?a=new id(s,o.increment):ee();const l=Wn.fromServerFormat(o.fieldPath);return new gp(l,a)}(n,r)):[];var r;if(e.update){const r=Rs(n,e.update.name),s=new ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Yu((e.updateMask.fieldPaths||[]).map(c=>Wn.fromServerFormat(c)));return new ua(r,s,o,t,i)}return new mp(r,s,t,i)}if(e.delete){const r=Rs(n,e.delete);return new yp(r,t)}if(e.verify){const r=Rs(n,e.verify);return new M0(r,t)}return ee()}function nW(n,e){return{documents:[O0(n,e.path)]}}function iW(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=O0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=O0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(a){if(0===a.length)return;const l=a.map(c=>function(u){if("=="===u.op){if(yG(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NAN"}};if(mG(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NULL"}}}else if("!="===u.op){if(yG(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NOT_NAN"}};if(mG(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(u.field),op:_ye(u.op),value:u.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(a){if(0!==a.length)return a.map(l=>{return{field:rd((c=l).field),direction:yye(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.C||Fl(l)?l:{value:l});var l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=oW(e.startAt)),e.endAt&&(t.structuredQuery.endAt=oW(e.endAt)),t}function rW(n){let e=JG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){fe(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=sW(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Zu(sd((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Fl(d)?null:d}(t.limit));let l=null;t.startAt&&(l=aW(t.startAt));let c=null;return t.endAt&&(c=aW(t.endAt)),EG(e,r,o,s,a,"F",l,c)}function sW(n){return n?void 0!==n.unaryFilter?[bye(n)]:void 0!==n.fieldFilter?[vye(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>sW(e)).reduce((e,t)=>e.concat(t)):ee():[]}function oW(n){return{before:n.before,values:n.position}}function aW(n){return new hp(n.values||[],!!n.before)}function yye(n){return cye[n]}function _ye(n){return uye[n]}function rd(n){return{fieldPath:n.canonicalString()}}function sd(n){return Wn.fromServerFormat(n.fieldPath)}function vye(n){return bi.create(sd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}function bye(n){switch(n.unaryFilter.op){case"IS_NAN":const e=sd(n.unaryFilter.field);return bi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=sd(n.unaryFilter.field);return bi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sd(n.unaryFilter.field);return bi.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=sd(n.unaryFilter.field);return bi.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}function wye(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function is(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cW(e)),e=Cye(n.get(t),e);return cW(e)}function Cye(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function cW(n){return n+"\x01\x01"}function yo(n){const e=n.length;if(fe(e>=2),2===e)return fe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),at.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&ee(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:ee()}s=o+2}return new at(i)}class Eye{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class tr{constructor(e,t,i){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=i}}tr.store="owner",tr.key="owner";class da{constructor(e,t,i){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=i}}da.store="mutationQueues",da.keyPath="userId";class Et{constructor(e,t,i,r,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=s}}Et.store="mutations",Et.keyPath="batchId",Et.userMutationsIndex="userMutationsIndex",Et.userMutationsKeyPath=["userId","batchId"];class ii{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,is(t)]}static key(e,t,i){return[e,is(t),i]}}ii.store="documentMutations",ii.PLACEHOLDER=new ii;class Dye{constructor(e,t){this.path=e,this.readTime=t}}class xye{constructor(e,t){this.path=e,this.version=t}}class Ht{constructor(e,t,i,r,s,o){this.unknownDocument=e,this.noDocument=t,this.document=i,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=o}}Ht.store="remoteDocuments",Ht.readTimeIndex="readTimeIndex",Ht.readTimeIndexPath="readTime",Ht.collectionReadTimeIndex="collectionReadTimeIndex",Ht.collectionReadTimeIndexPath=["parentPath","readTime"];class Os{constructor(e){this.byteSize=e}}Os.store="remoteDocumentGlobal",Os.key="remoteDocumentGlobalKey";class Ti{constructor(e,t,i,r,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}Ti.store="targets",Ti.keyPath="targetId",Ti.queryTargetsIndexName="queryTargetsIndex",Ti.queryTargetsKeyPath=["canonicalId","targetId"];class qn{constructor(e,t,i){this.targetId=e,this.path=t,this.sequenceNumber=i}}qn.store="targetDocuments",qn.keyPath=["targetId","path"],qn.documentTargetsIndex="documentTargetsIndex",qn.documentTargetsKeyPath=["path","targetId"];class nr{constructor(e,t,i,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}nr.key="targetGlobalKey",nr.store="targetGlobal";class Ul{constructor(e,t){this.collectionId=e,this.parent=t}}Ul.store="collectionParents",Ul.keyPath=["collectionId","parent"];class _o{constructor(e,t,i,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=i,this.inForeground=r}}_o.store="clientMetadata",_o.keyPath="clientId";class od{constructor(e,t,i){this.bundleId=e,this.createTime=t,this.version=i}}od.store="bundles",od.keyPath="bundleId";class ad{constructor(e,t,i){this.name=e,this.readTime=t,this.bundledQuery=i}}ad.store="namedQueries",ad.keyPath="name";const Sye=[da.store,Et.store,ii.store,Ht.store,Ti.store,tr.store,nr.store,qn.store,_o.store,Os.store,Ul.store,od.store,ad.store],uW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k?t:k.resolve(t)}catch(t){return k.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k.reject(t)}static resolve(e){return new k((t,i)=>{t(e)})}static reject(e){return new k((t,i)=>{i(e)})}static waitFor(e){return new k((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=k.resolve(!1);for(const i of e)t=t.next(r=>r?k.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class av{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new kn,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Ep(e,t.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=N0(i.target.error);this.It.reject(new Ep(e,r))}}static open(e,t,i,r){try{return new av(t,e.transaction(r,i))}catch(s){throw new Ep(t,s)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(L("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Aye(t)}}class rs{constructor(e,t,i){this.name=e,this.version=t,this.Rt=i,12.2===rs.bt(Ct())&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return L("SimpleDb","Removing database:",e),Hl(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!wf())return!1;if(rs.vt())return!0;const e=Ct(),t=rs.bt(e),i=0<t&&t<10,r=rs.Vt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(e){var t=this;return m(function*(){return t.db||(L("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new Ep(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new O(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new O(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ep(e,a))},s.onupgradeneeded=o=>{L("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.Rt.Nt(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{L("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=i=>t.kt(i)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return m(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.Ct(e);const l=av.open(s.db,e,o?"readonly":"readwrite",i),c=r(l).catch(u=>(l.abort(u),k.reject(u))).toPromise();return c.catch(()=>{}),yield l.At,c}catch(l){const c="FirebaseError"!==l.name&&a<3;if(L("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),!c)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Iye{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Hl(this.$t.delete())}}class Ep extends O{constructor(e,t){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jl(n){return"IndexedDbTransactionError"===n.name}class Aye{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(L("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Hl(i)}add(e){return L("SimpleDb","ADD",this.store.name,e,e),Hl(this.store.add(e))}get(e){return Hl(this.store.get(e)).next(t=>(void 0===t&&(t=null),L("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return L("SimpleDb","DELETE",this.store.name,e),Hl(this.store.delete(e))}count(){return L("SimpleDb","COUNT",this.store.name),Hl(this.store.count())}Bt(e,t){const i=this.cursor(this.options(e,t)),r=[];return this.Ut(i,(s,o)=>{r.push(o)}).next(()=>r)}qt(e,t){L("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(s,o,a)=>a.delete())}jt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new k((i,r)=>{t.onerror=s=>{const o=N0(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}Ut(e,t){const i=[];return new k((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new Iye(a),c=t(a.primaryKey,a.value,l);if(c instanceof k){const u=c.catch(d=>(l.done(),k.reject(d)));i.push(u)}l.isDone?r():null===l.Ft?a.continue():a.continue(l.Ft)}}).next(()=>k.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Kt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hl(n){return new k((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=N0(i.target.error);t(r)}})}let hW=!1;function N0(n){const e=rs.bt(Ct());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hW||(hW=!0,setTimeout(()=>{throw i},0)),i}}return n}class fW extends dW{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Mi(n,e){const t=j(n);return rs.Dt(t.Wt,e)}class P0{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&eye(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&T0(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&T0(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(De.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,(t,i)=>PG(t,i))&&Qu(this.baseMutations,e.baseMutations,(t,i)=>PG(t,i))}}class F0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){fe(e.mutations.length===i.length);let r=$G();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new F0(e,t,i,r)}}class ha{constructor(e,t,i,r,s=De.min(),o=De.min(),a=fn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pW{constructor(e){this.Gt=e}}function L0(n,e){if(e.document)return eW(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=J.fromSegments(e.noDocument.path),i=cd(e.noDocument.readTime),r=Tt.newNoDocument(t,i);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=J.fromSegments(e.unknownDocument.path),i=cd(e.unknownDocument.version);return Tt.newUnknownDocument(t,i)}return ee()}function gW(n,e,t){const i=V0(t),r=e.key.path.popLast().toArray();if(e.isFoundDocument()){const s={name:wp(a=n.Gt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:bp(a,l.version.toTimestamp())};return new Ht(null,null,s,e.hasCommittedMutations,i,r)}var a,l;if(e.isNoDocument()){const s=e.key.path.toArray(),o=ld(e.version),a=e.hasCommittedMutations;return new Ht(null,new Dye(s,o),null,a,i,r)}if(e.isUnknownDocument()){const s=e.key.path.toArray(),o=ld(e.version);return new Ht(new xye(s,o),null,null,!0,i,r)}return ee()}function V0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function mW(n){const e=new Rn(n[0],n[1]);return De.fromTimestamp(e)}function ld(n){const e=n.toTimestamp();return new Eye(e.seconds,e.nanoseconds)}function cd(n){const e=new Rn(n.seconds,n.nanoseconds);return De.fromTimestamp(e)}function ud(n,e){const t=(e.baseMutations||[]).map(s=>tW(n.Gt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>tW(n.Gt,s)),r=Rn.fromMillis(e.localWriteTimeMs);return new P0(e.batchId,r,t,i)}function Dp(n){const e=cd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?cd(n.lastLimboFreeSnapshotVersion):De.min();let i;var r;return void 0!==n.query.documents?(fe(1===(r=n.query).documents.length),i=Sr(ed(JG(r.documents[0])))):i=Sr(rW(n.query)),new ha(i,n.targetId,0,n.lastListenSequenceNumber,e,t,fn.fromBase64String(n.resumeToken))}function yW(n,e){const t=ld(e.snapshotVersion),i=ld(e.lastLimboFreeSnapshotVersion);let r;r=Y_(e.target)?nW(n.Gt,e.target):iW(n.Gt,e.target);const s=e.resumeToken.toBase64();return new Ti(e.targetId,dp(e.target),t,s,e.sequenceNumber,i,r)}function B0(n){const e=rW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?DG(e,e.limit,"L"):e}class Tye{getBundleMetadata(e,t){return _W(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:cd(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return _W(e).put({bundleId:(i=t).id,createTime:ld(On(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return vW(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:B0(r.bundledQuery),readTime:cd(r.readTime)};var r})}saveNamedQuery(e,t){return vW(e).put({name:(i=t).name,readTime:ld(On(i.readTime)),bundledQuery:i.bundledQuery});var i}}function _W(n){return Mi(n,od.store)}function vW(n){return Mi(n,ad.store)}class Mye{constructor(){this.zt=new U0}addToCollectionParentIndex(e,t){return this.zt.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.zt.getEntries(t))}}class U0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new jt(at.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new jt(at.comparator)).toArray()}}class kye{constructor(){this.Ht=new U0}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const s={collectionId:i,parent:is(r)};return bW(e).put(s)}return k.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[uG(t),""],!1,!0);return bW(e).Bt(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;i.push(yo(o.parent))}return i})}}function bW(n){return Mi(n,Ul.store)}const wW={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ki{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CW(n,e,t){const i=n.store(Et.store),r=n.store(ii.store),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=i.jt({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{fe(1===a)}));const c=[];for(const u of t.mutations){const d=ii.key(e,u.key.path,t.batchId);s.push(r.delete(d)),c.push(u.key)}return k.waitFor(s).next(()=>c)}function lv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ee();e=n.noDocument}return JSON.stringify(e).length}ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(41943040,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);class j0{constructor(e,t,i,r){this.userId=e,this.k=t,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,i,r){fe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new j0(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).jt({index:Et.userMutationsIndex,range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=dd(e),o=fa(e);return o.add({}).next(a=>{fe("number"==typeof a);const l=new P0(a,t,i,r),c=function(h,f,p){const y=p.baseMutations.map(x=>ov(h.Gt,x)),v=p.mutations.map(x=>ov(h.Gt,x));return new Et(f,p.batchId,p.localWriteTime.toMillis(),y,v)}(this.k,this.userId,l),u=[];let d=new jt((h,f)=>je(h.canonicalString(),f.canonicalString()));for(const h of r){const f=ii.key(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,ii.PLACEHOLDER))}return d.forEach(h=>{u.push(this.Jt.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Yt[a]=l.keys()}),k.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return fa(e).get(t).next(i=>i?(fe(i.userId===this.userId),ud(this.k,i)):null)}Zt(e,t){return this.Yt[t]?k.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Yt[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return fa(e).jt({index:Et.userMutationsIndex,range:r},(o,a,l)=>{a.userId===this.userId&&(fe(a.batchId>=i),s=ud(this.k,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return fa(e).jt({index:Et.userMutationsIndex,range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fa(e).Bt(Et.userMutationsIndex,t).next(i=>i.map(r=>ud(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=ii.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return dd(e).jt({range:r},(o,a,l)=>{const[c,u,d]=o,h=yo(u);if(c===this.userId&&t.path.isEqual(h))return fa(e).get(d).next(f=>{if(!f)throw ee();fe(f.userId===this.userId),s.push(ud(this.k,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jt(je);const r=[];return t.forEach(s=>{const o=ii.prefixForPath(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=dd(e).jt({range:a},(c,u,d)=>{const[h,f,p]=c,y=yo(f);h===this.userId&&s.path.isEqual(y)?i=i.add(p):d.done()});r.push(l)}),k.waitFor(r).next(()=>this.te(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=ii.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new jt(je);return dd(e).jt({range:o},(l,c,u)=>{const[d,h,f]=l,p=yo(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.te(e,a))}te(e,t){const i=[],r=[];return t.forEach(s=>{r.push(fa(e).get(s).next(o=>{if(null===o)throw ee();fe(o.userId===this.userId),i.push(ud(this.k,o))}))}),k.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return CW(e.Wt,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),k.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return k.resolve();const i=IDBKeyRange.lowerBound(ii.prefixForUser(this.userId)),r=[];return dd(e).jt({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=yo(s[1]);r.push(l)}else a.done()}).next(()=>{fe(0===r.length)})})}containsKey(e,t){return EW(e,this.userId,t)}ne(e){return DW(e).get(this.userId).next(t=>t||new da(this.userId,-1,""))}}function EW(n,e,t){const i=ii.prefixForPath(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return dd(n).jt({range:s,Kt:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(o=!0),c.done()}).next(()=>o)}function fa(n){return Mi(n,Et.store)}function dd(n){return Mi(n,ii.store)}function DW(n){return Mi(n,da.store)}class $l{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new $l(0)}static re(){return new $l(-1)}}class Rye{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const i=new $l(t.highestTargetId);return t.highestTargetId=i.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>De.fromTimestamp(new Rn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.oe(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(i=>(i.targetCount+=1,this.ue(t,i),this.ce(e,i))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hd(e).delete(t.targetId)).next(()=>this.oe(e)).next(i=>(fe(i.targetCount>0),i.targetCount-=1,this.ce(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return hd(e).jt((o,a)=>{const l=Dp(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>k.waitFor(s)).next(()=>r)}forEachTarget(e,t){return hd(e).jt((i,r)=>{const s=Dp(r);t(s)})}oe(e){return xW(e).get(nr.key).next(t=>(fe(null!==t),t))}ce(e,t){return xW(e).put(nr.key,t)}ae(e,t){return hd(e).put(yW(this.k,t))}ue(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const i=dp(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return hd(e).jt({range:r,index:Ti.queryTargetsIndexName},(o,a,l)=>{const c=Dp(a);Q_(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=pa(e);return t.forEach(o=>{const a=is(o.path);r.push(s.put(new qn(i,a))),r.push(this.referenceDelegate.addReference(e,i,o))}),k.waitFor(r)}removeMatchingKeys(e,t,i){const r=pa(e);return k.forEach(t,s=>{const o=is(s.path);return k.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=pa(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=pa(e);let s=ut();return r.jt({range:i,Kt:!0},(o,a,l)=>{const c=yo(o[1]),u=new J(c);s=s.add(u)}).next(()=>s)}containsKey(e,t){const i=is(t.path),r=IDBKeyRange.bound([i],[uG(i)],!1,!0);let s=0;return pa(e).jt({index:qn.documentTargetsIndex,Kt:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}Et(e,t){return hd(e).get(t).next(i=>i?Dp(i):null)}}function hd(n){return Mi(n,Ti.store)}function xW(n){return Mi(n,nr.store)}function pa(n){return Mi(n,qn.store)}function Gl(n){return H0.apply(this,arguments)}function H0(){return(H0=m(function*(n){if(n.code!==A.FAILED_PRECONDITION||n.message!==uW)throw n;L("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function SW([n,e],[t,i]){const r=je(n,t);return 0===r?je(e,i):r}class Oye{constructor(e){this.he=e,this.buffer=new jt(SW),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();SW(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Nye{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const i=this.we?3e5:6e4;L("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,m(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){jl(r)?L("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gl(r)}yield t.me(e)}))}}class Pye{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return k.resolve(er.I);const i=new Oye(t);return this.ge.forEachTarget(e,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(e,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.ge.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(wW)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wW):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),_0()<=qe.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}class Fye{constructor(e,t){this.db=e,this.garbageCollector=new Pye(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Ee(e){let t=0;return this.pe(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(i,r)=>t(r))}addReference(e,t,i){return cv(e,i)}removeReference(e,t,i){return cv(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return cv(e,t)}Ae(e,t){return function(i,r){let s=!1;return DW(i).Qt(o=>EW(i,o,r).next(a=>(a&&(s=!0),k.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ie(e,(o,a)=>{if(a<=t){const l=this.Ae(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o),pa(e).delete([0,is(o.path)])))});r.push(l)}}).next(()=>k.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return cv(e,t)}Ie(e,t){const i=pa(e);let r,s=er.I;return i.jt({index:qn.documentTargetsIndex},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==er.I&&t(new J(yo(r)),s),s=c,r=l):s=er.I}).next(()=>{s!==er.I&&t(new J(yo(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cv(n,e){return pa(n).put((i=n.currentSequenceNumber,new qn(0,is(e.path),i)));var i}class fd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0!==r){for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t])}else this.inner[i]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),!0;return!1}forEach(e){Pl(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return hG(this.inner)}}class IW{constructor(){this.changes=new fd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:De.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Tt.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?k.resolve(i.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lye{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,i){return ga(e).put(uv(t),i)}removeEntry(e,t){const i=ga(e),r=uv(t);return i.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Re(e,i)))}getEntry(e,t){return ga(e).get(uv(t)).next(i=>this.be(t,i))}Pe(e,t){return ga(e).get(uv(t)).next(i=>({document:this.be(t,i),size:lv(i)}))}getEntries(e,t){let i=Ir();return this.ve(e,t,(r,s)=>{const o=this.be(r,s);i=i.insert(r,o)}).next(()=>i)}Ve(e,t){let i=Ir(),r=new pn(J.comparator);return this.ve(e,t,(s,o)=>{const a=this.be(s,o);i=i.insert(s,a),r=r.insert(s,lv(o))}).next(()=>({documents:i,Se:r}))}ve(e,t,i){if(t.isEmpty())return k.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),s=t.getIterator();let o=s.getNext();return ga(e).jt({range:r},(a,l,c)=>{const u=J.fromSegments(a);for(;o&&J.comparator(o,u)<0;)i(o,null),o=s.getNext();o&&o.isEqual(u)&&(i(o,l),o=s.hasNext()?s.getNext():null),o?c.Lt(o.path.toArray()):c.done()}).next(()=>{for(;o;)i(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i){let r=Ir();const s=t.path.length+1,o={};if(i.isEqual(De.min())){const a=t.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{const a=t.path.toArray(),l=V0(i);o.range=IDBKeyRange.lowerBound([a,l],!0),o.index=Ht.collectionReadTimeIndex}return ga(e).jt(o,(a,l,c)=>{if(a.length!==s)return;const u=L0(this.k,l);t.path.isPrefixOf(u.key.path)?pp(t,u)&&(r=r.insert(u.key,u)):c.done()}).next(()=>r)}newChangeBuffer(e){return new Vye(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return AW(e).get(Os.key).next(t=>(fe(!!t),t))}Re(e,t){return AW(e).put(Os.key,t)}be(e,t){if(t){const i=L0(this.k,t);if(!i.isNoDocument()||!i.version.isEqual(De.min()))return i}return Tt.newInvalidDocument(e)}}class Vye extends IW{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new fd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new jt((s,o)=>je(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Ce.get(s);if(o.document.isValidDocument()){const l=gW(this.De.k,o.document,this.getReadTime(s));r=r.add(s.path.popLast()),i+=lv(l)-a,t.push(this.De.addEntry(e,s,l))}else if(i-=a,this.trackRemovals){const l=gW(this.De.k,Tt.newNoDocument(s,De.min()),this.getReadTime(s));t.push(this.De.addEntry(e,s,l))}else t.push(this.De.removeEntry(e,s))}),r.forEach(s=>{t.push(this.De.Jt.addToCollectionParentIndex(e,s))}),t.push(this.De.updateMetadata(e,i)),k.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(i=>(this.Ce.set(t,i.size),i.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:i,Se:r})=>(r.forEach((s,o)=>{this.Ce.set(s,o)}),i))}}function AW(n){return Mi(n,Os.store)}function ga(n){return Mi(n,Ht.store)}function uv(n){return n.path.toArray()}class Bye{constructor(e){this.k=e}Nt(e,t,i,r){fe(i<r&&i>=0&&r<=11);const s=new av("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore(tr.store),(a=e).createObjectStore(da.store,{keyPath:da.keyPath}),a.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0}),a.createObjectStore(ii.store),TW(e),function(a){a.createObjectStore(Ht.store)}(e));let o=k.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore(qn.store),a.deleteObjectStore(Ti.store),a.deleteObjectStore(nr.store)}(e),TW(e)),o=o.next(()=>function(a){const l=a.store(nr.store),c=new nr(0,0,De.min().toTimestamp(),0);return l.put(nr.key,c)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(a,l){return l.store(Et.store).Bt().next(c=>{a.deleteObjectStore(Et.store),a.createObjectStore(Et.store,{keyPath:Et.keyPath,autoIncrement:!0}).createIndex(Et.userMutationsIndex,Et.userMutationsKeyPath,{unique:!0});const u=l.store(Et.store),d=c.map(h=>u.put(h));return k.waitFor(d)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore(_o.store,{keyPath:_o.keyPath})}(e)})),i<5&&r>=5&&(o=o.next(()=>this.Ne(s))),i<6&&r>=6&&(o=o.next(()=>(function(a){a.createObjectStore(Os.store)}(e),this.ke(s)))),i<7&&r>=7&&(o=o.next(()=>this.xe(s))),i<8&&r>=8&&(o=o.next(()=>this.$e(e,s))),i<9&&r>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e),function(a){const l=a.objectStore(Ht.store);l.createIndex(Ht.readTimeIndex,Ht.readTimeIndexPath,{unique:!1}),l.createIndex(Ht.collectionReadTimeIndex,Ht.collectionReadTimeIndexPath,{unique:!1})}(t)})),i<10&&r>=10&&(o=o.next(()=>this.Oe(s))),i<11&&r>=11&&(o=o.next(()=>{(function(a){a.createObjectStore(od.store,{keyPath:od.keyPath})})(e),function(a){a.createObjectStore(ad.store,{keyPath:ad.keyPath})}(e)})),o}ke(e){let t=0;return e.store(Ht.store).jt((i,r)=>{t+=lv(r)}).next(()=>{const i=new Os(t);return e.store(Os.store).put(Os.key,i)})}Ne(e){const t=e.store(da.store),i=e.store(Et.store);return t.Bt().next(r=>k.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Bt(Et.userMutationsIndex,o).next(a=>k.forEach(a,l=>{fe(l.userId===s.userId);const c=ud(this.k,l);return CW(e,s.userId,c).next(()=>{})}))}))}xe(e){const t=e.store(qn.store),i=e.store(Ht.store);return e.store(nr.store).get(nr.key).next(r=>{const s=[];return i.jt((o,a)=>{const l=new at(o),c=[0,is(l)];s.push(t.get(c).next(u=>u?k.resolve():t.put(new qn(0,is(l),r.highestListenSequenceNumber))))}).next(()=>k.waitFor(s))})}$e(e,t){e.createObjectStore(Ul.store,{keyPath:Ul.keyPath});const i=t.store(Ul.store),r=new U0,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:is(l)})}};return t.store(Ht.store).jt({Kt:!0},(o,a)=>{const l=new at(o);return s(l.popLast())}).next(()=>t.store(ii.store).jt({Kt:!0},([o,a,l],c)=>{const u=yo(a);return s(u.popLast())}))}Oe(e){const t=e.store(Ti.store);return t.jt((i,r)=>{const s=Dp(r),o=yW(this.k,s);return t.put(o)})}}function TW(n){n.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.documentTargetsIndex,qn.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.queryTargetsIndexName,Ti.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(nr.store)}const $0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class G0{constructor(e,t,i,r,s,o,a,l,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Me=s,this.window=o,this.document=a,this.Fe=c,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=d=>Promise.resolve(),!G0.Pt())throw new O(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fye(this,r),this.Ge=t+"main",this.k=new pW(l),this.ze=new rs(this.Ge,11,new Bye(this.k)),this.He=new Rye(this.referenceDelegate,this.k),this.Jt=new kye,this.Je=new Lye(this.k,this.Jt),this.Ye=new Tye,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&Zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(A.FAILED_PRECONDITION,$0);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new er(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var i=m(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=m(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(m(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dv(e).put(new _o(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(jl(e))return L("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return L("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return xp(e).get(tr.key).next(t=>k.resolve(this.un(t)))}hn(e){return dv(e).delete(this.clientId)}ln(){var e=this;return m(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Mi(i,_o.store);return r.Bt().next(s=>{const o=e.dn(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return k.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Xe)for(const i of t)e.Xe.removeItem(e.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?k.resolve(!0):xp(e).get(tr.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new O(A.FAILED_PRECONDITION,$0);return!1}}return!(!this.networkEnabled||!this.inForeground)||dv(e).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const o=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||o&&a)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&L("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return m(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[tr.store,_o.store],t=>{const i=new fW(t,er.I);return e.cn(i).next(()=>e.hn(i))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(i=>this.fn(i.updateTimeMs,t)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>dv(e).Bt().next(t=>this.dn(t,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(e){return j0.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,i){let s;return L("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",Sye,o=>(s=new fW(o,this.Be?this.Be.next():er.I),"readwrite-primary"===t?this.rn(s).next(a=>!!a||this.on(s)).next(a=>{if(!a)throw Zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new O(A.FAILED_PRECONDITION,uW);return i(s)}).next(a=>this.an(s).next(()=>a)):this.En(s).next(()=>i(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}En(e){return xp(e).get(tr.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(A.FAILED_PRECONDITION,$0)})}an(e){const t=new tr(this.clientId,this.allowTabSynchronization,Date.now());return xp(e).put(tr.key,t)}static Pt(){return rs.Pt()}cn(e){const t=xp(e);return t.get(tr.key).next(i=>this.un(i)?(L("IndexedDbPersistence","Releasing primary lease."),t.delete(tr.key)):k.resolve())}fn(e,t){const i=Date.now();return!(e<i-t||e>i&&(Zt(`Detected an update time that is in the future: ${e} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!vx()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const i=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return L("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Zt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Zt("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xp(n){return Mi(n,tr.store)}function dv(n){return Mi(n,_o.store)}function W0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Uye{constructor(e,t){this.progress=e,this.In=t}}class MW{constructor(e,t,i){this.Je=e,this.An=t,this.Jt=i}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.bn(e,t,i))}bn(e,t,i){return this.Je.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}Pn(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}vn(e,t){return this.Je.getEntries(e,t).next(i=>this.Vn(e,i).next(()=>i))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.Pn(t,i))}getDocumentsMatchingQuery(e,t,i){return J.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(e,t.path):I0(t)?this.Dn(e,t,i):this.Cn(e,t,i);var r}Sn(e,t){return this.Rn(e,new J(t)).next(i=>{let r=k0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(e,t,i){const r=t.collectionGroup;let s=k0();return this.Jt.getCollectionParents(e,r).next(o=>k.forEach(o,a=>{const l=(c=t,u=a.child(r),new mo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.Cn(e,l,i).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}Cn(e,t,i){let r,s;return this.Je.getDocumentsMatchingQuery(e,t,i).next(o=>(r=o,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(o=>(s=o,this.Nn(e,s,r).next(a=>{r=a;for(const l of s)for(const c of l.mutations){const u=c.key;let d=r.get(u);null==d&&(d=Tt.newInvalidDocument(u),r=r.insert(u,d)),T0(c,d,l.localWriteTime),d.isFoundDocument()||(r=r.remove(u))}}))).next(()=>(r.forEach((o,a)=>{pp(t,a)||(r=r.remove(o))}),r))}Nn(e,t,i){let r=ut();for(const o of t)for(const a of o.mutations)a instanceof ua&&null===i.get(a.key)&&(r=r.add(a.key));let s=i;return this.Je.getEntries(e,r).next(o=>(o.forEach((a,l)=>{l.isFoundDocument()&&(s=s.insert(a,l))}),s))}}class z0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.kn=i,this.xn=r}static $n(e,t){let i=ut(),r=ut();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new z0(e,t.fromCache,i,r)}}class kW{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,i,r){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(De.min())?this.Fn(e,t):this.Mn.vn(e,r).next(s=>{const o=this.Ln(t,s);return(X_(t)||Z_(t))&&this.Bn(t.limitType,o,r,i)?this.Fn(e,t):(_0()<=qe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),A0(t)),this.Mn.getDocumentsMatchingQuery(e,t,i).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))});var s}Ln(e,t){let i=new jt(SG(e));return t.forEach((r,s)=>{pp(e,s)&&(i=i.add(s))}),i}Bn(e,t,i,r){if(i.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fn(e,t){return _0()<=qe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",A0(t)),this.Mn.getDocumentsMatchingQuery(e,t,De.min())}}class jye{constructor(e,t,i,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new pn(je),this.Kn=new fd(s=>dp(s),Q_),this.jn=De.min(),this.An=e.getMutationQueue(i),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new MW(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function RW(n,e,t,i){return new jye(n,e,t,i)}function OW(n,e){return q0.apply(this,arguments)}function q0(){return(q0=m(function*(n,e){const t=j(n);let i=t.An,r=t.Wn;const s=yield t.persistence.runTransaction("Handle user change","readonly",o=>{let a;return t.An.getAllMutationBatches(o).next(l=>(a=l,i=t.persistence.getMutationQueue(e),r=new MW(t.Qn,i,t.persistence.getIndexManager()),i.getAllMutationBatches(o))).next(l=>{const c=[],u=[];let d=ut();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of l){u.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return r.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:u}))})});return t.An=i,t.Wn=r,t.Un.On(t.Wn),s})).apply(this,arguments)}function Hye(n,e){const t=j(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=k.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const y=l.docVersions.get(f);fe(null!==y),p.version.compareTo(y)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&c.addEntry(p,l.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,u))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.An.performConsistencyCheck(i)).next(()=>t.Wn.vn(i,r))})}function NW(n){const e=j(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function $ye(n,e){const t=j(n),i=e.snapshotVersion;let r=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Qn.newChangeBuffer({trackRemovals:!0});r=t.qn;const a=[];e.targetChanges.forEach((c,u)=>{const d=r.get(u);if(!d)return;a.push(t.He.removeMatchingKeys(s,c.removedDocuments,u).next(()=>t.He.addMatchingKeys(s,c.addedDocuments,u)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,y;e.targetMismatches.has(u)?h=h.withResumeToken(fn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,i)),r=r.insert(u,h),p=h,y=c,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.He.updateTargetData(s,h))});let l=Ir();if(e.documentUpdates.forEach((c,u)=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(PW(s,o,e.documentUpdates,i,void 0).next(c=>{l=c})),!i.isEqual(De.min())){const c=t.He.getLastRemoteSnapshotVersion(s).next(u=>t.He.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>t.Wn.Vn(s,l)).next(()=>l)}).then(s=>(t.qn=r,s))}function PW(n,e,t,i,r){let s=ut();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let a=Ir();return t.forEach((l,c)=>{const u=o.get(l),d=(null==r?void 0:r.get(l))||i;c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(l,d),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c,d),a=a.insert(l,c)):L("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),a})}function Gye(n,e){const t=j(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(i,e)))}function pd(n,e){const t=j(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.He.getTargetData(i,e).next(s=>s?(r=s,k.resolve(r)):t.He.allocateTargetId(i).next(o=>(r=new ha(e,o,0,i.currentSequenceNumber),t.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qn=t.qn.insert(i.targetId,i),t.Kn.set(e,i.targetId)),i})}function gd(n,e,t){return K0.apply(this,arguments)}function K0(){return(K0=m(function*(n,e,t){const i=j(n),r=i.qn.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!jl(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.qn=i.qn.remove(e),i.Kn.delete(r.target)})).apply(this,arguments)}function hv(n,e,t){const i=j(n);let r=De.min(),s=ut();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=j(a),d=u.Kn.get(c);return void 0!==d?k.resolve(u.qn.get(d)):u.He.getTargetData(l,c)}(i,o,Sr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Un.getDocumentsMatchingQuery(o,e,t?r:De.min(),t?s:ut())).next(a=>({documents:a,zn:s})))}function FW(n,e){const t=j(n),i=j(t.He),r=t.qn.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(o=>o?o.target:null))}function LW(n){const e=j(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(i,r,s){const o=j(i);let a=Ir(),l=V0(s);const c=ga(r),u=IDBKeyRange.lowerBound(l,!0);return c.jt({index:Ht.readTimeIndex,range:u},(d,h)=>{const f=L0(o.k,h);a=a.insert(f.key,f),l=h.readTime}).next(()=>({In:a,readTime:mW(l)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:i})=>(e.jn=i,t))}function Q0(){return(Q0=m(function*(n){const e=j(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(i){const r=ga(i);let s=De.min();return r.jt({index:Ht.readTimeIndex,reverse:!0},(o,a,l)=>{a.readTime&&(s=mW(a.readTime)),l.done()}).next(()=>s)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function Y0(){return(Y0=m(function*(n,e,t,i){const r=j(n);let s=ut(),o=Ir(),a=$G();for(const u of t){const d=e.Hn(u.metadata.name);u.document&&(s=s.add(d)),o=o.insert(d,e.Jn(u)),a=a.insert(d,e.Yn(u.metadata.readTime))}const l=r.Qn.newChangeBuffer({trackRemovals:!0}),c=yield pd(r,(u=i,Sr(ed(at.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>PW(u,l,o,De.min(),a).next(d=>(l.apply(u),d)).next(d=>r.He.removeMatchingKeysForTargetId(u,c.targetId).next(()=>r.He.addMatchingKeys(u,s,c.targetId)).next(()=>r.Wn.Vn(u,d)).next(()=>d)))})).apply(this,arguments)}function qye(n,e){return J0.apply(this,arguments)}function J0(){return(J0=m(function*(n,e,t=ut()){const i=yield pd(n,Sr(B0(e.bundledQuery))),r=j(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=On(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Ye.saveNamedQuery(s,e);const a=i.withResumeToken(fn.EMPTY_BYTE_STRING,o);return r.qn=r.qn.insert(a.targetId,a),r.He.updateTargetData(s,a).next(()=>r.He.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.He.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ye.saveNamedQuery(s,e))})})).apply(this,arguments)}class Kye{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return k.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var i;return this.Xn.set(t.id,{id:(i=t).id,version:i.version,createTime:On(i.createTime)}),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(i=t).name,query:B0(i.bundledQuery),readTime:On(i.readTime)}),k.resolve();var i}}class X0{constructor(){this.ts=new jt(Nn.es),this.ns=new jt(Nn.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const i=new Nn(e,t);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.os(new Nn(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new J(new at([])),i=new Nn(t,e),r=new Nn(t,e+1),s=[];return this.ns.forEachInRange([i,r],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new J(new at([])),i=new Nn(t,e),r=new Nn(t,e+1);let s=ut();return this.ns.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Nn(e,0),i=this.ts.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Nn{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return J.comparator(e.key,t.key)||je(e.fs,t.fs)}static ss(e,t){return je(e.fs,t.fs)||J.comparator(e.key,t.key)}}class Qye{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new jt(Nn.es)}checkEmpty(e){return k.resolve(0===this.An.length)}addMutationBatch(e,t,i,r){const s=this.ds;this.ds++;const o=new P0(s,t,i,r);this.An.push(o);for(const a of r)this.ws=this.ws.add(new Nn(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,t){return k.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.gs(t+1),s=r<0?0:r;return k.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return k.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nn(t,0),r=new Nn(t,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([i,r],o=>{const a=this._s(o.fs);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new jt(je);return t.forEach(r=>{const s=new Nn(r,0),o=new Nn(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{i=i.add(a.fs)})}),k.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;J.isDocumentKey(s)||(s=s.child(""));const o=new Nn(new J(s),0);let a=new jt(je);return this.ws.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.fs)),!0)},o),k.resolve(this.ys(a))}ys(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){fe(0===this.ps(t.batchId,"removed")),this.An.shift();let i=this.ws;return k.forEach(t.mutations,r=>{const s=new Nn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=i})}ee(e){}containsKey(e,t){const i=new Nn(t,0),r=this.ws.firstAfterOrEqual(i);return k.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return k.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Yye{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new pn(J.comparator),this.size=0}addEntry(e,t,i){const r=t.key,s=this.docs.get(r),o=s?s.size:0,a=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a,readTime:i}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return k.resolve(i?i.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let i=Ir();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Tt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,t,i){let r=Ir();const s=new J(t.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l,readTime:c}}=o.getNext();if(!t.path.isPrefixOf(a.path))break;c.compareTo(i)<=0||pp(t,l)&&(r=r.insert(l.key,l.mutableCopy()))}return k.resolve(r)}Es(e,t){return k.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Jye(this)}getSize(e){return k.resolve(this.size)}}class Jye extends IW{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),k.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class Xye{constructor(e){this.persistence=e,this.Is=new fd(t=>dp(t),Q_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.As=0,this.Rs=new X0,this.targetCount=0,this.bs=$l.ie()}forEachTarget(e,t){return this.Is.forEach((i,r)=>t(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.As&&(this.As=t),k.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new $l(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.ae(t),k.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){const i=this.Is.get(t)||null;return k.resolve(i)}addMatchingKeys(e,t,i){return this.Rs.rs(t,i),k.resolve()}removeMatchingKeys(e,t,i){this.Rs.cs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),k.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Rs.ls(t);return k.resolve(i)}containsKey(e,t){return k.resolve(this.Rs.containsKey(t))}}class Zye{constructor(e,t){this.Ps={},this.Be=new er(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Xye(this),this.Jt=new Mye,this.Je=new Yye(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new pW(t),this.Ye=new Kye(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new Qye(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,i){L("MemoryPersistence","Starting transaction:",e);const r=new e_e(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(s=>this.referenceDelegate.Ss(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ds(e,t){return k.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class e_e extends dW{constructor(e){super(),this.currentSequenceNumber=e}}class Z0{constructor(e){this.persistence=e,this.Cs=new X0,this.Ns=null}static ks(e){return new Z0(e)}get xs(){if(this.Ns)return this.Ns;throw ee()}addReference(e,t,i){return this.Cs.addReference(i,t),this.xs.delete(i.toString()),k.resolve()}removeReference(e,t,i){return this.Cs.removeReference(i,t),this.xs.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),k.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.xs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.xs,i=>{const r=J.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return k.or([()=>k.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function VW(n,e){return`firestore_clients_${n}_${e}`}function BW(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function eT(n,e){return`firestore_targets_${n}_${e}`}class fv{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Os(e,t,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new O(r.error.code,r.error.message))),o?new fv(e,t,r.state,s):(Zt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sp{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Os(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new O(i.error.code,i.error.message))),s?new Sp(e,i.state,r):(Zt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=rv();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=pG(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new pv(e,s):(Zt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tT{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tT(t.clientId,t.onlineState):(Zt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nT{constructor(){this.activeTargetIds=rv()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iT{constructor(e,t,i,r,s){this.window=e,this.Me=t,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new pn(je),this.started=!1,this.js=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Qs=VW(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new nT),this.Gs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(a){return`firestore_bundle_loaded_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return m(function*(){const t=yield e.syncEngine.Tn();for(const r of t){if(r===e.Bs)continue;const s=e.getItem(VW(e.persistenceKey,r));if(s){const o=pv.Os(r,s);o&&(e.Ks=e.Ks.insert(o.clientId,o))}}e.Xs();const i=e.storage.getItem(e.Js);if(i){const r=e.Zs(i);r&&e.ti(r)}for(const r of e.js)e.qs(r);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,i){this.ni(e,t,i),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(eT(this.persistenceKey,e));if(i){const r=Sp.Os(e,i);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(eT(this.persistenceKey,e))}updateQueryState(e,t,i){this.ri(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.si(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return L("SharedClientState","READ",e,t),t}setItem(e,t){L("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){L("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(L("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(m(function*(){if(t.started){if(null!==i.key)if(t.Gs.test(i.key)){if(null==i.newValue){const r=t.ai(i.key);return t.ui(r,null)}{const r=t.hi(i.key,i.newValue);if(r)return t.ui(r.clientId,r)}}else if(t.zs.test(i.key)){if(null!==i.newValue){const r=t.li(i.key,i.newValue);if(r)return t.fi(r)}}else if(t.Hs.test(i.key)){if(null!==i.newValue){const r=t.di(i.key,i.newValue);if(r)return t.wi(r)}}else if(i.key===t.Js){if(null!==i.newValue){const r=t.Zs(i.newValue);if(r)return t.ti(r)}}else if(i.key===t.Ws){const r=function(s){let o=er.I;if(null!=s)try{const a=JSON.parse(s);fe("number"==typeof a),o=a}catch(a){Zt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(i.newValue);r!==er.I&&t.sequenceNumberHandler(r)}else if(i.key===t.Ys)return t.syncEngine._i()}else t.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,i){const r=new fv(this.currentUser,e,t,i),s=BW(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Ms())}si(e){const t=BW(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,i){const r=eT(this.persistenceKey,e),s=new Sp(e,t,i);this.setItem(r,s.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const i=this.ai(e);return pv.Os(i,t)}li(e,t){const i=this.zs.exec(e),r=Number(i[1]);return fv.Os(new Gn(void 0!==i[2]?i[2]:null),r,t)}di(e,t){const i=this.Hs.exec(e),r=Number(i[1]);return Sp.Os(r,t)}Zs(e){return tT.Os(e)}fi(e){var t=this;return m(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);L("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const i=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),s=this.ei(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.yi(o,a).then(()=>{this.Ks=i})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=rv();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class UW{constructor(){this.pi=new nT,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,i){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new nT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class t_e{Ei(e){}shutdown(){}}class jW{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const n_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class i_e{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class r_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,i,r,s){const o=this.Ui(e,t);L("RestConnection","Sending: ",o,i);const a={};return this.qi(a,r,s),this.Ki(e,o,a,i).then(l=>(L("RestConnection","Received: ",l),l),l=>{throw op("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",i),l})}ji(e,t,i,r,s){return this.Bi(e,t,i,r,s)}qi(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ku,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}Ui(e,t){return`${this.Fi}/v1/${t}:${n_e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,i,r){return new Promise((s,o)=>{const a=new xme;a.listenOnce(Cme.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case y0.NO_ERROR:const c=a.getResponseJson();L("Connection","XHR received:",JSON.stringify(c)),s(c);break;case y0.TIMEOUT:L("Connection",'RPC "'+e+'" timed out'),o(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case y0.HTTP_ERROR:const u=a.getStatus();if(L("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(d.status);o(new O(h,d.message))}else o(new O(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new O(A.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{L("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(t,"POST",l,i,15)})}Qi(e,t,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bme(),o=wme(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Dme({})),this.qi(a.initMessageHeaders,t,i),PU()||Wy()||Ct().indexOf("Electron/")>=0||bx()||Ct().indexOf("MSAppHost/")>=0||Gy()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");L("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new i_e({Vi:p=>{d?L("Connection","Not sending because WebChannel is closed:",p):(u||(L("Connection","Opening WebChannel transport."),c.open(),u=!0),L("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,y,v)=>{p.listen(y,x=>{try{v(x)}catch(D){setTimeout(()=>{throw D},0)}})};return f(c,W_.EventType.OPEN,()=>{d||L("Connection","WebChannel transport opened.")}),f(c,W_.EventType.CLOSE,()=>{d||(d=!0,L("Connection","WebChannel transport closed"),h.Oi())}),f(c,W_.EventType.ERROR,p=>{d||(d=!0,op("Connection","WebChannel transport errored:",p),h.Oi(new O(A.UNAVAILABLE,"The operation could not be completed")))}),f(c,W_.EventType.MESSAGE,p=>{var y;if(!d){const v=p.data[0];fe(!!v);const x=v,D=x.error||(null===(y=x[0])||void 0===y?void 0:y.error);if(D){L("Connection","WebChannel received error:",D);const N=D.status;let V=function(He){const Ye=nn[He];if(void 0!==Ye)return jG(Ye)}(N),re=D.message;void 0===V&&(V=A.INTERNAL,re="Unknown error status: "+N+" with message "+D.message),d=!0,h.Oi(new O(V,re)),c.close()}else L("Connection","WebChannel received:",v),h.Mi(v)}}),f(o,Eme.STAT_EVENT,p=>{p.stat===sG.PROXY?L("Connection","Detected buffering proxy"):p.stat===sG.NOPROXY&&L("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function HW(){return"undefined"!=typeof window?window:null}function gv(){return"undefined"!=typeof document?document:null}function Ip(n){return new dye(n,!0)}class rT{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Me=e,this.timerId=t,this.Wi=i,this.Gi=r,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class $W{constructor(e,t,i,r,s,o,a,l){this.Me=e,this.nr=i,this.sr=r,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new rT(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return m(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return m(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var i=this;return m(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==e?i.ur.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(Zt(t.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):t&&t.code===A.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===t&&this.Ir(i,r)},i=>{e(()=>{const r=new O(A.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(e,t){const i=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var e=this;this.state=5,this.ur.Zi(m(function*(){e.state=0,e.start()}))}Ar(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s_e extends $W{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.k=s}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:ee(),r=e.targetChange.targetIds||[],s=function(l,c){return l.C?(fe(void 0===c||"string"==typeof c),fn.fromBase64String(c||"")):(fe(void 0===c||c instanceof Uint8Array),fn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?A.UNKNOWN:jG(l.code);return new O(c,l.message||"")}(o);t=new WG(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Rs(n,i.document.name),s=On(i.document.updateTime),o=new ni({mapValue:{fields:i.document.fields}}),a=Tt.newFoundDocument(r,s,o);t=new sv(i.targetIds||[],i.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const i=e.documentDelete,r=Rs(n,i.document),s=i.readTime?On(i.readTime):De.min(),o=Tt.newNoDocument(r,s);t=new sv([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Rs(n,i.document);t=new sv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ee();{const i=e.filter,s=new nye(i.count||0);t=new GG(i.targetId,s)}}var l;return t}(this.k,e),i=function(r){if(!("targetChange"in r))return De.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?De.min():s.readTime?On(s.readTime):De.min()}(e);return this.listener.br(t,i)}Pr(e){const t={};t.database=Cp(this.k),t.addTarget=function(r,s){let o;const a=s.target;return o=Y_(a)?{documents:nW(r,a)}:{query:iW(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=QG(r,s.resumeToken):s.snapshotVersion.compareTo(De.min())>0&&(o.readTime=bp(r,s.snapshotVersion.toTimestamp())),o}(this.k,e);const i=function(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ee()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.gr(t)}vr(e){const t={};t.database=Cp(this.k),t.removeTarget=e,this.gr(t)}}class o_e extends $W{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(fe(void 0!==e),n.map(t=>function(i,r){let s=On(i.updateTime?i.updateTime:r);return s.isEqual(De.min())&&(s=On(r)),new Zme(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=On(e.commitTime);return this.listener.Cr(i,t)}return fe(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Cp(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ov(this.k,i))};this.gr(t)}}class a_e extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.Bi(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new O(A.UNKNOWN,r.toString())})}ji(e,t,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.ji(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new O(A.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class l_e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Zt(t),this.Lr=!1):L("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class c_e{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{i.enqueueAndForget(m(function*(){var l;ma(o)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(c){const u=j(c);u.Gr.add(4),yield md(u),u.Jr.set("Unknown"),u.Gr.delete(4),yield Ap(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.Jr=new l_e(i,r)}}function Ap(n){return sT.apply(this,arguments)}function sT(){return(sT=m(function*(n){if(ma(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function md(n){return oT.apply(this,arguments)}function oT(){return(oT=m(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function mv(n,e){const t=j(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),cT(t)?lT(t):_d(t).lr()&&aT(t,e))}function Tp(n,e){const t=j(n),i=_d(t);t.Wr.delete(e),i.lr()&&GW(t,e),0===t.Wr.size&&(i.lr()?i._r():ma(t)&&t.Jr.set("Unknown"))}function aT(n,e){n.Yr.X(e.targetId),_d(n).Pr(e)}function GW(n,e){n.Yr.X(e),_d(n).vr(e)}function lT(n){n.Yr=new lye({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),_d(n).start(),n.Jr.Br()}function cT(n){return ma(n)&&!_d(n).hr()&&n.Wr.size>0}function ma(n){return 0===j(n).Gr.size}function WW(n){n.Yr=void 0}function u_e(n){return uT.apply(this,arguments)}function uT(){return(uT=m(function*(n){n.Wr.forEach((e,t)=>{aT(n,e)})})).apply(this,arguments)}function d_e(n,e){return dT.apply(this,arguments)}function dT(){return(dT=m(function*(n,e){WW(n),cT(n)?(n.Jr.Kr(e),lT(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function h_e(n,e,t){return hT.apply(this,arguments)}function hT(){return(hT=m(function*(n,e,t){if(n.Jr.set("Online"),e instanceof WG&&2===e.state&&e.cause)try{yield(i=m(function*(r,s){const o=s.cause;for(const a of s.targetIds)r.Wr.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.Wr.delete(a),r.Yr.removeTarget(a))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield yv(n,i)}else if(e instanceof sv?n.Yr.ot(e):e instanceof GG?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(De.min()))try{const i=yield NW(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.Yr.gt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Wr.get(l);c&&r.Wr.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.Wr.get(a);if(!l)return;r.Wr.set(a,l.withResumeToken(fn.EMPTY_BYTE_STRING,l.snapshotVersion)),GW(r,a);const c=new ha(l.target,a,1,l.sequenceNumber);aT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield yv(n,i)}var i})).apply(this,arguments)}function yv(n,e,t){return fT.apply(this,arguments)}function fT(){return(fT=m(function*(n,e,t){if(!jl(e))throw e;n.Gr.add(1),yield md(n),n.Jr.set("Offline"),t||(t=()=>NW(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Ap(n)}))})).apply(this,arguments)}function zW(n,e){return e().catch(t=>yv(n,t,e))}function yd(n){return pT.apply(this,arguments)}function pT(){return(pT=m(function*(n){const e=j(n),t=ya(e);let i=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;f_e(e);)try{const r=yield Gye(e.localStore,i);if(null===r){0===e.Qr.length&&t._r();break}i=r.batchId,p_e(e,r)}catch(r){yield yv(e,r)}qW(e)&&KW(e)})).apply(this,arguments)}function f_e(n){return ma(n)&&n.Qr.length<10}function p_e(n,e){n.Qr.push(e);const t=ya(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function qW(n){return ma(n)&&!ya(n).hr()&&n.Qr.length>0}function KW(n){ya(n).start()}function g_e(n){return gT.apply(this,arguments)}function gT(){return(gT=m(function*(n){ya(n).kr()})).apply(this,arguments)}function m_e(n){return mT.apply(this,arguments)}function mT(){return(mT=m(function*(n){const e=ya(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function y_e(n,e,t){return yT.apply(this,arguments)}function yT(){return(yT=m(function*(n,e,t){const i=n.Qr.shift(),r=F0.from(i,e,t);yield zW(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yd(n)})).apply(this,arguments)}function __e(n,e){return _T.apply(this,arguments)}function _T(){return(_T=m(function*(n,e){var t;e&&ya(n).Sr&&(yield(t=m(function*(i,r){if(UG(s=r.code)&&s!==A.ABORTED){const o=i.Qr.shift();ya(i).wr(),yield zW(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield yd(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),qW(n)&&KW(n)})).apply(this,arguments)}function vT(n,e){return bT.apply(this,arguments)}function bT(){return(bT=m(function*(n,e){const t=j(n);e?(t.Gr.delete(2),yield Ap(t)):e||(t.Gr.add(2),yield md(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function _d(n){return n.Xr||(n.Xr=function(e,t,i){const r=j(e);return r.Or(),new s_e(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:u_e.bind(null,n),Ni:d_e.bind(null,n),br:h_e.bind(null,n)}),n.zr.push(function(){var e=m(function*(t){t?(n.Xr.wr(),cT(n)?lT(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),WW(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function ya(n){return n.Zr||(n.Zr=function(e,t,i){const r=j(e);return r.Or(),new o_e(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:g_e.bind(null,n),Ni:__e.bind(null,n),Nr:m_e.bind(null,n),Cr:y_e.bind(null,n)}),n.zr.push(function(){var e=m(function*(t){t?(n.Zr.wr(),yield yd(n)):(yield n.Zr.stop(),n.Qr.length>0&&(L("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class wT{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new wT(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(n,e){if(Zt("AsyncQueue",`${e}: ${n}`),jl(n))return new O(A.UNAVAILABLE,`${e}: ${n}`);throw n}class bd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||J.comparator(t.key,i.key):(t,i)=>J.comparator(t.key,i.key),this.keyedMap=k0(),this.sortedSet=new pn(this.comparator)}static emptySet(e){return new bd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class QW{constructor(){this.eo=new pn(J.comparator)}track(e){const t=e.doc.key,i=this.eo.get(t);i?0!==e.type&&3===i.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==i.type?this.eo=this.eo.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.eo=this.eo.remove(t):1===e.type&&2===i.type?this.eo=this.eo.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):ee():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,i)=>{e.push(i)}),e}}class wd{constructor(e,t,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new wd(e,t,bd.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class v_e{constructor(){this.so=void 0,this.listeners=[]}}class b_e{constructor(){this.queries=new fd(e=>xG(e),fp),this.onlineState="Unknown",this.io=new Set}}function CT(n,e){return ET.apply(this,arguments)}function ET(){return(ET=m(function*(n,e){const t=j(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new v_e),r)try{s.so=yield t.onListen(i)}catch(o){const a=vd(o,`Initialization of query '${A0(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.listeners.push(e),e.ro(t.onlineState),s.so&&e.oo(s.so)&&ST(t)})).apply(this,arguments)}function DT(n,e){return xT.apply(this,arguments)}function xT(){return(xT=m(function*(n,e){const t=j(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)})).apply(this,arguments)}function w_e(n,e){const t=j(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const a of o.listeners)a.oo(r)&&(i=!0);o.so=r}}i&&ST(t)}function C_e(n,e,t){const i=j(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function ST(n){n.io.forEach(e=>{e.next()})}class IT{constructor(e,t,i){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new wd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class E_e{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class YW{constructor(e){this.k=e}Hn(e){return Rs(this.k,e)}Jn(e){return e.metadata.exists?eW(this.k,e.document,!1):Tt.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return On(e)}}class D_e{constructor(e,t,i){this.mo=e,this.localStore=t,this.k=i,this.queries=[],this.documents=[],this.progress=JW(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,i=new YW(this.k);for(const r of e)if(r.metadata.queries){const s=i.Hn(r.metadata.name);for(const o of r.metadata.queries){const a=(t.get(o)||ut()).add(s);t.set(o,a)}}return t}complete(){var e=this;return m(function*(){const t=yield function(n,e,t,i){return Y0.apply(this,arguments)}(e.localStore,new YW(e.k),e.documents,e.mo.id),i=e.po(e.documents);for(const r of e.queries)yield qye(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",new Uye(Object.assign({},e.progress),t)})()}}function JW(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XW{constructor(e){this.key=e}}class ZW{constructor(e){this.key=e}}class ez{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=ut(),this.mutatedKeys=ut(),this.Ao=SG(e),this.Ro=new bd(this.Ao)}get bo(){return this.To}Po(e,t){const i=t?t.vo:new QW,r=t?t.Ro:this.Ro;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=X_(this.query)&&r.size===this.query.limit?r.last():null,c=Z_(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=pp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),y=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;h&&f?h.data.isEqual(f.data)?p!==y&&(i.track({type:3,doc:f}),v=!0):this.Vo(h,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.Ao(f,l)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),v=!0):h&&!f&&(i.track({type:1,doc:h}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),X_(this.query)||Z_(this.query))for(;o.size>this.query.limit;){const u=X_(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ro:o,vo:i,Bn:a,mutatedKeys:s}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return f(d)-f(h)}(c.type,u.type)||this.Ao(c.doc,u.doc)),this.So(i);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,l=a!==this.Eo;return this.Eo=a,0!==s.length||l?{snapshot:new wd(this.query,e.Ro,r,s,e.mutatedKeys,0===a,l,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new QW,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=ut(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const t=[];return e.forEach(i=>{this.Io.has(i)||t.push(new ZW(i))}),this.Io.forEach(i=>{e.has(i)||t.push(new XW(i))}),t}ko(e){this.To=e.zn,this.Io=ut();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return wd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class x_e{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class S_e{constructor(e){this.key=e,this.$o=!1}}class I_e{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new fd(a=>xG(a),fp),this.Fo=new Map,this.Lo=new Set,this.Bo=new pn(J.comparator),this.Uo=new Map,this.qo=new X0,this.Ko={},this.jo=new Map,this.Qo=$l.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function A_e(n,e){return AT.apply(this,arguments)}function AT(){return(AT=m(function*(n,e){const t=JT(n);let i,r;const s=t.Mo.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.xo();else{const o=yield pd(t.localStore,Sr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield TT(t,e,i,"current"===a),t.isPrimaryClient&&mv(t.remoteStore,o)}return r})).apply(this,arguments)}function TT(n,e,t,i){return MT.apply(this,arguments)}function MT(){return(MT=m(function*(n,e,t,i){n.Go=(u,d,h)=>{return(f=m(function*(p,y,v,x){let D=y.view.Po(v);D.Bn&&(D=yield hv(p.localStore,y.query,!1).then(({documents:re})=>y.view.Po(re,D)));const N=x&&x.targetChanges.get(y.targetId),V=y.view.applyChanges(D,p.isPrimaryClient,N);return UT(p,y.targetId,V.Co),V.snapshot}),function(p,y,v,x){return f.apply(this,arguments)})(n,u,d,h);var f};const r=yield hv(n.localStore,e,!0),s=new ez(e,r.zn),o=s.Po(r.documents),a=vp.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),l=s.applyChanges(o,n.isPrimaryClient,a);UT(n,t,l.Co);const c=new x_e(e,t,s);return n.Mo.set(e,c),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),l.snapshot})).apply(this,arguments)}function T_e(n,e){return kT.apply(this,arguments)}function kT(){return(kT=m(function*(n,e){const t=j(n),i=t.Mo.get(e),r=t.Fo.get(i.targetId);if(r.length>1)return t.Fo.set(i.targetId,r.filter(s=>!fp(s,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gd(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Tp(t.remoteStore,i.targetId),Cd(t,i.targetId)}).catch(Gl))):(Cd(t,i.targetId),yield gd(t.localStore,i.targetId,!0))})).apply(this,arguments)}function RT(){return(RT=m(function*(n,e,t){const i=XT(n);try{const r=yield function(s,o){const a=j(s),l=Rn.now(),c=o.reduce((d,h)=>d.add(h.key),ut());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{u=h;const f=[];for(const p of o){const y=tye(p,u.get(p.key));null!=y&&f.push(new ua(p.key,y,_G(y.value.mapValue),tn.exists(!0)))}return a.An.addMutationBatch(d,l,f,o)})).then(d=>(d.applyToLocalDocumentSet(u),{batchId:d.batchId,changes:u}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.Ko[s.currentUser.toKey()];l||(l=new pn(je)),l=l.insert(o,a),s.Ko[s.currentUser.toKey()]=l}(i,r.batchId,t),yield vo(i,r.changes),yield yd(i.remoteStore)}catch(r){const s=vd(r,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function tz(n,e){return OT.apply(this,arguments)}function OT(){return(OT=m(function*(n,e){const t=j(n);try{const i=yield $ye(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Uo.get(s);o&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.$o=!0:r.modifiedDocuments.size>0?fe(o.$o):r.removedDocuments.size>0&&(fe(o.$o),o.$o=!1))}),yield vo(t,i,e)}catch(i){yield Gl(i)}})).apply(this,arguments)}function nz(n,e,t){const i=j(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Mo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=j(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.ro(o)&&(l=!0)}),l&&ST(a)}(i.eventManager,e),r.length&&i.Oo.br(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function k_e(n,e,t){return NT.apply(this,arguments)}function NT(){return(NT=m(function*(n,e,t){const i=j(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Uo.get(e),s=r&&r.key;if(s){let o=new pn(J.comparator);o=o.insert(s,Tt.newNoDocument(s,De.min()));const a=ut().add(s),l=new _p(De.min(),new Map,new jt(je),o,a);yield tz(i,l),i.Bo=i.Bo.remove(s),i.Uo.delete(e),jT(i)}else yield gd(i.localStore,e,!1).then(()=>Cd(i,e,t)).catch(Gl)})).apply(this,arguments)}function R_e(n,e){return PT.apply(this,arguments)}function PT(){return(PT=m(function*(n,e){const t=j(n),i=e.batch.batchId;try{const r=yield Hye(t.localStore,e);BT(t,i,null),VT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield vo(t,r)}catch(r){yield Gl(r)}})).apply(this,arguments)}function O_e(n,e,t){return FT.apply(this,arguments)}function FT(){return(FT=m(function*(n,e,t){const i=j(n);try{const r=yield function(s,o){const a=j(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.An.lookupMutationBatch(l,o).next(u=>(fe(null!==u),c=u.keys(),a.An.removeMutationBatch(l,u))).next(()=>a.An.performConsistencyCheck(l)).next(()=>a.Wn.vn(l,c))})}(i.localStore,e);BT(i,e,t),VT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield vo(i,r)}catch(r){yield Gl(r)}})).apply(this,arguments)}function LT(){return(LT=m(function*(n,e){const t=j(n);ma(t.remoteStore)||L("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const o=j(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.An.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===i)return void e.resolve();const r=t.jo.get(i)||[];r.push(e),t.jo.set(i,r)}catch(i){const r=vd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})).apply(this,arguments)}function VT(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function BT(n,e,t){const i=j(n);let r=i.Ko[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ko[i.currentUser.toKey()]=r}}function Cd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Fo.get(e))n.Mo.delete(i),t&&n.Oo.zo(i,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(i=>{n.qo.containsKey(i)||iz(n,i)})}function iz(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Tp(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),jT(n))}function UT(n,e,t){for(const i of t)i instanceof XW?(n.qo.addReference(i.key,e),P_e(n,i)):i instanceof ZW?(L("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,e),n.qo.containsKey(i.key)||iz(n,i.key)):ee()}function P_e(n,e){const t=e.key,i=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(i)||(L("SyncEngine","New document in limbo: "+t),n.Lo.add(i),jT(n))}function jT(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new J(at.fromString(e)),i=n.Qo.next();n.Uo.set(i,new S_e(t)),n.Bo=n.Bo.insert(t,i),mv(n.remoteStore,new ha(Sr(ed(t.path)),i,2,er.I))}}function vo(n,e,t){return HT.apply(this,arguments)}function HT(){return(HT=m(function*(n,e,t){const i=j(n),r=[],s=[],o=[];var a;i.Mo.isEmpty()||(i.Mo.forEach((a,l)=>{o.push(i.Go(l,e,t).then(c=>{if(c){i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=z0.$n(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Oo.br(r),yield(a=m(function*(l,c){const u=j(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(c,h=>k.forEach(h.kn,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>k.forEach(h.xn,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!jl(d))throw d;L("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qn.get(h),y=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qn=u.qn.insert(h,y)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,s))})).apply(this,arguments)}function F_e(n,e){return $T.apply(this,arguments)}function $T(){return($T=m(function*(n,e){const t=j(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const i=yield OW(t.localStore,e);t.currentUser=e,(r=t).jo.forEach(o=>{o.forEach(a=>{a.reject(new O(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield vo(t,i.Gn)}var r})).apply(this,arguments)}function L_e(n,e){const t=j(n),i=t.Uo.get(e);if(i&&i.$o)return ut().add(i.key);{let r=ut();const s=t.Fo.get(e);if(!s)return r;for(const o of s){const a=t.Mo.get(o);r=r.unionWith(a.view.bo)}return r}}function V_e(n,e){return GT.apply(this,arguments)}function GT(){return(GT=m(function*(n,e){const t=j(n),i=yield hv(t.localStore,e.query,!0),r=e.view.ko(i);return t.isPrimaryClient&&UT(t,e.targetId,r.Co),r})).apply(this,arguments)}function B_e(n){return WT.apply(this,arguments)}function WT(){return(WT=m(function*(n){const e=j(n);return LW(e.localStore).then(t=>vo(e,t))})).apply(this,arguments)}function U_e(n,e,t,i){return zT.apply(this,arguments)}function zT(){return(zT=m(function*(n,e,t,i){const r=j(n),s=yield function(o,a){const l=j(o),c=j(l.An);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Zt(u,a).next(d=>d?l.Wn.vn(u,d):k.resolve(null)))}(r.localStore,e);var a;null!==s?("pending"===t?yield yd(r.remoteStore):"acknowledged"===t||"rejected"===t?(BT(r,e,i||null),VT(r,e),a=e,j(j(r.localStore).An).ee(a)):ee(),yield vo(r,s)):L("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function qT(){return(qT=m(function*(n,e){const t=j(n);if(JT(t),XT(t),!0===e&&!0!==t.Wo){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield rz(t,i.toArray());t.Wo=!0,yield vT(t.remoteStore,!0);for(const s of r)mv(t.remoteStore,s)}else if(!1===e&&!1!==t.Wo){const i=[];let r=Promise.resolve();t.Fo.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Cd(t,o),gd(t.localStore,o,!0))),Tp(t.remoteStore,o)}),yield r,yield rz(t,i),function(s){const o=j(s);o.Uo.forEach((a,l)=>{Tp(o.remoteStore,l)}),o.qo.hs(),o.Uo=new Map,o.Bo=new pn(J.comparator)}(t),t.Wo=!1,yield vT(t.remoteStore,!1)}})).apply(this,arguments)}function rz(n,e,t){return KT.apply(this,arguments)}function KT(){return(KT=m(function*(n,e,t){const i=j(n),r=[],s=[];for(const o of e){let a;const l=i.Fo.get(o);if(l&&0!==l.length){a=yield pd(i.localStore,Sr(l[0]));for(const c of l){const u=i.Mo.get(c),d=yield V_e(i,u);d.snapshot&&s.push(d.snapshot)}}else{const c=yield FW(i.localStore,o);a=yield pd(i.localStore,c),yield TT(i,sz(c),o,!1)}r.push(a)}return i.Oo.br(s),r})).apply(this,arguments)}function sz(n){return EG(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function H_e(n){const e=j(n);return j(j(e.localStore).persistence).Tn()}function $_e(n,e,t,i){return QT.apply(this,arguments)}function QT(){return(QT=m(function*(n,e,t,i){const r=j(n);if(r.Wo)L("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(e))switch(t){case"current":case"not-current":{const s=yield LW(r.localStore),o=_p.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield vo(r,s,o);break}case"rejected":yield gd(r.localStore,e,!0),Cd(r,e,i);break;default:ee()}})).apply(this,arguments)}function G_e(n,e,t){return YT.apply(this,arguments)}function YT(){return(YT=m(function*(n,e,t){const i=JT(n);if(i.Wo){for(const r of e){if(i.Fo.has(r)){L("SyncEngine","Adding an already active target "+r);continue}const s=yield FW(i.localStore,r),o=yield pd(i.localStore,s);yield TT(i,sz(s),o.targetId,!1),mv(i.remoteStore,o)}for(const r of t)i.Fo.has(r)&&(yield gd(i.localStore,r,!1).then(()=>{Tp(i.remoteStore,r),Cd(i,r)}).catch(Gl))}})).apply(this,arguments)}function JT(n){const e=j(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k_e.bind(null,e),e.Oo.br=w_e.bind(null,e.eventManager),e.Oo.zo=C_e.bind(null,e.eventManager),e}function XT(n){const e=j(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O_e.bind(null,e),e}class oz{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.k=Ip(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return RW(this.persistence,new kW,e.initialUser,this.k)}Yo(e){return new Zye(Z0.ks,this.k)}Jo(e){return new UW}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class az extends oz{constructor(e,t,i){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return m(function*(){yield t().call(i,e),yield function(n){return Q0.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,e),yield XT(i.tc.syncEngine),yield yd(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(e){return RW(this.persistence,new kW,e.initialUser,this.k)}Xo(e){return new Nye(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=W0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new G0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,HW(),gv(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new UW}}class z_e extends az{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return m(function*(){yield t().call(i,e);const r=i.tc.syncEngine;i.sharedClientState instanceof iT&&(i.sharedClientState.syncEngine={mi:U_e.bind(null,r),gi:$_e.bind(null,r),yi:G_e.bind(null,r),Tn:H_e.bind(null,r),_i:B_e.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var s=m(function*(o){yield function(n,e){return qT.apply(this,arguments)}(i.tc.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):o||i.gcScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}Jo(e){const t=HW();if(!iT.Pt(t))throw new O(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=W0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ZT{initialize(e,t){var i=this;return m(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=F_e.bind(null,i.syncEngine),yield vT(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new b_e}createDatastore(e){const t=Ip(e.databaseInfo.databaseId),i=new r_e(e.databaseInfo);return new a_e(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>nz(this.syncEngine,a,0),o=jW.Pt()?new jW:new t_e,new c_e(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,a,l,c){const u=new I_e(i,r,s,o,a,l);return c&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=m(function*(t){const i=j(t);L("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield md(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function lz(n,e=10240){let t=0;return{read:()=>m(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>m(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class q_e{constructor(e,t){this.sc=e,this.k=t,this.metadata=new kn,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var e=this;return m(function*(){return e.metadata.promise})()}Ho(){var e=this;return m(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return m(function*(){const t=yield e.oc();if(null===t)return null;const i=e.ic.decode(t),r=Number(i);isNaN(r)&&e.cc(`length string (${i}) is not valid number`);const s=yield e.ac(r);return new E_e(JSON.parse(s),t.length+r)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return m(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}ac(e){var t=this;return m(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const i=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return m(function*(){const t=yield e.sc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class K_e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return m(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new O(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=m(function*(s,o){const a=j(s),l=Cp(a.k)+"/documents",c={documents:o.map(f=>wp(a.k,f))},u=yield a.ji("BatchGetDocuments",l,c),d=new Map;u.forEach(f=>{const p=function(n,e){return"found"in e?function(t,i){fe(!!i.found);const r=Rs(t,i.found.name),s=On(i.found.updateTime),o=new ni({mapValue:{fields:i.found.fields}});return Tt.newFoundDocument(r,s,o)}(n,e):"missing"in e?function(t,i){fe(!!i.missing),fe(!!i.readTime);const r=Rs(t,i.missing),s=On(i.readTime);return Tt.newNoDocument(r,s)}(n,e):ee()}(a.k,f);d.set(p.key.toString(),p)});const h=[];return o.forEach(f=>{const p=d.get(f.toString());fe(!!p),h.push(p)}),h}),function(s,o){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new yp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return m(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=J.fromPath(r);e.mutations.push(new M0(s,e.precondition(s)))}),yield(i=m(function*(r,s){const o=j(r),a=Cp(o.k)+"/documents",l={writes:s.map(c=>ov(o.k,c))};yield o.Bi("Commit",a,l)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ee();t=De.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new O(A.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tn.updateTime(t):tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(De.min()))throw new O(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(t)}return tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Q_e{constructor(e,t,i,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new rT(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi(m(function*(){const t=new K_e(e.datastore),i=e.dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.wc(s)}))}).catch(r=>{e.wc(r)})}))}dc(e){try{const t=this.updateFunction(e);return!Fl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!UG(t)}return!1}}class Y_e{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Gn.UNAUTHENTICATED,this.clientId=cG.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=m(function*(a){L("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=vd(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function cz(n,e){return eM.apply(this,arguments)}function eM(){return(eM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=m(function*(s){i.isEqual(s)||(yield OW(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function uz(n,e){return tM.apply(this,arguments)}function tM(){return(tM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nM(n);L("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>{return(s=m(function*(o,a){const l=j(o);l.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const c=ma(l);l.Gr.add(3),yield md(l),c&&l.Jr.set("Unknown"),yield l.remoteSyncer.handleCredentialChange(a),l.Gr.delete(3),yield Ap(l)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,r);var s}),n.onlineComponents=e})).apply(this,arguments)}function nM(n){return iM.apply(this,arguments)}function iM(){return(iM=m(function*(n){return n.offlineComponents||(L("FirestoreClient","Using default OfflineComponentProvider"),yield cz(n,new oz)),n.offlineComponents})).apply(this,arguments)}function vv(n){return rM.apply(this,arguments)}function rM(){return(rM=m(function*(n){return n.onlineComponents||(L("FirestoreClient","Using default OnlineComponentProvider"),yield uz(n,new ZT)),n.onlineComponents})).apply(this,arguments)}function dz(n){return nM(n).then(e=>e.persistence)}function sM(n){return nM(n).then(e=>e.localStore)}function hz(n){return vv(n).then(e=>e.remoteStore)}function oM(n){return vv(n).then(e=>e.syncEngine)}function Ed(n){return aM.apply(this,arguments)}function aM(){return(aM=m(function*(n){const e=yield vv(n),t=e.eventManager;return t.onListen=A_e.bind(null,e.syncEngine),t.onUnlisten=T_e.bind(null,e.syncEngine),t})).apply(this,arguments)}function fz(n,e,t={}){const i=new kn;return n.asyncQueue.enqueueAndForget(m(function*(){return function(r,s,o,a,l){const c=new _v({next:d=>{s.enqueueAndForget(()=>DT(r,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new O(A.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new O(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new IT(ed(o.path),c,{includeMetadataChanges:!0,wo:!0});return CT(r,u)}(yield Ed(n),n.asyncQueue,e,t,i)})),i.promise}function pz(n,e,t={}){const i=new kn;return n.asyncQueue.enqueueAndForget(m(function*(){return function(r,s,o,a,l){const c=new _v({next:d=>{s.enqueueAndForget(()=>DT(r,u)),d.fromCache&&"server"===a.source?l.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new IT(o,c,{includeMetadataChanges:!0,wo:!0});return CT(r,u)}(yield Ed(n),n.asyncQueue,e,t,i)})),i.promise}class sve{constructor(e,t,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Dd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}const gz=new Map;function lM(n,e,t){if(!t)throw new O(A.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mz(n,e,t,i){if(!0===e&&!0===i)throw new O(A.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yz(n){if(!J.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _z(n){if(J.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ee()}function Qe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(n);throw new O(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vz(n,e){if(e<=0)throw new O(A.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class bz{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mp{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bz({}),this._settingsFrozen=!1,e instanceof Dd?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(r.options.projectId)}(e))}get app(){if(!this._app)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ame;switch(t.type){case"gapi":const i=t.client;return fe(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Rme(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new O(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gz.get(e);t&&(L("ComponentProvider","Removing Datastore"),gz.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class ri{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class Ns extends ri{constructor(e,t,i){super(e,t,ed(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new J(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function wz(n,e,...t){if(n=ie(n),lM("collection","path",e),n instanceof Mp){const i=at.fromString(e,...t);return _z(i),new Ns(n,null,i)}{if(!(n instanceof Dt||n instanceof Ns))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(at.fromString(e,...t));return _z(i),new Ns(n.firestore,null,i)}}function wv(n,e,...t){if(n=ie(n),1===arguments.length&&(e=cG.A()),lM("doc","path",e),n instanceof Mp){const i=at.fromString(e,...t);return yz(i),new Dt(n,null,new J(i))}{if(!(n instanceof Dt||n instanceof Ns))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(at.fromString(e,...t));return yz(i),new Dt(n.firestore,n instanceof Ns?n.converter:null,new J(i))}}function Cz(n,e){return n=ie(n),e=ie(e),(n instanceof Dt||n instanceof Ns)&&(e instanceof Dt||e instanceof Ns)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ez(n,e){return n=ie(n),e=ie(e),n instanceof ri&&e instanceof ri&&n.firestore===e.firestore&&fp(n._query,e._query)&&n.converter===e.converter}class lve{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new rT(this,"async_queue_retry"),this.bc=()=>{const t=gv();t&&L("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=gv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=gv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new kn;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return m(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!jl(t))throw t;L("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(i=>{throw this.Ec=i,this.Ic=!1,Zt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=t,t}enqueueAfterDelay(e,t,i){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=wT.createAndSchedule(this,e,t,i,s=>this.Sc(s));return this.Tc.push(r),r}Pc(){this.Ec&&ee()}verifyOperationInProgress(){}Dc(){var e=this;return m(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function cM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class cve{constructor(){this._progressObserver={},this._taskCompletionResolver=new kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ot extends Mp{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new lve,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Dz(this),this._firestoreClient.terminate()}}function gn(n){return n._firestoreClient||Dz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Dz(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sve(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new Y_e(n._authCredentials,n._appCheckCredentials,n._queue,i)}function xz(n,e,t){const i=new kn;return n.asyncQueue.enqueue(m(function*(){try{yield cz(n,t),yield uz(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===A.FAILED_PRECONDITION||s.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function Sz(n){if(n._initialized||n._terminated)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(fn.fromBase64String(e))}catch(t){throw new O(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wl{constructor(e){this._methodName=e}}class Cv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}const vve=/^__.*__$/;class bve{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new mp(e,this.data,t,this.fieldTransforms)}}class Iz{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Az(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Ev{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.k=i,this.ignoreUndefinedProperties=r,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.Lc(e),r}Bc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return xv(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Az(this.$c)&&vve.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class wve{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=i||Ip(e)}Qc(e,t,i,r=!1){return new Ev({$c:e,methodName:t,jc:i,path:Wn.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function zl(n){const e=n._freezeSettings(),t=Ip(n._databaseId);return new wve(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dv(n,e,t,i,r,s={}){const o=n.Qc(s.merge||s.mergeFields?2:0,e,t,r);fM("Data must be an object, but it was:",o,i);const a=kz(i,o);let l,c;if(s.merge)l=new Yu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=pM(e,d,t);if(!o.contains(h))throw new O(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Oz(u,h)||u.push(h)}l=new Yu(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new bve(new ni(a),l,c)}class kp extends Wl{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kp}}function Tz(n,e,t){return new Ev({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class uM extends Wl{_toFieldTransform(e){return new gp(e.path,new nd)}isEqual(e){return e instanceof uM}}class Cve extends Wl{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Tz(this,e,!0),i=this.Wc.map(s=>ql(s,t)),r=new Vl(i);return new gp(e.path,r)}isEqual(e){return this===e}}class Eve extends Wl{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Tz(this,e,!0),i=this.Wc.map(s=>ql(s,t)),r=new Bl(i);return new gp(e.path,r)}isEqual(e){return this===e}}class Dve extends Wl{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new id(e.k,TG(e.k,this.Gc));return new gp(e.path,t)}isEqual(e){return this===e}}function dM(n,e,t,i){const r=n.Qc(1,e,t);fM("Data must be an object, but it was:",r,i);const s=[],o=ni.empty();Pl(i,(l,c)=>{const u=gM(e,l,t);c=ie(c);const d=r.Bc(u);if(c instanceof kp)s.push(u);else{const h=ql(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Yu(s);return new Iz(o,a,r.fieldTransforms)}function hM(n,e,t,i,r,s){const o=n.Qc(1,e,t),a=[pM(e,i,t)],l=[r];if(s.length%2!=0)throw new O(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(pM(e,s[h])),l.push(s[h+1]);const c=[],u=ni.empty();for(let h=a.length-1;h>=0;--h)if(!Oz(c,a[h])){const f=a[h];let p=l[h];p=ie(p);const y=o.Bc(f);if(p instanceof kp)c.push(f);else{const v=ql(p,y);null!=v&&(c.push(f),u.set(f,v))}}const d=new Yu(c);return new Iz(u,d,o.fieldTransforms)}function Mz(n,e,t,i=!1){return ql(t,n.Qc(i?4:3,e))}function ql(n,e){if(Rz(n=ie(n)))return fM("Unsupported field value:",e,n),kz(n,e);if(n instanceof Wl)return function(t,i){if(!Az(i.$c))throw i.qc(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let a=ql(o,i.Uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=ie(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return TG(i.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Rn.fromDate(t);return{timestampValue:bp(i.k,r)}}if(t instanceof Rn){const r=new Rn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bp(i.k,r)}}if(t instanceof Cv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ps)return{bytesValue:QG(i.k,t._byteString)};if(t instanceof Dt){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:R0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.qc(`Unsupported field value: ${bv(t)}`)}(n,e)}function kz(n,e){const t={};return hG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(n,(i,r)=>{const s=ql(r,e.Mc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function Rz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof Cv||n instanceof Ps||n instanceof Dt||n instanceof Wl)}function fM(n,e,t){if(!Rz(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bv(t);throw e.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function pM(n,e,t){if((e=ie(e))instanceof bo)return e._internalPath;if("string"==typeof e)return gM(n,e);throw xv("Field path arguments must be of type string or ",n,!1,void 0,t)}const xve=new RegExp("[~\\*/\\[\\]]");function gM(n,e,t){if(e.search(xve)>=0)throw xv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bo(...e.split("."))._internalPath}catch(i){throw xv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xv(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new O(A.INVALID_ARGUMENT,a+n+l)}function Oz(n,e){return n.some(t=>t.isEqual(e))}class Rp{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sve extends Rp{data(){return super.data()}}function Sv(n,e){return"string"==typeof e?gM(n,e):e instanceof bo?e._internalPath:e._delegate._internalPath}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends Rp{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Sv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Op extends wo{data(e={}){return super.data(e)}}class _a{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Op(this._firestore,this._userDataWriter,i.key,i,new Kl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new Op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const a=new Op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Kl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Ive(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ive(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function Nz(n,e){return n instanceof wo&&e instanceof wo?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _a&&e instanceof _a&&n._firestore===e._firestore&&Ez(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Pz(n){if(Z_(n)&&0===n.explicitOrderBy.length)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}function va(n,...e){for(const t of e)n=t._apply(n);return n}class Ave extends Np{constructor(e,t,i){super(),this.zc=e,this.Hc=t,this.Jc=i,this.type="where"}_apply(e){const t=zl(e.firestore),i=function(r,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new O(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){jz(u,c);const f=[];for(const p of u)f.push(Uz(a,r,p));d={arrayValue:{values:f}}}else d=Uz(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||jz(u,c),d=Mz(o,"where",u,"in"===c||"not-in"===c);const h=bi.create(l,c,d);return function(f,p){if(p.V()){const v=S0(f);if(null!==v&&!v.isEqual(p.field))throw new O(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${v.toString()}' and '${p.field.toString()}'`);const x=x0(f);null!==x&&Hz(0,p.field,x)}const y=function(v,x){for(const D of v.filters)if(x.indexOf(D.op)>=0)return D.op;return null}(f,function(v){switch(v){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==y)throw new O(A.INVALID_ARGUMENT,y===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${y.toString()}' filters.`)}(r,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ri(e.firestore,e.converter,function(r,s){const o=r.filters.concat([s]);return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),o,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Mve extends Np{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Zu(r,s);return function(a,l){if(null===x0(a)){const c=S0(a);null!==c&&Hz(0,c,l.field)}}(i,o),o}(e._query,this.zc,this.Yc);return new ri(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new mo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Fz extends Np{constructor(e,t,i){super(),this.type=e,this.Xc=t,this.Zc=i}_apply(e){return new ri(e.firestore,e.converter,DG(e._query,this.Xc,this.Zc))}}class Lz extends Np{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=Bz(e,this.type,this.ta,this.ea);return new ri(e.firestore,e.converter,(r=t,new mo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Vz extends Np{constructor(e,t,i){super(),this.type=e,this.ta=t,this.ea=i}_apply(e){const t=Bz(e,this.type,this.ta,this.ea);return new ri(e.firestore,e.converter,(r=t,new mo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Bz(n,e,t,i){if(t[0]=ie(t[0]),t[0]instanceof Rp)return function(r,s,o,a,l){if(!a)throw new O(A.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of td(r))if(u.field.isKeyField())c.push(q_(s,a.key));else{const d=a.data.field(u.field);if(b0(d))throw new O(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=u.field.canonicalString();throw new O(A.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new hp(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=zl(n.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new O(A.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if("string"!=typeof p)throw new O(A.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!I0(s)&&-1!==p.indexOf("/"))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const y=s.path.child(at.fromString(p));if(!J.isDocumentKey(y))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new J(y);h.push(q_(o,v))}else{const y=Mz(a,l,p);h.push(y)}}return new hp(h,u)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Uz(n,e,t){if("string"==typeof(t=ie(t))){if(""===t)throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I0(e)&&-1!==t.indexOf("/"))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(at.fromString(t));if(!J.isDocumentKey(i))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return q_(n,new J(i))}if(t instanceof Dt)return q_(n,t._key);throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bv(t)}.`)}function jz(n,e){if(!Array.isArray(n)||0===n.length)throw new O(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new O(A.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hz(n,e,t){if(!t.isEqual(e))throw new O(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mM{convertValue(e,t="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ee()}}convertObject(e,t){const i={};return Pl(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Cv(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fG(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lp(e));default:return null}}convertTimestamp(e){const t=ca(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=at.fromString(e);fe(lW(i));const r=new Dd(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(t)||Zt(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Iv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Vve extends mM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}class $z{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=zl(e)}set(e,t,i){this._verifyNotCommitted();const r=ba(e,this._firestore),s=Iv(r.converter,t,i),o=Dv(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,tn.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=ba(e,this._firestore);let o;return o="string"==typeof(t=ie(t))||t instanceof bo?hM(this._dataReader,"WriteBatch.update",s._key,t,i,r):dM(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ba(e,this._firestore);return this._mutations=this._mutations.concat(new yp(t._key,tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ba(n,e){if((n=ie(n)).firestore!==e)throw new O(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ql extends mM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Gz(n,e,t){n=Qe(n,Dt);const i=Qe(n.firestore,Ot),r=Iv(n.converter,e,t);return xd(i,[Dv(zl(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,tn.none())])}function Wz(n,e,t,...i){n=Qe(n,Dt);const r=Qe(n.firestore,Ot),s=zl(r);let o;return o="string"==typeof(e=ie(e))||e instanceof bo?hM(s,"updateDoc",n._key,e,t,i):dM(s,"updateDoc",n._key,e),xd(r,[o.toMutation(n._key,tn.exists(!0))])}function zz(n,...e){var t,i,r;n=ie(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||cM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(cM(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[o+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Dt)c=Qe(n.firestore,Ot),u=ed(n._key.path),l={next:d=>{e[o]&&e[o](yM(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Qe(n,ri);c=Qe(d.firestore,Ot),u=d._query;const h=new Ql(c);l={next:f=>{e[o]&&e[o](new _a(c,h,d,f))},error:e[o+1],complete:e[o+2]},Pz(n._query)}return function(d,h,f,p){const y=new _v(p),v=new IT(h,y,f);return d.asyncQueue.enqueueAndForget(m(function*(){return CT(yield Ed(d),v)})),()=>{y.nc(),d.asyncQueue.enqueueAndForget(m(function*(){return DT(yield Ed(d),v)}))}}(gn(c),u,a,l)}function xd(n,e){return function(t,i){const r=new kn;return t.asyncQueue.enqueueAndForget(m(function*(){return function(n,e,t){return RT.apply(this,arguments)}(yield oM(t),i,r)})),r.promise}(gn(n),e)}function yM(n,e,t){const i=t.docs.get(e._key),r=new Ql(n);return new wo(n,r,e._key,i,new Kl(t.hasPendingWrites,t.fromCache),e.converter)}class Kve extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=zl(e)}get(e){const t=ba(e,this._firestore),i=new Vve(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ee();const s=r[0];if(s.isFoundDocument())return new Rp(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Rp(this._firestore,i,t._key,null,t.converter);throw ee()})}set(e,t,i){const r=ba(e,this._firestore),s=Iv(r.converter,t,i),o=Dv(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,o),this}update(e,t,i,...r){const s=ba(e,this._firestore);let o;return o="string"==typeof(t=ie(t))||t instanceof bo?hM(this._dataReader,"Transaction.update",s._key,t,i,r):dM(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=ba(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ba(e,this._firestore),i=new Ql(this._firestore);return super.get(e).then(r=>new wo(this._firestore,i,t._key,r._document,new Kl(!1,!1),t.converter))}}function _M(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new O("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function qz(){if("undefined"==typeof Uint8Array)throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function Kz(){if("undefined"==typeof atob)throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ku=bl,ts(new Qi("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Ot(r,new Mme(t.getProvider("auth-internal")),new Ome(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),Ii(oG,"3.4.3",n),Ii(oG,"3.4.3","esm2017")}();class Pp{constructor(e){this._delegate=e}static fromBase64String(e){return Kz(),new Pp(Ps.fromBase64String(e))}static fromUint8Array(e){return qz(),new Pp(Ps.fromUint8Array(e))}toBase64(){return Kz(),this._delegate.toBase64()}toUint8Array(){return qz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of["next","error","complete"])if(i in t&&"function"==typeof t[i])return!0;return!1}(n)}class rbe{enableIndexedDbPersistence(e,t){return function(n,e){Sz(n=Qe(n,Ot));const t=gn(n),i=n._freezeSettings(),r=new ZT;return xz(t,r,new az(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){Sz(n=Qe(n,Ot));const e=gn(n),t=n._freezeSettings(),i=new ZT;return xz(e,i,new z_e(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new O(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kn;return n._queue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{yield(t=m(function*(i){if(!rs.Pt())return Promise.resolve();const r=i+"main";yield rs.delete(r)}),function(i){return t.apply(this,arguments)})(W0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Qz{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&op("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function(n,e,t,i={}){var r;const s=(n=Qe(n,Mp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&op("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let o,a;if("string"==typeof i.mockUserToken)o=i.mockUserToken,a=Gn.MOCK_USER;else{o=function(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[NU(JSON.stringify({alg:"none",type:"JWT"})),NU(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new O(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Gn(l)}n._authCredentials=new Tme(new aG(o,a))}}(this._delegate,e,t,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(m(function*(){const e=yield dz(n),t=yield hz(n);return e.setNetworkEnabled(!0),function(i){const r=j(i);return r.Gr.delete(0),Ap(r)}(t)}))}(gn(n=Qe(n,Ot)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue(m(function*(){const e=yield dz(n),t=yield hz(n);return e.setNetworkEnabled(!1),(i=m(function*(r){const s=j(r);s.Gr.add(0),yield md(s),s.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(gn(n=Qe(n,Ot)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,mz("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new kn;return e.asyncQueue.enqueueAndForget(m(function*(){return function(n,e){return LT.apply(this,arguments)}(yield oM(e),t)})),t.promise}(gn(n=Qe(n,Ot)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new _v(e);return n.asyncQueue.enqueueAndForget(m(function*(){return i=yield Ed(n),r=t,j(i).io.add(r),void r.next();var i,r})),()=>{t.nc(),n.asyncQueue.enqueueAndForget(m(function*(){return i=yield Ed(n),r=t,void j(i).io.delete(r);var i,r}))}}(gn(n=Qe(n,Ot)),cM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Sd(this,wz(this._delegate,e))}catch(t){throw wi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ar(this,wv(this._delegate,e))}catch(t){throw wi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ci(this,function(n,e){if(n=Qe(n,Mp),lM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ri(n,null,(t=e,new mo(at.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw wi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new kn;return n.asyncQueue.enqueueAndForget(m(function*(){const i=yield(r=n,vv(r).then(s=>s.datastore));var r;new Q_e(n.asyncQueue,i,e,t).run()})),t.promise}(gn(n=Qe(n,Ot)),t=>e(new Kve(n,t)))}(this._delegate,t=>e(new Yz(this,t)))}batch(){return gn(this._delegate),new Jz(new $z(this._delegate,e=>xd(this._delegate,e)))}loadBundle(e){return function(n,e){const t=gn(n=Qe(n,Ot)),i=new cve;return function(n,e,t,i){const r=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,l=function(l,c){if(l instanceof Uint8Array)return lz(l,c);if(l instanceof ArrayBuffer)return lz(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new q_e(l,o);var l}(t,Ip(e));n.asyncQueue.enqueueAndForget(m(function*(){!function(n,e,t){const i=j(n);var r;(r=m(function*(s,o,a){try{const l=yield o.getMetadata();if(yield function(h,f){const p=j(h),y=On(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",v=>p.Ye.getBundleMetadata(v,f.id)).then(v=>!!v&&v.createTime.compareTo(y)>=0)}(s.localStore,l))return yield o.close(),void a._completeWith((h=l,{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}));a._updateProgress(JW(l));const c=new D_e(l,s.localStore,o.k);let u=yield o.Ho();for(;u;){const h=yield c.yo(u);h&&a._updateProgress(h),u=yield o.Ho()}const d=yield c.complete();yield vo(s,d.In,void 0),yield function(h,f){const p=j(h);return p.persistence.runTransaction("Save bundle","readwrite",y=>p.Ye.saveBundleMetadata(y,f))}(s.localStore,l),a._completeWith(d.progress)}catch(l){op("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l)}var h}),function(s,o,a){return r.apply(this,arguments)})(i,e,t).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield oM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue(m(function*(){return function(t,i){const r=j(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ye.getNamedQuery(s,i))}(yield sM(n),e)}))}(gn(n=Qe(n,Ot)),e).then(t=>t?new ri(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ci(this,t):null)}}class Av extends mM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pp(new Ps(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ar.forKey(t,this.firestore,null)}}class Yz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}get(e){const t=Jl(e);return this._delegate.get(t).then(i=>new Fp(this._firestore,new wo(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Jl(e);return i?(_M("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Jl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Jl(e);return this._delegate.delete(t),this}}class Jz{constructor(e){this._delegate=e}set(e,t,i){const r=Jl(e);return i?(_M("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Jl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Jl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yl{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Op(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lp(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Yl.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Yl(e,new Av(e),t),r.set(t,s)),s}}Yl.INSTANCES=new WeakMap;class Ar{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}static forPath(e,t,i){if(e.length%2!=0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ar(t,new Dt(t._delegate,i,new J(e)))}static forKey(e,t,i){return new Ar(t,new Dt(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Sd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Sd(this.firestore,wz(this._delegate,e))}catch(t){throw wi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ie(e))instanceof Dt&&Cz(this._delegate,e)}set(e,t){t=_M("DocumentReference.set",t);try{return t?Gz(this._delegate,e,t):Gz(this._delegate,e)}catch(i){throw wi(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Wz(this._delegate,e):Wz(this._delegate,e,t,...i)}catch(r){throw wi(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return xd(Qe(n.firestore,Ot),[new yp(n._key,tn.none())])}(this._delegate)}onSnapshot(...e){const t=Xz(e),i=Zz(e,r=>new Fp(this.firestore,new wo(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zz(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qe(n,Dt);const e=Qe(n.firestore,Ot),t=gn(e),i=new Ql(e);return function(n,e){const t=new kn;return n.asyncQueue.enqueueAndForget(m(function*(){return(i=m(function*(r,s,o){try{const a=yield function(l,c){const u=j(l);return u.persistence.runTransaction("read document","readonly",d=>u.Wn.Rn(d,c))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new O(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=vd(a,`Failed to get document '${s} from cache`);o.reject(l)}}),function(r,s,o){return i.apply(this,arguments)})(yield sM(n),e,t);var i})),t.promise}(t,n._key).then(r=>new wo(e,i,n._key,r,new Kl(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qe(n,Dt);const e=Qe(n.firestore,Ot);return fz(gn(e),n._key,{source:"server"}).then(t=>yM(e,n,t))}(this._delegate):function(n){n=Qe(n,Dt);const e=Qe(n.firestore,Ot);return fz(gn(e),n._key).then(t=>yM(e,n,t))}(this._delegate),t.then(i=>new Fp(this.firestore,new wo(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ar(this.firestore,this._delegate.withConverter(e?Yl.getInstance(this.firestore,e):null))}}function wi(n,e,t){return n.message=n.message.replace(e,t),n}function Xz(n){for(const e of n)if("object"==typeof e&&!vM(e))return e;return{}}function Zz(n,e){var t,i;let r;return r=vM(n[0])?n[0]:vM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Fp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ar(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Nz(this._delegate,e._delegate)}}class Lp extends Fp{data(e){const t=this._delegate.data(e);return function(n,e){n||ee()}(void 0!==t),t}}class Ci{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}where(e,t,i){try{return new Ci(this.firestore,va(this._delegate,function(n,e,t){const i=e,r=Sv("where",n);return new Ave(r,i,t)}(e,t,i)))}catch(r){throw wi(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ci(this.firestore,va(this._delegate,function(n,e="asc"){const t=e,i=Sv("orderBy",n);return new Mve(i,t)}(e,t)))}catch(i){throw wi(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ci(this.firestore,va(this._delegate,function(n){return vz("limit",n),new Fz("limit",n,"F")}(e)))}catch(t){throw wi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ci(this.firestore,va(this._delegate,function(n){return vz("limitToLast",n),new Fz("limitToLast",n,"L")}(e)))}catch(t){throw wi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ci(this.firestore,va(this._delegate,function(...n){return new Lz("startAt",n,!0)}(...e)))}catch(t){throw wi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ci(this.firestore,va(this._delegate,function(...n){return new Lz("startAfter",n,!1)}(...e)))}catch(t){throw wi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ci(this.firestore,va(this._delegate,function(...n){return new Vz("endBefore",n,!0)}(...e)))}catch(t){throw wi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ci(this.firestore,va(this._delegate,function(...n){return new Vz("endAt",n,!1)}(...e)))}catch(t){throw wi(t,"endAt()","Query.endAt()")}}isEqual(e){return Ez(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qe(n,ri);const e=Qe(n.firestore,Ot),t=gn(e),i=new Ql(e);return function(n,e){const t=new kn;return n.asyncQueue.enqueueAndForget(m(function*(){return(i=m(function*(r,s,o){try{const a=yield hv(r,s,!0),l=new ez(s,a.zn),c=l.Po(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=vd(a,`Failed to execute query '${s} against cache`);o.reject(l)}}),function(r,s,o){return i.apply(this,arguments)})(yield sM(n),e,t);var i})),t.promise}(t,n._query).then(r=>new _a(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qe(n,ri);const e=Qe(n.firestore,Ot),t=gn(e),i=new Ql(e);return pz(t,n._query,{source:"server"}).then(r=>new _a(e,i,n,r))}(this._delegate):function(n){n=Qe(n,ri);const e=Qe(n.firestore,Ot),t=gn(e),i=new Ql(e);return Pz(n._query),pz(t,n._query).then(r=>new _a(e,i,n,r))}(this._delegate),t.then(i=>new bM(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=Xz(e),i=Zz(e,r=>new bM(this.firestore,new _a(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zz(this._delegate,t,i)}withConverter(e){return new Ci(this.firestore,this._delegate.withConverter(e?Yl.getInstance(this.firestore,e):null))}}class obe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ci(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new obe(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Lp(this._firestore,i))})}isEqual(e){return Nz(this._delegate,e._delegate)}}class Sd extends Ci{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ar(this.firestore,e):null}doc(e){try{return new Ar(this.firestore,void 0===e?wv(this._delegate):wv(this._delegate,e))}catch(t){throw wi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Qe(n.firestore,Ot),i=wv(n),r=Iv(n.converter,e);return xd(t,[Dv(zl(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,tn.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ar(this.firestore,t))}isEqual(e){return Cz(this._delegate,e._delegate)}withConverter(e){return new Sd(this.firestore,this._delegate.withConverter(e?Yl.getInstance(this.firestore,e):null))}}function Jl(n){return Qe(n,Dt)}class wM{constructor(...e){this._delegate=new bo(...e)}static documentId(){return new wM(Wn.keyField().canonicalString())}isEqual(e){return(e=ie(e))instanceof bo&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xl{constructor(e){this._delegate=e}static serverTimestamp(){const e=new uM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Xl(e)}static delete(){const e=new kp("deleteField");return e._methodName="FieldValue.delete",new Xl(e)}static arrayUnion(...e){const t=function(...n){return new Cve("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xl(t)}static arrayRemove(...e){const t=function(...n){return new Eve("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xl(t)}static increment(e){const t=function(n){return new Dve("increment",n)}(e);return t._methodName="FieldValue.increment",new Xl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const abe={Firestore:Qz,GeoPoint:Cv,Timestamp:Rn,Blob:Pp,Transaction:Yz,WriteBatch:Jz,DocumentReference:Ar,DocumentSnapshot:Fp,Query:Ci,QueryDocumentSnapshot:Lp,QuerySnapshot:bM,CollectionReference:Sd,FieldPath:wM,FieldValue:Xl,setLogLevel:function(n){!function(n){la.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Tv(n,e,t,i){return Vs(t)&&(i=t,t=void 0),i?Tv(n,e,t).pipe(he(r=>Pi(r)?i(...r):i(r))):new oe(r=>{e3(n,e,function(o){r.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},r,t)})}function e3(n,e,t,i,r){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,r),s=()=>o.removeEventListener(e,t,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),s=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),s=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)e3(n[o],e,t,i,r)}i.add(s)}!function(n){(function(n,e){n.INTERNAL.registerComponent(new Qi("firestore-compat",t=>((e,t)=>new Qz(e,t,new rbe))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},abe)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(wl);new class extends Xr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends Jm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let mbe=1;const ybe=Promise.resolve(),Mv={};function t3(n){return n in Mv&&(delete Mv[n],!0)}const n3={setImmediate(n){const e=mbe++;return Mv[e]=!0,ybe.then(()=>t3(e)&&n()),e},clearImmediate(n){t3(n)}};new class extends Xr{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends Jm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=n3.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(n3.clearImmediate(t),e.scheduled=void 0)}});class Cbe{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Ebe(e,this.durationSelector))}}class Ebe extends ac{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:r}=this;t=r(e)}catch(r){return this.destination.error(r)}const i=lc(t,new oc(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function CM(n,e=LE){return function(n){return function(t){return t.lift(new Cbe(n))}}(()=>OV(n,e))}let Id=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new oe(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(CM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ae()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(En(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=pl(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(_(U),_(wt),_(Y,8))},n.\u0275prov=M({factory:function(){return new n(_(U),_(wt),_(Y,8))},token:n,providedIn:"root"}),n})(),Ad=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new te,this._elementScrolled=new oe(o=>this.ngZone.runOutsideAngular(()=>Tv(this.elementRef.nativeElement,"scroll").pipe(gt(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=df()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==df()?t.left=t.right:1==df()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;KB()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==df()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==df()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(Id),g(U),g(Jo,8))},n.\u0275dir=I({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Td=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new te,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(CM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(_(wt),_(U),_(Y,8))},n.\u0275prov=M({factory:function(){return new n(_(wt),_(U),_(Y,8))},token:n,providedIn:"root"}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})(),l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[xu,cf,kv],xu,kv]}),n})();class EM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class DM extends EM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class Rv extends EM{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ube extends EM{constructor(e){super(),this.element=e instanceof W?e.nativeElement:e}}class xM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof DM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Rv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ube?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jbe extends xM{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ov=(()=>{class n extends xM{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new S,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(g(Qs),g(di),g(Y))},n.\u0275dir=I({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[P]}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({}),n})();const d3=KB();class Wbe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Jt(-this._previousScrollPosition.left),e.style.top=Jt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),d3&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),d3&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class zbe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class h3{enable(){}disable(){}attach(){}}function SM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function f3(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qbe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();SM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kbe=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new h3,this.close=o=>new zbe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Wbe(this._viewportRuler,this._document),this.reposition=o=>new qbe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(_(Id),_(Td),_(U),_(Y))},n.\u0275prov=M({factory:function(){return new n(_(Id),_(Td),_(U),_(Y))},token:n,providedIn:"root"}),n})();class IM{constructor(e){if(this.scrollStrategy=new h3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Qbe{constructor(e,t,i,r,s){this.offsetX=i,this.offsetY=r,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Ybe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let p3=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({factory:function(){return new n(_(Y))},token:n,providedIn:"root"}),n})(),Jbe=(()=>{class n extends p3{constructor(t){super(t),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(_(Y))},n.\u0275prov=M({factory:function(){return new n(_(Y))},token:n,providedIn:"root"}),n})(),Xbe=(()=>{class n extends p3{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._clickListener=r=>{const s=Eu(r),o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){const l=o[a];if(!(l._outsidePointerEvents.observers.length<1)&&l.hasAttached()){if(l.overlayElement.contains(s))break;l._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(_(Y),_(wt))},n.\u0275prov=M({factory:function(){return new n(_(Y),_(wt))},token:n,providedIn:"root"}),n})(),AM=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||FD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].parentNode.removeChild(r[s])}const i=this._document.createElement("div");i.classList.add(t),FD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(_(Y),_(wt))},n.\u0275prov=M({factory:function(){return new n(_(Y),_(wt))},token:n,providedIn:"root"}),n})();class Zbe{constructor(e,t,i,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new te,this._attachments=new te,this._detachments=new te,this._locationChanges=pe.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new te,this._outsidePointerEvents=new te,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Es(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Jt(this._config.width),e.height=Jt(this._config.height),e.minWidth=Jt(this._config.minWidth),e.minHeight=Jt(this._config.minHeight),e.maxWidth=Jt(this._config.maxWidth),e.maxHeight=Jt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=e.classList;Ty(t).forEach(s=>{s&&(i?r.add(s):r.remove(s))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(gt(cc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const g3="cdk-overlay-connected-position-bounding-box",ewe=/([A-Za-z%]+)$/;class m3{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new te,this._resizeSubscription=pe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(g3),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,i,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,i)?r.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(g3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,r;if("center"==t.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;i="start"==t.originX?s:o}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:r}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=_3(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),y=this._subtractOverflows(s.height,h,f),v=p*y;return{visibleArea:v,isCompletelyWithinViewport:s.width*s.height===v,fitsInViewportVertically:y===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=y3(this._overlayRef.getConfig().minHeight),a=y3(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=_3(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Ybe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Jt(i.height),r.top=Jt(i.top),r.bottom=Jt(i.bottom),r.width=Jt(i.width),r.left=Jt(i.left),r.right=Jt(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Jt(s)),o&&(r.maxWidth=Jt(o))}this._lastBoundingBoxSize=i,Zl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Zl(i,this._getExactOverlayY(t,e,u)),Zl(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Jt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Jt(o.maxWidth):s&&(i.maxWidth="")),Zl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Jt(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Jt(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:f3(e,i),isOriginOutsideView:SM(e,i),isOverlayClipped:f3(t,i),isOverlayOutsideView:SM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ty(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof W)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Zl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function y3(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(ewe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function _3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class twe{constructor(e,t,i,r,s,o,a){this._preferredPositions=[],this._positionStrategy=new m3(i,r,s,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,r){const s=new Qbe(e,t,i,r);return this._preferredPositions.push(s),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const v3="cdk-global-overlay-wrapper";class nwe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(v3),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(v3),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let iwe=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new nwe}connectedTo(t,i,r){return new twe(i,r,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new m3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(_(Td),_(Y),_(wt),_(AM))},n.\u0275prov=M({factory:function(){return new n(_(Td),_(Y),_(wt),_(AM))},token:n,providedIn:"root"}),n})(),rwe=0,Vp=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new IM(t);return o.direction=o.direction||this._directionality.value,new Zbe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+rwe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ka)),new jbe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(_(Kbe),_(AM),_(Qs),_(iwe),_(Jbe),_(We),_(U),_(Y),_(Jo),_(Vh),_(Xbe))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const awe={provide:new q("cdk-connected-overlay-scroll-strategy"),deps:[Vp],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let lwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:[Vp,awe],imports:[[xu,u3,l3],l3]}),n})();const w3=["mat-button",""],C3=["*"],E3=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",uwe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],dwe=jD(UD(ff(class{constructor(n){this._elementRef=n}})));let TM=(()=>{class n extends dwe{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of uwe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(hf),g(Yo,8))},n.\u0275cmp=xe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&Js(Su,5),2&t){let r;yt(r=_t())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Vt("disabled",i.disabled||null),pt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[P],attrs:w3,ngContentSelectors:C3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(It(),C(0,"span",0),Oe(1),E(),Te(2,"span",1),Te(3,"span",2)),2&t&&(Re(2),pt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),ht("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Su],styles:[E3],encapsulation:2,changeDetection:0}),n})(),hwe=(()=>{class n extends TM{constructor(t,i,r){super(i,t,r)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return n.\u0275fac=function(t){return new(t||n)(g(hf),g(W),g(Yo,8))},n.\u0275cmp=xe({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,i){1&t&&ft("click",function(s){return i._haltDisabledEvents(s)}),2&t&&(Vt("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),pt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[P],attrs:w3,ngContentSelectors:C3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(It(),C(0,"span",0),Oe(1),E(),Te(2,"span",1),Te(3,"span",2)),2&t&&(Re(2),pt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),ht("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Su],styles:[E3],encapsulation:2,changeDetection:0}),n})(),D3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[$D,Ut],Ut]}),n})();const x3=new Set;let Md,S3=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pwe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!x3.has(n))try{Md||(Md=document.createElement("style"),Md.setAttribute("type","text/css"),document.head.appendChild(Md)),Md.sheet&&(Md.sheet.insertRule(`@media ${n} {body{ }}`,0),x3.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(_(wt))},n.\u0275prov=M({factory:function(){return new n(_(wt))},token:n,providedIn:"root"}),n})();function pwe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let I3=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return A3(Ty(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=wL(A3(Ty(t)).map(o=>this._registerQuery(o).observable));return s=Rm(s.pipe(Es(1)),s.pipe(UE(1),Ay(0))),s.pipe(he(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new oe(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Jr(i),he(({matches:o})=>({query:t,matches:o})),gt(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(_(S3),_(U))},n.\u0275prov=M({factory:function(){return new n(_(S3),_(U))},token:n,providedIn:"root"}),n})();function A3(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function mwe(n,e){if(1&n){const t=zc();C(0,"div",1),C(1,"button",2),ft("click",function(){return Ra(t),Vr().action()}),B(2),E(),E()}if(2&n){const t=Vr();Re(2),Bo(t.data.action)}}function ywe(n,e){}const T3=new q("MatSnackBarData");class Nv{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const _we=Math.pow(2,31)-1;class MM{constructor(e,t){this._overlayRef=t,this._afterDismissed=new te,this._afterOpened=new te,this._onAction=new te,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,_we))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let vwe=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(g(MM),g(T3))},n.\u0275cmp=xe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(C(0,"span"),B(1),E(),Lr(2,mwe,3,1,"div",0)),2&t&&(Re(1),Bo(i.data.message),Re(1),ht("ngIf",i.hasAction))},directives:[au,TM],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const bwe={snackBarState:jV("state",[ly("void, hidden",ll({transform:"scale(0.8)",opacity:0})),ly("visible",ll({transform:"scale(1)",opacity:1})),cy("* => visible",ay("150ms cubic-bezier(0, 0, 0.2, 1)")),cy("* => void, * => hidden",ay("75ms cubic-bezier(0.4, 0.0, 1, 1)",ll({opacity:0})))])};let wwe=(()=>{class n extends xM{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new te,this._onExit=new te,this._onEnter=new te,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Es(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(g(U),g(W),g(Gi),g(wt),g(Nv))},n.\u0275cmp=xe({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,i){if(1&t&&Js(Ov,7),2&t){let r;yt(r=_t())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&Lg("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&Ug("@state",i._animationState)},features:[P],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(C(0,"div",0),Lr(1,ywe,0,0,"ng-template",1),E(),Te(2,"div")),2&t&&(Re(2),Vt("aria-live",i._live)("role",i._role))},directives:[Ov],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[bwe.snackBarState]}}),n})(),M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[lwe,u3,jh,D3,Ut],Ut]}),n})();const k3=new q("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Nv}});let Ewe=(()=>{class n{constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=vwe,this.snackBarContainerComponent=wwe,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=We.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Nv,useValue:i}]}),o=new DM(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r=Object.assign(Object.assign(Object.assign({},new Nv),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new MM(o,s);if(t instanceof Wi){const l=new Rv(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new DM(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(gt(s.detachments())).subscribe(l=>{const c=s.overlayElement.classList;l.matches?c.add(this.handsetCssClass):c.remove(this.handsetCssClass)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new IM;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return We.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:MM,useValue:i},{provide:T3,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(_(Vp),_(VD),_(We),_(I3),_(n,12),_(k3))},n.\u0275prov=M({factory:function(){return new n(_(Vp),_(VD),_(Ba),_(I3),_(n,12),_(k3))},token:n,providedIn:M3}),n})();wl.initializeApp({apiKey:"AIzaSyBTEvk6KpsXQKTm8siMPkV2x601OwRgp4U",authDomain:"budthebuilder-8b6e9.firebaseapp.com",databaseURL:"https://budthebuilder-8b6e9-default-rtdb.firebaseio.com",projectId:"budthebuilder-8b6e9",storageBucket:"budthebuilder-8b6e9.appspot.com",messagingSenderId:"897015714788",appId:"1:897015714788:web:44d53681ad2c46893badf1",measurementId:"G-439MTFNV7R"});var R3=wl.firestore();let O3=(()=>{class n{constructor(t){this.snackbar=t,this.loggedInStatus=!1}getData(){return R3.collection("budBuilder").get()}getgkeyData(){let i=R3.collection("budBuilder").get().then(r=>{r.forEach(s=>{console.log(`${s.id}`),console.log(`${s.data()}`),console.log(s.data()),s.data()})});console.log("---dataaaa--,",i)}}return n.\u0275fac=function(t){return new(t||n)(_(Ewe))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xwe=function(){return["/product-details","aggregate"]},Swe=function(){return["/product-details","sand"]},Iwe=function(){return["/product-details","brick"]};let P3=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["app-products"]],decls:41,vars:6,consts:[[1,"container","height-webkit"],[1,"row","margin-bottom-20"],[1,"col-md-8","col-lg-4","col-sm-10"],[1,"example-card"],[1,"margin-10"],["mat-card-xl-image","","src","../../assets/images/12-mm-crusher-aggregate-stone-500x500.jpg",1,"margin-auto"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"col-md-8","col-lg-4"],["mat-card-xl-image","","src","../../assets/images/river-sand-500x500-e1573411329410.jpeg",1,"margin-auto"],["mat-card-xl-image","","src","../../assets/images/chamber-brick-500x500.jpg",1,"margin-auto"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"mat-card",3),C(4,"mat-card-title-group",4),Te(5,"img",5),E(),C(6,"mat-card-content"),C(7,"p"),B(8,"Aggregate"),E(),C(9,"p"),C(10,"span"),B(11,"Rs 100 per sq feet"),E(),C(12,"span",6),C(13,"button",7),B(14,"Buy Now"),E(),E(),E(),E(),E(),E(),C(15,"div",8),C(16,"mat-card",3),C(17,"mat-card-title-group",4),Te(18,"img",9),E(),C(19,"mat-card-content"),C(20,"p"),B(21,"Sand"),E(),C(22,"p"),C(23,"span"),B(24,"Rs 100 per sq feet"),E(),C(25,"span",6),C(26,"button",7),B(27,"Buy Now"),E(),E(),E(),E(),E(),E(),C(28,"div",8),C(29,"mat-card",3),C(30,"mat-card-title-group",4),Te(31,"img",10),E(),C(32,"mat-card-content"),C(33,"p"),B(34,"Brick"),E(),C(35,"p"),C(36,"span"),B(37,"Rs 100 per sq feet"),E(),C(38,"span",6),C(39,"button",7),B(40,"Buy Now"),E(),E(),E(),E(),E(),E(),E(),E()),2&t&&(Re(13),ht("routerLink",Zg(3,xwe)),Re(13),ht("routerLink",Zg(4,Swe)),Re(13),ht("routerLink",Zg(5,Iwe)))},directives:[zD,qD,WD,A2,tf],styles:[".margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}"]}),n})(),Awe=(()=>{class n{constructor(t){this.dataService=t}ngOnInit(){let t=this.dataService.getData().then(i=>{i.forEach(r=>{console.log(`${r.id}`),console.log(`${r.data()}`),console.log(r.data())})});console.log("Inside the service response"),t.then(i=>{console.log(i)}),console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(g(O3))},n.\u0275cmp=xe({type:n,selectors:[["app-home"]],decls:23,vars:0,consts:[[1,"outr-margin"],[1,"slider_section","long_section"],[1,"container"],[1,"row","back-pad"],[1,"col-md-5"],[1,"detail-box"],[1,"btn-box"],["routerLink","/contact",1,"btn1"],["routerLink","/about",1,"btn2"],[1,"col-md-7"],["src","../../assets/images/slider-img.png","alt","",1,"img-class-"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"section",1),C(2,"div",2),C(3,"div",3),C(4,"div",4),C(5,"div",5),C(6,"h1"),B(7," For All Your "),Te(8,"br"),B(9," Building & Construction Needs "),E(),C(10,"p"),B(11," Lorem ipsum, dolor sit amet consectetur adipisicing elit. Minus quidem maiores perspiciatis, illo maxime voluptatem a itaque suscipit. "),E(),C(12,"div",6),C(13,"a",7),B(14," Contact Us "),E(),C(15,"a",8),B(16," About Us "),E(),E(),E(),E(),C(17,"div",9),C(18,"div"),Te(19,"img",10),E(),E(),E(),E(),E(),E(),Te(20,"app-products"),Te(21,"app-about"),Te(22,"app-contact"))},directives:[fu,P3,IV,kU],styles:["#myVideo[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;min-width:100%;min-height:100%}.content[_ngcontent-%COMP%]{position:fixed;bottom:0;background:rgba(0,0,0,.5);color:#f1f1f1;width:100%;padding:20px}#myBtn[_ngcontent-%COMP%]{width:200px;font-size:18px;padding:10px;border:none;background:#000;color:#fff;cursor:pointer}#myBtn[_ngcontent-%COMP%]:hover{background:#ddd;color:#000}.img-class-[_ngcontent-%COMP%]{width:-webkit-fill-available}.outr-margin[_ngcontent-%COMP%]{margin:6%}"]}),n})(),Twe=(()=>{class n{constructor(t){this.Router=t}ngOnInit(){}orderPlaced(){alert("your order is successfully placed"),this.Router.navigate([""])}}return n.\u0275fac=function(t){return new(t||n)(g(Vn))},n.\u0275cmp=xe({type:n,selectors:[["app-order"]],decls:68,vars:0,consts:[[1,"container"],[1,"row","margin-bottom-20"],[1,"col-md-8","col-lg-8"],[1,"box"],[1,"image-box-20"],["src","../../assets/images/f1.png","alt","",1,"image-box-20"],[1,"detail-box"],[1,"price_box"],[1,"price_heading"],["routerLink","/cart"],[1,"form-group"],["for","exampleFormControlInput1"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com",1,"form-control"],["for","exampleInputQuantity"],["type","number","id","exampleInputQuantity","placeholder","Enter quanity",1,"form-control"],["for","exampleInputShippingAddress"],["type","number","id","exampleInputShippingAddress","placeholder","Shipping address",1,"form-control"],["for","exampleInputCardDetails"],["type","number","id","exampleInputCardDetails","placeholder","Card details",1,"form-control"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control"],["for","exampleFormControlSelect2"],["multiple","","id","exampleFormControlSelect2",1,"form-control"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],["type","button","routerLink","/order",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"div",3),C(4,"div",4),Te(5,"img",5),E(),C(6,"div",6),C(7,"h5"),B(8," brown Chair Design "),E(),C(9,"div",7),C(10,"h6",8),C(11,"span"),B(12,"$"),E(),B(13," 100.00 "),E(),C(14,"a",9),B(15," Buy Now "),E(),E(),C(16,"form"),C(17,"div",10),C(18,"label",11),B(19,"Email address"),E(),Te(20,"input",12),E(),C(21,"div",10),C(22,"label",13),B(23,"Quantity"),E(),Te(24,"input",14),E(),C(25,"div",10),C(26,"label",15),B(27,"Shipping address"),E(),C(28,"textarea",16),B(29,"                                "),E(),E(),C(30,"div",10),C(31,"label",17),B(32,"Card details"),E(),Te(33,"input",18),E(),C(34,"div",10),C(35,"label",19),B(36,"Example select"),E(),C(37,"select",20),C(38,"option"),B(39,"1"),E(),C(40,"option"),B(41,"2"),E(),C(42,"option"),B(43,"3"),E(),C(44,"option"),B(45,"4"),E(),C(46,"option"),B(47,"5"),E(),E(),E(),C(48,"div",10),C(49,"label",21),B(50,"Example multiple select"),E(),C(51,"select",22),C(52,"option"),B(53,"1"),E(),C(54,"option"),B(55,"2"),E(),C(56,"option"),B(57,"3"),E(),C(58,"option"),B(59,"4"),E(),C(60,"option"),B(61,"5"),E(),E(),E(),C(62,"div",10),C(63,"label",23),B(64,"Example textarea"),E(),Te(65,"textarea",24),E(),E(),C(66,"button",25),ft("click",function(){return i.orderPlaced()}),B(67,"Place order"),E(),E(),E(),E(),E(),E())},directives:[fu,cx,JD,vf,_U,bU,tf],styles:[".margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}"]}),n})();function Mwe(n,e){if(1&n){const t=zc();C(0,"div",4),C(1,"mat-card",5),C(2,"mat-card-title-group",6),Te(3,"img",7),E(),C(4,"mat-card-content"),C(5,"p"),B(6),E(),C(7,"p"),C(8,"span"),B(9,"Rs 100 per sq feet"),E(),C(10,"span",8),C(11,"button",9),ft("click",function(){const s=Ra(t).$implicit,o=Vr();return o.addToCartFnc(s,o.products.type)}),B(12,"Buy Now"),E(),E(),E(),E(),E(),E()}if(2&n){const t=e.$implicit;Re(3),ht("src",t.filePath,nh),Re(3),Bo(t.name)}}const kwe=[{path:"home",component:Awe},{path:"about",component:IV},{path:"contact",component:kU},{path:"products",component:P3},{path:"product-details/:type",component:(()=>{class n{constructor(t,i,r){this.service=t,this.ActivatedRoute=i,this.Router=r}ngOnInit(){this.products=[],this.ActivatedRoute.params.subscribe(t=>{console.log(t),this.products=this.service.getProducts(t.type),console.log(this.products)})}addToCartFnc(t,i){let r=t;r.type=i,this.service.addToCart(r),this.Router.navigate(["/cart"])}}return n.\u0275fac=function(t){return new(t||n)(g(AV),g(il),g(Vn))},n.\u0275cmp=xe({type:n,selectors:[["app-product-details"]],decls:6,vars:2,consts:[[1,"container"],[1,"row"],[1,"row","margin-bottom-20"],["class","col-md-8 col-lg-4 col-sm-10",4,"ngFor","ngForOf"],[1,"col-md-8","col-lg-4","col-sm-10"],[1,"example-card"],[1,"margin-10"],["mat-card-xl-image","",1,"margin-auto",3,"src"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"div",1),C(2,"h2"),B(3),E(),E(),C(4,"div",2),Lr(5,Mwe,13,2,"div",3),E(),E()),2&t&&(Re(3),Bo(i.products.type),Re(2),ht("ngForOf",i.products.details))},directives:[J1,zD,qD,WD,A2],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin-bottom:8px}.margin-auto[_ngcontent-%COMP%]{margin:auto!important}.float-right[_ngcontent-%COMP%]{float:right}.margin-bottom-20[_ngcontent-%COMP%]{margin-bottom:10%!important}"]}),n})()},{path:"cart",component:Gae},{path:"order",component:Twe},{path:"heremaps",component:Ple},{path:"",redirectTo:"/home",pathMatch:"full"}];let Rwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[NE.forRoot(kwe,{useHash:!0})],NE]}),n})();const Owe=["*",[["mat-toolbar-row"]]],Nwe=["*","mat-toolbar-row"],Pwe=jD(class{constructor(n){this._elementRef=n}});let F3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Fwe=(()=>{class n extends Pwe{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(wt),g(Y))},n.\u0275cmp=xe({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&bn(r,F3,5),2&t){let s;yt(s=_t())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&pt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[P],ngContentSelectors:Nwe,decls:2,vars:0,template:function(t,i){1&t&&(It(Owe),Oe(0),Oe(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Lwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut],Ut]}),n})();const Bwe={provide:vC,useFactory:function(n,e){return()=>{if(Xa(e)){const t=Array.from(n.querySelectorAll(`[class*=${L3}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${L3}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Y,cn],multi:!0},L3="flex-layout-";let RM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({providers:[Bwe]}),n})();class ec{constructor(e=!1,t="all",i="",r="",s=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new ec(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let V3=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,r){const s=this.stylesheet.get(t);s?s.set(i,r):this.stylesheet.set(t,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const r=this.stylesheet.get(t);let s="";if(r){const o=r.get(i);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({factory:function(){return new n},token:n,providedIn:"root"}),n})();const OM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},ss=new q("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>OM}),tc=new q("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),NM=new q("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function B3(n,e){return n=n?n.clone():new ec,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}const PM="inline",U3=["row","column","row-reverse","column-reverse"];function Hwe(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}let Nt=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new te,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const r=this.styleBuilder,s=r.shouldCache;let o=this.styleCache.get(t);(!o||!s)&&(o=r.buildStyles(t,i),s&&this.styleCache.set(t,o)),this.mru=Object.assign({},o),this.applyStyleToElement(o),r.sideEffect(t,o,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[r,s]=this.styler.getFlowDirection(t);if(!s&&i){const o=function(n){let[e,t,i]=function(n){n=n?n.toLowerCase():"";let[e,t,i]=n.split(" ");return U3.find(r=>r===e)||(e=U3[0]),t===PM&&(t=i!==PM?i:"",i=PM),[e,Hwe(t),!!i]}(n);return function(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}(r);this.styler.applyStyleToElements(o,[t])}return r.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,r=this.nativeElement){this.styler.applyStyleToElement(r,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){!function(){throw new Error("invalid")}()},n.\u0275dir=I({type:n,features:[Pe]}),n})();const Gwe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],j3="(orientation: portrait) and (max-width: 599.98px)",H3="(orientation: landscape) and (max-width: 959.98px)",$3="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",G3="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",W3="(orientation: portrait) and (min-width: 840px)",z3="(orientation: landscape) and (min-width: 1280px)",Co={HANDSET:`${j3}, ${H3}`,TABLET:`${$3} , ${G3}`,WEB:`${W3}, ${z3} `,HANDSET_PORTRAIT:`${j3}`,TABLET_PORTRAIT:`${$3} `,WEB_PORTRAIT:`${W3}`,HANDSET_LANDSCAPE:`${H3}`,TABLET_LANDSCAPE:`${G3}`,WEB_LANDSCAPE:`${z3}`},Wwe=[{alias:"handset",priority:2e3,mediaQuery:Co.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Co.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Co.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Co.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Co.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Co.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Co.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Co.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Co.WEB_PORTRAIT,overlapping:!0}],qwe=/(\.|-|_)/g;function Kwe(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}function Jwe(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?function(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}(t[i.alias],i):t[i.alias]=i}),function(n){return n.forEach(e=>{e.suffix||(e.suffix=function(n){return n.replace(qwe,"|").split("|").map(Kwe).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}const q3=new q("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=Yd(NM),e=Yd(ss),t=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return Jwe((e.disableDefaultBps?[]:Gwe).concat(e.addOrientationBps?Wwe:[]),t)}});function Bp(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function Xwe(n,e){return(n.priority||0)-(e.priority||0)}let Up=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(Xwe)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias==t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,i){let r=this.findByMap.get(t);return r||(r=this.items.find(i)||null,this.findByMap.set(t,r)),r||null}}return n.\u0275fac=function(t){return new(t||n)(_(q3))},n.\u0275prov=M({factory:function(){return new n(_(q3))},token:n,providedIn:"root"}),n})(),Pv=(()=>{class n{constructor(t,i,r){this._zone=t,this._platformId=i,this._document=r,this.source=new pi(new ec(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,r)=>{i.matches&&t.push(r)}),t}isActive(t){const i=this.registry.get(t);return i?i.matches:this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const r=this._observable$.pipe(En(o=>!i||t.indexOf(o.mediaQuery)>-1));return cc(new oe(o=>{const a=this.registerQuery(t);if(a.length){const l=a.pop();a.forEach(c=>{o.next(c)}),this.source.next(l)}o.complete()}),r)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],r=[];return function(n,e){const t=n.filter(i=>!K3[i]);if(t.length>0){const i=t.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(r),t.forEach(s=>K3[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const o=l=>{this._zone.run(()=>this.source.next(new ec(l.matches,s)))};let a=this.registry.get(s);a||(a=this.buildMQL(s),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(s,a)),a.matches&&r.push(new ec(!0,s))}),r}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,Xa(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(_(U),_(cn),_(Y))},n.\u0275prov=M({factory:function(){return new n(_(U),_(cn),_(Y))},token:n,providedIn:"root"}),n})();const K3={},kd="print",iCe={alias:kd,mediaQuery:kd,priority:1e3};let Q3=(()=>{class n{constructor(t,i,r){this.breakpoints=t,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new rCe,this.deactivations=[]}withPrintQuery(t){return[...t,kd]}isPrintEvent(t){return t.mediaQuery.startsWith(kd)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Bp)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?i.mediaQuery:""),B3(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new ec(!0,kd))),t.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const i=this.breakpoints.findByQuery(t.mediaQuery);i&&(this.deactivations.push(i),this.deactivations.sort(Bp))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(_(Up),_(ss),_(Y))},n.\u0275prov=M({factory:function(){return new n(_(Up),_(ss),_(Y))},token:n,providedIn:"root"}),n})();class rCe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(iCe),e.sort(Bp),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function(n){return!!n&&n.mediaQuery.startsWith(kd)}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}function Y3(n){for(let e in n){let t=n[e]||"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":t=t||"row",n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}let xt=(()=>{class n{constructor(t,i,r,s){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(t,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:Y3(i),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,i=[]){const r=this.layoutConfig.disableVendorPrefixes?t:Y3(t);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(t){const i="flex-direction";let r=this.lookupStyle(t,i);return[r||"row",this.lookupInlineStyle(t,i)||Za(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){return t.getAttribute(i)||""}lookupInlineStyle(t,i){return Xa(this._platformId)?t.style.getPropertyValue(i):this._getServerStyle(t,i)}lookupStyle(t,i,r=!1){let s="";return t&&((s=this.lookupInlineStyle(t,i))||(Xa(this._platformId)?r||(s=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,i)))),s?s.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(r=>{const s=t[r],o=Array.isArray(s)?s:[s];o.sort();for(let a of o)a=a?a+"":"",Xa(this._platformId)||!this._serverModuleLoaded?Xa(this._platformId)?i.style.setProperty(r,a):this._setServerStyle(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}_setServerStyle(t,i,r){i=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const s=this._readStyleAttribute(t);s[i]=r||"",this._writeStyleAttribute(t,s)}_getServerStyle(t,i){return this._readStyleAttribute(t)[i]||""}_readStyleAttribute(t){const i={},r=t.getAttribute("style");if(r){const s=r.split(/;+/g);for(let o=0;o<s.length;o++){const a=s[o].trim();if(a.length>0){const l=a.indexOf(":");if(-1===l)throw new Error(`Invalid CSS style: ${a}`);i[a.substr(0,l).trim()]=a.substr(l+1).trim()}}}return i}_writeStyleAttribute(t,i){let r="";for(const s in i)i[s]&&(r+=s+":"+i[s]+";");t.setAttribute("style",r)}}return n.\u0275fac=function(t){return new(t||n)(_(V3),_(tc),_(cn),_(ss))},n.\u0275prov=M({factory:function(){return new n(_(V3),_(tc),_(cn),_(ss))},token:n,providedIn:"root"}),n})();class zt{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let Pt=(()=>{class n{constructor(t,i,r){this.matchMedia=t,this.breakpoints=i,this.hook=r,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new te,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);i&&((t=B3(t,i)).matches&&-1===this.activatedBreakpoints.indexOf(i)?(this.activatedBreakpoints.push(i),this.activatedBreakpoints.sort(Bp),this.updateStyles()):!t.matches&&-1!==this.activatedBreakpoints.indexOf(i)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(i),1),this.activatedBreakpoints.sort(Bp),this.updateStyles()))}init(t,i,r,s,o=[]){Z3(this.updateMap,t,i,r),Z3(this.clearMap,t,i,s),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,o)}getValue(t,i,r){const s=this.elementMap.get(t);if(s){const o=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(o)return o.get(i)}}hasValue(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(t,i,r,s){let o=this.elementMap.get(t);if(o){const l=(o.get(s)||new Map).set(i,r);o.set(s,l),this.elementMap.set(t,o)}else o=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(t,o);const a=this.getValue(t,i);void 0!==a&&this.updateElement(t,i,a)}trackValue(t,i){return this.subject.asObservable().pipe(En(r=>r.element===t&&r.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(t);s&&s.forEach((o,a)=>{this.updateElement(i,a,o),r.delete(a)}),r.forEach(o=>{if(s=this.getActivatedValues(t,o),s){const a=s.get(o);this.updateElement(i,o,a)}else this.clearElement(i,o)})})}clearElement(t,i){const r=this.clearMap.get(t);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,r){const s=this.updateMap.get(t);if(s){const o=s.get(i);o&&(o(r),this.subject.next({element:t,key:i,value:r}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const r=this.elementMap.get(t);r&&(r.forEach((s,o)=>r.delete(o)),this.elementMap.delete(t))}triggerUpdate(t,i){const r=this.elementMap.get(t);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(t,i,s.get(i)):s.forEach((o,a)=>this.updateElement(t,a,o)))}}buildElementKeyMap(t,i){let r=this.elementKeyMap.get(t);r||(r=new Set,this.elementKeyMap.set(t,r)),r.add(i)}watchExtraTriggers(t,i,r){if(r&&r.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(i)){const a=cc(...r).subscribe(()=>{const l=this.getValue(t,i);this.updateElement(t,i,l)});s.set(i,a)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const a=t.get(this.activatedBreakpoints[s].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}const r=t.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const i=this.breakpoints.items.map(r=>r.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(i)).pipe(Dn(this.hook.interceptEvents(this)),En(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(_(Pv),_(Up),_(Q3))},n.\u0275prov=M({factory:function(){return new n(_(Pv),_(Up),_(Q3))},token:n,providedIn:"root"}),n})();function Z3(n,e,t,i){if(void 0!==i){let r=n.get(e);r||(r=new Map,n.set(e,r)),r.set(t,i)}}let pCe=(()=>{class n extends zt{buildStyles(t,i){return{display:"true"===t?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275prov=M({factory:function(){return new n},token:n,providedIn:"root"}),n})(),gCe=(()=>{class n extends Nt{constructor(t,i,r,s,o,a,l){super(t,i,r,s),this.layoutConfig=o,this.platformId=a,this.serverModuleLoaded=l,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let r=0;r<t.length;r++)if(this.marshal.hasValue(t[r],"flex")){this.hasFlexChild=!0;break}FM.has(this.nativeElement)?this.display=FM.get(this.nativeElement):(this.display=this.getDisplayStyle(),FM.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split("."),s=r.slice(1).join("."),o=t[i].currentValue;let a=""===o||0!==o&&ze(o);"fxHide"===r[0]&&(a=!a),this.setValue(a,s)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe(gt(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){if(""===t)return;const i=Za(this.platformId);this.addStyles(t?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(pCe),g(xt),g(Pt),g(ss),g(cn),g(tc))},n.\u0275dir=I({type:n,features:[P,Pe]}),n})();const FM=new WeakMap,mCe=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let eq=(()=>{class n extends gCe{constructor(){super(...arguments),this.inputs=mCe}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[P]}),n})();class yCe{constructor(e,t,i=!0){this.key=e,this.value=t,this.key=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=this.value.replace(/;/,"")}}function tq(n){let e=typeof n;return"object"===e?n.constructor===Array?"array":n.constructor===Set?"set":"object":e}function iq(n){const[e,...t]=n.split(":");return new yCe(e,t.join(":"))}function rq(n,e){return e.key&&(n[e.key]=e.value),n}let bCe=(()=>{class n extends Nt{constructor(t,i,r,s,o,a,l,c,u){super(t,null,i,r),this.sanitizer=s,this.ngStyleInstance=l,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new xm(t,o,a)),this.init();const d=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(d),this.isServer=c&&Za(u)}updateWithValue(t){const i=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),i),this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(t){const i=r=>this.sanitizer.sanitize(Ze.STYLE,r)||"";if(t)switch(tq(t)){case"string":return oq(function(n,e=";"){return String(n).trim().split(e).map(t=>t.trim()).filter(t=>""!==t)}(t),i);case"array":return oq(t,i);case"set":default:return function(n,e){let t=[];return"set"===tq(n)?n.forEach(i=>t.push(i)):Object.keys(n).forEach(i=>{t.push(`${i}:${n[i]}`)}),function(n,e){return n.map(iq).filter(i=>!!i).map(i=>(e&&(i.value=e(i.value)),i)).reduce(rq,{})}(t,e)}(t,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(xt),g(Pt),g(el),g(Uo),g(fr),g(xm,10),g(tc),g(cn))},n.\u0275dir=I({type:n,features:[P]}),n})();const wCe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let sq=(()=>{class n extends bCe{constructor(){super(...arguments),this.inputs=wCe}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[P]}),n})();function oq(n,e){return n.map(iq).filter(i=>!!i).map(i=>(e&&(i.value=e(i.value)),i)).reduce(rq,{})}let aq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[RM]]}),n})();class lq{}class Eo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Eo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Eo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Eo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class CCe{encodeKey(e){return uq(e)}encodeValue(e){return uq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const DCe=/%(\d[a-f0-9])/gi,xCe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function uq(n){return encodeURIComponent(n).replace(DCe,(e,t)=>{var i;return null!==(i=xCe[t])&&void 0!==i?i:e})}function dq(n){return`${n}`}class wa{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new CCe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wa({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dq(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(dq(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class SCe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function hq(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function fq(n){return"undefined"!=typeof Blob&&n instanceof Blob}function pq(n){return"undefined"!=typeof FormData&&n instanceof FormData}class jp{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Eo),this.context||(this.context=new SCe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new wa,this.urlWithParams=t}serializeBody(){return null===this.body?null:hq(this.body)||fq(this.body)||pq(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pq(this.body)?null:fq(this.body)?this.body.type||null:hq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new jp(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var rn=(()=>((rn=rn||{})[rn.Sent=0]="Sent",rn[rn.UploadProgress=1]="UploadProgress",rn[rn.ResponseHeader=2]="ResponseHeader",rn[rn.DownloadProgress=3]="DownloadProgress",rn[rn.Response=4]="Response",rn[rn.User=5]="User",rn))();class Fv extends class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Eo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=rn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fv({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function BM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lv=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof jp)s=t;else{let l,c;l=r.headers instanceof Eo?r.headers:new Eo(r.headers),r.params&&(c=r.params instanceof wa?r.params:new wa({fromObject:r.params})),s=new jp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=ae(s).pipe(cu(l=>this.handler.handle(l)));if(t instanceof jp||"events"===r.observe)return o;const a=o.pipe(En(l=>l instanceof Fv));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(he(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new wa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,BM(r,i))}post(t,i,r={}){return this.request("POST",t,BM(r,i))}put(t,i,r={}){return this.request("PUT",t,BM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(_(lq))},n.\u0275prov=M({token:n,factory:n.\u0275fac}),n})();const PCe=["*"];function bq(n){return Error(`Unable to find icon with the name "${n}"`)}function wq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Cq(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class nc{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Vv=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new nc(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Ze.HTML,r);if(!o)throw Cq(r);return this._addSvgIconConfig(t,i,new nc("",o,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new nc(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Ze.HTML,i);if(!s)throw Cq(i);return this._addSvgIconSetConfig(t,new nc("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Ze.RESOURCE_URL,t);if(!i)throw wq(t);const r=this._cachedIconsByUrl.get(i);return r?ae(Bv(r)):this._loadSvgIconFromConfig(new nc(t,null)).pipe(Dn(s=>this._cachedIconsByUrl.set(i,s)),he(s=>Bv(s)))}getNamedSvgIcon(t,i=""){const r=Eq(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):VE(bq(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ae(Bv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(he(i=>Bv(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ae(r):T2(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Go(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ze.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ae(null)})))).pipe(he(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw bq(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Dn(i=>t.svgText=i),he(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ae(null):this._fetchIcon(t).pipe(Dn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString("<svg></svg>");return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString("<svg></svg>"),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,o=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(Ze.RESOURCE_URL,r);if(!a)throw wq(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(IL(()=>this._inProgressUrlFetches.delete(a)),rk());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(Eq(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return VCe(s)?new nc(s.url,null,s.options):new nc(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(_(Lv,8),_(el),_(Y,8),_(Rr))},n.\u0275prov=M({factory:function(){return new n(_(Lv,8),_(el),_(Y,8),_(Rr))},token:n,providedIn:"root"}),n})();function Bv(n){return n.cloneNode(!0)}function Eq(n,e){return n+":"+e}function VCe(n){return!(!n.url||!n.options)}const BCe=jD(class{constructor(n){this._elementRef=n}}),UCe=new q("mat-icon-location",{providedIn:"root",factory:function(){const n=Yd(Y),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Dq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$Ce=Dq.map(n=>`[${n}]`).join(", "),GCe=/^url\(['"]?#(.*?)['"]?\)$/;let WCe=(()=>{class n extends BCe{constructor(t,i,r,s,o){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=pe.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ze(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&t.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll($Ce),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Dq.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(GCe):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Es(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(Vv),Oa("aria-hidden"),g(UCe),g(Rr))},n.\u0275cmp=xe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Vt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),pt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[P],ngContentSelectors:PCe,decls:1,vars:0,template:function(t,i){1&t&&(It(),Oe(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),zCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut],Ut]}),n})();function xq(n){return e=>e.lift(new qCe(n))}class qCe{constructor(e){this.value=e}call(e,t){return t.subscribe(new KCe(e,this.value))}}class KCe extends nt{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}const Uv=["*"];function QCe(n,e){if(1&n){const t=zc();C(0,"div",2),ft("click",function(){return Ra(t),Vr()._onBackdropClicked()}),E()}2&n&&pt("mat-drawer-shown",Vr()._isShowingBackdrop())}function YCe(n,e){1&n&&(C(0,"mat-drawer-content"),Oe(1,2),E())}const JCe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],XCe=["mat-drawer","mat-drawer-content","*"];function ZCe(n,e){if(1&n){const t=zc();C(0,"div",2),ft("click",function(){return Ra(t),Vr()._onBackdropClicked()}),E()}2&n&&pt("mat-drawer-shown",Vr()._isShowingBackdrop())}function eEe(n,e){1&n&&(C(0,"mat-sidenav-content",3),Oe(1,2),E())}const tEe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],nEe=["mat-sidenav","mat-sidenav-content","*"],Sq=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Iq={transformDrawer:jV("transform",[ly("open, open-instant",ll({transform:"none",visibility:"visible"})),ly("void",ll({"box-shadow":"none",visibility:"hidden"})),cy("void => open-instant",ay("0ms")),cy("void <=> open, open-instant => void",ay("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},iEe=new q("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),$M=new q("MAT_DRAWER_CONTAINER");let jv=(()=>{class n extends Ad{constructor(t,i,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(g(Gi),g(Xe(()=>Tq)),g(W),g(Id),g(U))},n.\u0275cmp=xe({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&ja("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[P],ngContentSelectors:Uv,decls:1,vars:0,template:function(t,i){1&t&&(It(),Oe(0))},encapsulation:2,changeDetection:0}),n})(),Aq=(()=>{class n{constructor(t,i,r,s,o,a,l){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._doc=a,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new te,this._animationEnd=new te,this._animationState="void",this.openedChange=new S(!0),this._openedStream=this.openedChange.pipe(En(c=>c),he(()=>{})),this.openedStart=this._animationStarted.pipe(En(c=>c.fromState!==c.toState&&0===c.toState.indexOf("open")),xq(void 0)),this._closedStream=this.openedChange.pipe(En(c=>!c),he(()=>{})),this.closedStart=this._animationStarted.pipe(En(c=>c.fromState!==c.toState&&"void"===c.toState),xq(void 0)),this._destroyed=new te,this.onPositionChanged=new S,this._modeChanged=new te,this.openedChange.subscribe(c=>{c?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Tv(this._elementRef.nativeElement,"keydown").pipe(En(c=>27===c.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(c)),gt(this._destroyed)).subscribe(c=>this._ngZone.run(()=>{this.close(),c.stopPropagation(),c.preventDefault()}))}),this._animationEnd.pipe(Zm((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{const{fromState:u,toState:d}=c;(0===d.indexOf("open")&&"void"===u||"void"===d&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=ze(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=ze(t)}get opened(){return this._opened}set opened(t){this.toggle(ze(t))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(t=>{!t&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const i=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,i){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),i)}_setOpen(t,i,r="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=r):(this._animationState="void",i&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Es(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(t2),g(hf),g(wt),g(U),g(Y,8),g($M,8))},n.\u0275cmp=xe({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&Lg("@transform.start",function(s){return i._animationStartListener(s)})("@transform.done",function(s){return i._animationDoneListener(s)}),2&t&&(Vt("align",null),Ug("@transform",i._animationState),pt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Uv,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){1&t&&(It(),C(0,"div",0),Oe(1),E())},directives:[Ad],encapsulation:2,data:{animation:[Iq.transformDrawer]},changeDetection:0}),n})(),Tq=(()=>{class n{constructor(t,i,r,s,o,a=!1,l){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Gr,this.backdropClick=new S,this._destroyed=new te,this._doCheckSubject=new te,this._contentMargins={left:null,right:null},this._contentMarginChanges=new te,t&&t.change.pipe(gt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(gt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=ze(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:ze(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Jr(this._allDrawers),gt(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Jr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ay(10),gt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(En(i=>i.fromState!==i.toState),gt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(gt(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(gt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Es(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(gt(cc(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(g(Jo,8),g(W),g(U),g(Gi),g(Td),g(iEe),g(Yo,8))},n.\u0275cmp=xe({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(bn(r,jv,5),bn(r,Aq,5)),2&t){let s;yt(s=_t())&&(i._content=s.first),yt(s=_t())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&Js(jv,5),2&t){let r;yt(r=_t())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&pt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Me([{provide:$M,useExisting:n}])],ngContentSelectors:XCe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(It(JCe),Lr(0,QCe,1,2,"div",0),Oe(1),Oe(2,1),Lr(3,YCe,2,0,"mat-drawer-content",1)),2&t&&(ht("ngIf",i.hasBackdrop),Re(3),ht("ngIf",!i._content))},directives:[au,jv],styles:[Sq],encapsulation:2,changeDetection:0}),n})(),GM=(()=>{class n extends jv{constructor(t,i,r,s,o){super(t,i,r,s,o)}}return n.\u0275fac=function(t){return new(t||n)(g(Gi),g(Xe(()=>kq)),g(W),g(Id),g(U))},n.\u0275cmp=xe({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&ja("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[P],ngContentSelectors:Uv,decls:1,vars:0,template:function(t,i){1&t&&(It(),Oe(0))},encapsulation:2,changeDetection:0}),n})(),Mq=(()=>{class n extends Aq{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=ze(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=fl(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=fl(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275cmp=xe({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(Vt("align",null),ja("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),pt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[P],ngContentSelectors:Uv,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){1&t&&(It(),C(0,"div",0),Oe(1),E())},directives:[Ad],encapsulation:2,data:{animation:[Iq.transformDrawer]},changeDetection:0}),n})(),kq=(()=>{class n extends Tq{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275cmp=xe({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(bn(r,GM,5),bn(r,Mq,5)),2&t){let s;yt(s=_t())&&(i._content=s.first),yt(s=_t())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&pt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[Me([{provide:$M,useExisting:n}]),P],ngContentSelectors:nEe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,i){1&t&&(It(tEe),Lr(0,ZCe,1,2,"div",0),Oe(1),Oe(2,1),Lr(3,eEe,2,0,"mat-sidenav-content",1)),2&t&&(ht("ngIf",i.hasBackdrop),Re(3),ht("ngIf",!i._content))},directives:[au,GM,Ad],styles:[Sq],encapsulation:2,changeDetection:0}),n})(),sEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[jh,Ut,cf,kv],kv,Ut]}),n})();const JEe={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let XEe=(()=>{class n extends zt{buildStyles(t){return JEe}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275prov=M({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Pq=(()=>{class n extends Nt{constructor(t,i,r,s){super(t,r,i,s),this.styleCache=ZEe,this.addStyles("")}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(xt),g(XEe),g(Pt))},n.\u0275dir=I({type:n,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[P]}),n})();const ZEe=new Map;let Fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[RM,xu]]}),n})(),hDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Ut],Ut]}),n})();const zM=["*"],fDe=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],pDe=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Lq=UD(ff(class{})),vDe=ff(class{}),Vq=new q("MatList"),Bq=new q("MatNavList");let bDe=(()=>{class n extends Lq{constructor(){super(...arguments),this._stateChanges=new te}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=X(n)))(i||n)}}(),n.\u0275cmp=xe({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Me([{provide:Bq,useExisting:n}]),P,Pe],ngContentSelectors:zM,decls:1,vars:0,template:function(t,i){1&t&&(It(),Oe(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),wDe=(()=>{class n extends vDe{constructor(t,i,r,s){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new te,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const o=this._getHostElement();"button"===o.nodeName.toLowerCase()&&!o.hasAttribute("type")&&o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(gt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=ze(t)}ngAfterContentInit(){!function(n,e,t="mat"){n.changes.pipe(Jr(n)).subscribe(({length:i})=>{pf(e,`${t}-2-line`,!1),pf(e,`${t}-3-line`,!1),pf(e,`${t}-multi-line`,!1),2===i||3===i?pf(e,`${t}-${i}-line`,!0):i>3&&pf(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(g(W),g(Gi),g(Bq,8),g(Vq,8))},n.\u0275cmp=xe({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(bn(r,Uq,5),bn(r,jq,5),bn(r,_2,5)),2&t){let s;yt(s=_t())&&(i._avatar=s.first),yt(s=_t())&&(i._icon=s.first),yt(s=_t())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,i){2&t&&pt("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[P],ngContentSelectors:pDe,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(It(fDe),C(0,"div",0),Te(1,"div",1),Oe(2),C(3,"div",2),Oe(4,1),E(),Oe(5,2),E()),2&t&&(Re(1),ht("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Su],encapsulation:2,changeDetection:0}),n})(),IDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[b2,$D,Ut,GD,jh],b2,Ut,GD,hDe]}),n})();const ADe=["sidenav"],TDe=function(n){return{position:n}};let MDe=(()=>{class n{constructor(t){this.renderer=t,this.posVar=!1}ngOnInit(){}toggleFnc(){this.posVar=!1,console.log(this.posVar)}}return n.\u0275fac=function(t){return new(t||n)(g(fr))},n.\u0275cmp=xe({type:n,selectors:[["app-header"]],viewQuery:function(t,i){if(1&t&&Js(ADe,5),2&t){let r;yt(r=_t())&&(i.sidenav=r.first)}},decls:37,vars:3,consts:[["color","primary"],["mat-icon-button","","fxShow","true","fxHide.gt-sm","",3,"click"],[1,"menu-spacer"],["fxShow","true","fxHide.lt-md",""],["routerLink","/home","mat-button",""],["routerLink","/products","mat-button",""],["routerLink","/cart","mat-button",""],["routerLink","/about","mat-button",""],["routerLink","/contact","mat-button",""],["fxFlexFill","",3,"ngStyle"],["sidenav",""],["href","","mat-list-item","",3,"click"],["routerLink","/home","mat-list-item",""],["routerLink","/products","mat-list-item",""],["routerLink","/cart","mat-list-item",""],["routerLink","/about","mat-list-item",""],["routerLink","/contact","mat-list-item",""],["fxFlexFill",""]],template:function(t,i){if(1&t){const r=zc();C(0,"div"),C(1,"mat-toolbar",0),C(2,"mat-toolbar-row"),C(3,"button",1),ft("click",function(){return Ra(r),Aw(22).toggle(),i.toggleFnc()}),C(4,"mat-icon"),B(5,"menu"),E(),E(),C(6,"span"),B(7,"Bub The Builder"),E(),Te(8,"span",2),C(9,"div",3),C(10,"a",4),B(11,"Home"),E(),C(12,"a",5),B(13,"Products"),E(),C(14,"a",6),B(15,"Cart"),E(),C(16,"a",7),B(17,"About"),E(),C(18,"a",8),B(19,"Contact"),E(),E(),E(),E(),C(20,"mat-sidenav-container",9),C(21,"mat-sidenav",null,10),C(23,"mat-nav-list"),C(24,"a",11),ft("click",function(){return Ra(r),Aw(22).toggle(),i.toggleFnc()}),B(25,"Close"),E(),C(26,"a",12),B(27,"Home"),E(),C(28,"a",13),B(29,"Products"),E(),C(30,"a",14),B(31,"Cart"),E(),C(32,"a",15),B(33,"About"),E(),C(34,"a",16),B(35,"Contact"),E(),E(),E(),Te(36,"mat-sidenav-content",17),E(),E()}2&t&&(Re(20),ht("ngStyle",wF(1,TDe,i.posVar?"absolute":"unset")))},directives:[Fwe,F3,TM,eq,WCe,fu,hwe,kq,Pq,xm,sq,Mq,bDe,wDe,GM],styles:[".menu-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-drawer-container[_ngcontent-%COMP%], .mat-drawer-backdrop.mat-drawer-shown[_ngcontent-%COMP%]{background-color:unset}"]}),n})(),kDe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=xe({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"footer","margin-top-5"]],template:function(t,i){1&t&&(C(0,"div",0),C(1,"h5"),B(2,"\xa9 2022 Bub The Builder "),E(),E())},styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#eee;color:#000;text-align:center}"]}),n})(),RDe=(()=>{class n{constructor(t){this.dataService=t,this.title="bubTheBuilder",this.dataService.getData().then(i=>{i.forEach(r=>{console.log(`${r.id}`),console.log(`${r.data()}`),console.log(r.data()),this.getgkeyData=r.data().appKey})})}}return n.\u0275fac=function(t){return new(t||n)(g(O3))},n.\u0275cmp=xe({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,i){1&t&&(Te(0,"app-header"),Te(1,"router-outlet"),Te(2,"app-footer"))},directives:[MDe,RE,kDe],styles:[""]}),n})(),Yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[RM]]}),n})(),Zxe=(()=>{class n{constructor(t,i){Za(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:ss,useValue:Object.assign(Object.assign({},OM),t)},{provide:NM,useValue:i,multi:!0},{provide:tc,useValue:!0}]:[{provide:ss,useValue:Object.assign(Object.assign({},OM),t)},{provide:NM,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(_(tc),_(cn))},n.\u0275mod=Ee({type:n}),n.\u0275inj=ge({imports:[[Fq,aq,Yq],Fq,aq,Yq]}),n})(),eSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ee({type:n,bootstrap:[RDe]}),n.\u0275inj=ge({providers:[],imports:[[hE,Ole,NE,Rwe,goe,Lwe,sEe,IDe,D3,zCe,Hae,Zxe,M3,yu.forRoot({apiKey:"AIzaSyBGMhLRY_yCRVmF_gM9Uu6_9WtNujiQmqo",libraries:["places"]})]]}),n})();(function(){if(r1)throw new Error("Cannot enable prod mode after platform setup.");i1=!1})(),Ete().bootstrapModule(eSe).catch(n=>console.error(n))}},rc=>{rc(rc.s=662)}]);